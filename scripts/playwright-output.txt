[dotenv@17.0.1] injecting env (0) from .env.e2e â€“ [tip] encrypt with dotenvx: https://dotenvx.com
[Playwright GLOBAL SETUP] process.env.HEADLESS: undefined
[Playwright GLOBAL SETUP] Playwright config forces headless: false
[Playwright GLOBAL SETUP] FIRESTORE_EMULATOR_HOST: 127.0.0.1:8080
[Playwright GLOBAL SETUP] FIREBASE_AUTH_EMULATOR_HOST: 127.0.0.1:9099
[Playwright GLOBAL SETUP] FIREBASE_PROJECT_ID: massage-therapy-smart-st-c7f8f
[Playwright GLOBAL SETUP] GCLOUD_PROJECT: massage-therapy-smart-st-c7f8f

Running 52 tests using 1 worker

Navigating to home page...
Filling Quiz Length...
Clicking Start button...
Clicking first quiz option...
Clicking Finish button...
Clicking Start New Quiz button...
Filling Quiz Length again...
Clicking Start button again...
Waiting for quiz loading spinner to disappear...
Waiting for quiz question card to be visible...
Number of quiz options after restart: [33m4[39m
Option 0 focused: [33mtrue[39m
Option 1 focused: [33mfalse[39m
Option 2 focused: [33mfalse[39m
Option 3 focused: [33mfalse[39m
Active element after quiz restart: <input id="quiz-option-abdominal_muscle_origins_004-0-0-48e2ed06-6a5c-4794-bd3d-e50b01decb74" aria-label="Option A: Thoracoabdominal nerves (T7â€“T11) and subcostal nerve (T12)" aria-checked="false" aria-disabled="false" role="radio" data-disabled="false" tabindex="0" data-quiz-radio="true" data-testid="quiz-radio" type="radio" name="quiz-question-abdominal_muscle_origins_004-0-48e2ed06-6a5c-4794-bd3d-e50b01decb74" style="margin-right: 12px; cursor: pointer;">
  âœ“  1 [Desktop Chrome] â€º e2e/app.spec.ts:18:1 â€º should reset quiz and focus first option after restart (5.0s)
[E2E DEBUG] Navigating to home page...
[E2E DEBUG] Filling Quiz Length...
[E2E DEBUG] Clicking Start button...
[E2E DEBUG] Waiting for quiz question card to be visible...
[E2E DEBUG] Quiz question card is visible.
[E2E DEBUG] Clicking first option...
[E2E DEBUG] Clicking second option...
[E2E DEBUG] Clicking first option again...
[E2E DEBUG] Clicking Finish button...
[E2E DEBUG] Clicking Start New Quiz button...
[E2E DEBUG] Filling Quiz Length again...
[E2E DEBUG] Clicking Start button again...
[E2E DEBUG] Waiting for quiz loading spinner to disappear...
[E2E DEBUG] Quiz loading spinner is hidden.
[E2E DEBUG] Waiting for quiz question card to be visible after restart...
[E2E DEBUG] Quiz question card is visible after restart.
  âœ“  2 [Desktop Chrome] â€º e2e/app.spec.ts:124:1 â€º should handle edge case: rapid answer selection (3.3s)
[E2E DEBUG] Quiz question object: {
  id: [32m'abdominal_muscle_origins_003'[39m,
  difficulty_rating: [1mnull[22m,
  keywords: [ [32m'abdominal muscle'[39m, [32m'torso'[39m, [32m'core'[39m ],
  question: [32m'What is the origin of the external oblique muscle?'[39m,
  long_explanation: [32m'The external oblique originates from the external surfaces of ribs 5â€“12 and inserts into the linea alba, iliac crest, and pubic tubercle. It helps with trunk rotation, lateral flexion, and abdominal compression.'[39m,
  question_type: [1mnull[22m,
  synonyms: [1mnull[22m,
  topics: [ [32m'anatomy'[39m, [32m'origins'[39m, [32m'abdominal_muscle_origins'[39m ],
  created_at: [1mnull[22m,
  difficulty_adjustment: [1mnull[22m,
  relevance_score: [1mnull[22m,
  short_explanation: [32m'The external oblique arises from ribs 5 to 12.'[39m,
  source_reference: [32m'Muscles: Testing and Function â€“ Kendall'[39m,
  tags: [ [32m'external oblique'[39m, [32m'origin'[39m, [32m'ribs'[39m ],
  difficulty: [32m'easy'[39m,
  filepath: [32m'src/data/questions/anatomy/origins/abdominal_muscle_origins.json'[39m,
  updated_at: [1mnull[22m,
  options: [
    [32m'External surfaces of ribs 5â€“12'[39m,
    [32m'Pubic tubercle'[39m,
    [32m'Iliac crest'[39m,
    [32m'Transverse processes of lumbar vertebrae'[39m
  ],
  clinical_application: [32m'Massage work on this area can ease tension from repetitive twisting or poor posture.'[39m,
  correctAnswer: [32m'External surfaces of ribs 5â€“12'[39m
}
  âœ“  3 [Desktop Chrome] â€º e2e/app.spec.ts:185:1 â€º should show explanations when enabled (3.0s)
  âœ“  4 [Desktop Chrome] â€º e2e/app.spec.ts:246:1 â€º should show topic stats in results (2.6s)
  âœ“  5 [Desktop Chrome] â€º e2e/app.spec.ts:272:1 â€º should render and be usable on mobile viewport (2.3s)
  âœ“  6 [Desktop Chrome] â€º e2e/app.spec.ts:282:1 â€º should load all referenced badge images on Achievements page (902ms)
  âœ“  7 [Desktop Chrome] â€º e2e/app.spec.ts:300:1 â€º should show fallback badge image if badge image fails to load (992ms)
  -  8 [Desktop Chrome] â€º e2e/app.spec.ts:331:6 â€º should load favicon, app icon, and default avatar image
  âœ“  9 [Desktop Chrome] â€º e2e/app.spec.ts:358:1 â€º should navigate to all main pages via NavBar and route correctly (2.3s)
  âœ“  10 [Desktop Chrome] â€º e2e/app.spec.ts:397:1 â€º should not submit answer when using arrow keys (only change selection) (3.1s)
  âœ“  11 [Desktop Chrome] â€º e2e/app.spec.ts:420:1 â€º arrow keys: wrap-around, skip disabled, and maintain selection state (3.6s)
  âœ“  12 [Desktop Chrome] â€º e2e/app.spec.ts:462:1 â€º up/down arrow keys only cycle focus on answer options, never advance quiz card (3.3s)
  âœ“  13 [Desktop Chrome] â€º e2e/app.spec.ts:489:1 â€º arrow keys: only one enabled option does not change focus or selection (2.8s)
  âœ“  14 [Desktop Chrome] â€º e2e/app.spec.ts:513:1 â€º arrow keys: all options disabled does nothing (2.6s)
All button texts on /quiz?e2e=1: [ [32m'Start Quiz'[39m, [32m'Fetch Firestore Doc'[39m ]
Quiz Length input not found on /quiz. Page HTML: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx?t=1751488581205"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><script src="https://www.googletagmanager.com/gtag/js?l=dataLayer&amp;id=G-SWVWKNWDD3" async=""></script></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div class="quiz-container" data-testid="quiz-container" role="form"><h1>Quiz</h1><div data-testid="quiz-loading" style="color: rgb(37, 99, 235); font-weight: 600; margin-bottom: 12px; display: flex; align-items: center;"><div role="status" aria-label="Loading" style="display: inline-block; width: 32px; height: 32px; border-width: 4px; border-style: solid; border-color: rgb(37, 99, 235) rgb(203, 213, 225) rgb(203, 213, 225); border-image: initial; border-radius: 50%; animation: 1s linear 0s infinite normal none running spin; margin-right: 12px; vertical-align: middle;"></div>Loading...</div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


</body></html>
  -  15 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:32:3 â€º Accessibility: ARIA roles and labels â€º Main navigation and buttons have correct ARIA roles and labels
  âœ“  16 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:111:3 â€º Accessibility: ARIA roles and labels â€º Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.4s)
  -  17 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:10:8 â€º Development Asset Troubleshooting â€º Badge image is accessible directly
  âœ“  18 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:24:3 â€º Development Asset Troubleshooting â€º App icon is accessible directly (334ms)
  âœ“  19 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:30:3 â€º Development Asset Troubleshooting â€º Achievements page renders badge containers and images (654ms)
  âœ“  20 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:58:3 â€º Development Asset Troubleshooting â€º badges.json is accessible and returns valid JSON (313ms)
Radio 0 disabled: [33mtrue[39m
Radio 1 disabled: [33mtrue[39m
Radio 2 disabled: [33mtrue[39m
Radio 3 disabled: [33mtrue[39m
  âœ“  21 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:15:3 â€º Quiz Edge Cases and Accessibility â€º Quiz with all options disabled: keyboard navigation skips disabled (2.7s)
  âœ“  22 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:58:3 â€º Quiz Edge Cases and Accessibility â€º Badge modal: opens and fallback image appears if missing (1.4s)
Tab 1: Focused element: Finish quiz
Tab 2: Focused element: BUTTON
Tab 3: Focused element: Search questions
Tab 4: Focused element: BODY
Tab 5: Focused element: Go to Quiz page
Tab 6: Focused element: Go to Achievements page
Tab 7: Focused element: Go to Analytics page
Tab 8: Focused element: Go to Profile page
Tab 9: Focused element: Quiz progress: 0%
Tab 10: Focused element: Go to question 1 (current)
Tab 11: Focused element: Option A: Thoracoabdominal nerves (T7â€“T11) and subcostal nerve (T12)
Tab 12: Focused element: Finish quiz
  âœ“  23 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:77:3 â€º Quiz Edge Cases and Accessibility â€º Tab order: all interactive elements are reachable (3.1s)
  -  24 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:116:8 â€º Quiz Edge Cases and Accessibility â€º Screen reader text: ARIA labels and roles
  âœ“  25 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:138:3 â€º Quiz Edge Cases and Accessibility â€º Mobile viewport: quiz, results, achievements (3.6s)
[E2E DEBUG] E2E test: after sign-in, before resetUserStats
[E2E DEBUG] E2E test: after resetUserStats
[E2E DEBUG] Firestore analytics doc after reset: {
  badges: [33m0[39m,
  streak: [33m0[39m,
  total: [33m1[39m,
  correct: [33m1[39m,
  streakHistory: [
    { date: [32m'2025-06-30T13:02:23.877Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:23.946Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.326Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.366Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.045Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.190Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.226Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.408Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.450Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.263Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.758Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.270Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.583Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.644Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.912Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:51.974Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:52.020Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.039Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.079Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.068Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.102Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.634Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.731Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.377Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.406Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.311Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.365Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.664Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.689Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.444Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.473Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.292Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.323Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.163Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.476Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.506Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.161Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.206Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.248Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.341Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.387Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.623Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.668Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.147Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.183Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.802Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.832Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.466Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.505Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.413Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.447Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.909Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.939Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.209Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.168Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.513Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.538Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:50.997Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:51.031Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.096Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.121Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.599Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.627Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.811Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.836Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:09.985Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:10.012Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.755Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.781Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.192Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.231Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.591Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.645Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.792Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.844Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.228Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.278Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.328Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.370Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.911Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.957Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.011Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.057Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.837Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.903Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:31:15.130Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.245Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.136Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.475Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.522Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:03.941Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:04.006Z'[39m, streak: [33m0[39m },
    ... 37 more items
  ],
  badgeProgress: { correct: [33m1[39m },
  updatedAt: [32m'2025-07-02T20:39:28.716Z'[39m,
  completed: [33m0[39m
}
[E2E DEBUG] E2E test: after goto /analytics
[E2E DEBUG] initialQuizzesTaken after reset: 0 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[E2E DEBUG] E2E test: after goto /quiz
[E2E DEBUG] E2E test: quiz-start-form found
[E2E DEBUG] E2E test: quiz length set to 1
[E2E DEBUG] E2E test: start button clicked
[E2E DEBUG] E2E test: quiz-question-card visible
[E2E DEBUG] E2E test: first quiz option clicked
[E2E DEBUG] E2E test: next/finish button clicked
[E2E DEBUG] E2E test: quiz-results visible
[E2E DEBUG] Firestore analytics doc after quiz: {
  badges: [33m0[39m,
  streak: [33m0[39m,
  total: [33m1[39m,
  correct: [33m1[39m,
  streakHistory: [
    { date: [32m'2025-06-30T13:02:23.877Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:23.946Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.326Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.366Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.045Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.190Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.226Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.408Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.450Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.263Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.758Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.270Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.583Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.644Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.912Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:51.974Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:52.020Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.039Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.079Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.068Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.102Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.634Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.731Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.377Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.406Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.311Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.365Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.664Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.689Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.444Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.473Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.292Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.323Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.163Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.476Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.506Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.161Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.206Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.248Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.341Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.387Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.623Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.668Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.147Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.183Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.802Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.832Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.466Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.505Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.413Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.447Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.909Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.939Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.209Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.168Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.513Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.538Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:50.997Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:51.031Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.096Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.121Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.599Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.627Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.811Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.836Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:09.985Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:10.012Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.755Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.781Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.192Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.231Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.591Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.645Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.792Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.844Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.228Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.278Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.328Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.370Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.911Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.957Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.011Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.057Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.837Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.903Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:31:15.130Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.245Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.136Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.475Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.522Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:03.941Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:04.006Z'[39m, streak: [33m0[39m },
    ... 39 more items
  ],
  badgeProgress: { correct: [33m1[39m },
  completed: [33m2[39m,
  updatedAt: [32m'2025-07-02T20:40:41.779Z'[39m
}
[E2E DEBUG] Poll #1 after quiz: Quizzes Taken: 2 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[E2E DEBUG] updatedQuizzesTaken: 2 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  âœ“  26 [Desktop Chrome] â€º e2e/stats-persistence.spec.ts:49:3 â€º Stats Persistence â€º should persist updated stats after quiz and reload (8.1s)
Navigating to home page...
Filling Quiz Length...
Clicking Start button...
Clicking first quiz option...
Clicking Finish button...
Clicking Start New Quiz button...
Filling Quiz Length again...
Clicking Start button again...
Waiting for quiz loading spinner to disappear...
Waiting for quiz question card to be visible...
Number of quiz options after restart: [33m4[39m
Option 0 focused: [33mtrue[39m
Option 1 focused: [33mfalse[39m
Option 2 focused: [33mfalse[39m
Option 3 focused: [33mfalse[39m
Active element after quiz restart: <input id="quiz-option-abdominal_muscle_origins_004-0-0-5d3417d6-60e2-4f69-b3a1-8075dbdef02c" aria-label="Option A: Thoracoabdominal nerves (T7â€“T11) and subcostal nerve (T12)" aria-checked="false" aria-disabled="false" role="radio" data-disabled="false" tabindex="0" data-quiz-radio="true" data-testid="quiz-radio" type="radio" name="quiz-question-abdominal_muscle_origins_004-0-5d3417d6-60e2-4f69-b3a1-8075dbdef02c" style="margin-right: 12px; cursor: pointer;">
  âœ“  27 [Mobile Chrome] â€º e2e/app.spec.ts:18:1 â€º should reset quiz and focus first option after restart (4.9s)
[E2E DEBUG] Navigating to home page...
[E2E DEBUG] Filling Quiz Length...
[E2E DEBUG] Clicking Start button...
[E2E DEBUG] Waiting for quiz question card to be visible...
[E2E DEBUG] Quiz question card is visible.
[E2E DEBUG] Clicking first option...
[E2E DEBUG] Clicking second option...
[E2E DEBUG] Clicking first option again...
[E2E DEBUG] Clicking Finish button...
[E2E DEBUG] Clicking Start New Quiz button...
[E2E DEBUG] Filling Quiz Length again...
[E2E DEBUG] Clicking Start button again...
[E2E DEBUG] Waiting for quiz loading spinner to disappear...
[E2E DEBUG] Quiz loading spinner is hidden.
[E2E DEBUG] Waiting for quiz question card to be visible after restart...
[E2E DEBUG] Quiz question card is visible after restart.
  âœ“  28 [Mobile Chrome] â€º e2e/app.spec.ts:124:1 â€º should handle edge case: rapid answer selection (3.3s)
[E2E DEBUG] Quiz question object: {
  id: [32m'abdominal_muscle_origins_001'[39m,
  difficulty_rating: [1mnull[22m,
  keywords: [ [32m'pubic crest'[39m, [32m'abdominal muscle'[39m, [32m'origin'[39m ],
  question: [32m'What is the origin of the rectus abdominis muscle?'[39m,
  long_explanation: [32m'The rectus abdominis muscle originates from the pubic crest and pubic symphysis and inserts on the xiphoid process and costal cartilages of ribs 5â€“7. It plays a vital role in trunk flexion and intra-abdominal pressure regulation.'[39m,
  question_type: [1mnull[22m,
  synonyms: [1mnull[22m,
  topics: [ [32m'anatomy'[39m, [32m'origins'[39m, [32m'abdominal_muscle_origins'[39m ],
  created_at: [1mnull[22m,
  difficulty_adjustment: [1mnull[22m,
  relevance_score: [1mnull[22m,
  short_explanation: [32m'The rectus abdominis originates from the pubic crest and symphysis.'[39m,
  source_reference: [32m'Trail Guide to the Body â€“ Biel'[39m,
  tags: [ [32m'rectus abdominis'[39m, [32m'origin'[39m, [32m'core muscles'[39m ],
  difficulty: [32m'easy'[39m,
  filepath: [32m'src/data/questions/anatomy/origins/abdominal_muscle_origins.json'[39m,
  updated_at: [1mnull[22m,
  options: [
    [32m'Pubic crest and pubic symphysis'[39m,
    [32m'Xiphoid process'[39m,
    [32m'Iliac crest'[39m,
    [32m'Costal cartilages of ribs 5-7'[39m
  ],
  clinical_application: [32m'Understanding this helps massage therapists treat lower abdominal strain or address postural imbalance in anterior pelvic tilt.'[39m,
  correctAnswer: [32m'Pubic crest and pubic symphysis'[39m
}
  âœ“  29 [Mobile Chrome] â€º e2e/app.spec.ts:185:1 â€º should show explanations when enabled (2.5s)
  âœ“  30 [Mobile Chrome] â€º e2e/app.spec.ts:246:1 â€º should show topic stats in results (2.2s)
  âœ“  31 [Mobile Chrome] â€º e2e/app.spec.ts:272:1 â€º should render and be usable on mobile viewport (2.1s)
  âœ“  32 [Mobile Chrome] â€º e2e/app.spec.ts:282:1 â€º should load all referenced badge images on Achievements page (534ms)
  âœ“  33 [Mobile Chrome] â€º e2e/app.spec.ts:300:1 â€º should show fallback badge image if badge image fails to load (541ms)
  -  34 [Mobile Chrome] â€º e2e/app.spec.ts:331:6 â€º should load favicon, app icon, and default avatar image
  âœ“  35 [Mobile Chrome] â€º e2e/app.spec.ts:358:1 â€º should navigate to all main pages via NavBar and route correctly (1.1s)
  âœ“  36 [Mobile Chrome] â€º e2e/app.spec.ts:397:1 â€º should not submit answer when using arrow keys (only change selection) (2.7s)
  âœ“  37 [Mobile Chrome] â€º e2e/app.spec.ts:420:1 â€º arrow keys: wrap-around, skip disabled, and maintain selection state (3.3s)
  âœ“  38 [Mobile Chrome] â€º e2e/app.spec.ts:462:1 â€º up/down arrow keys only cycle focus on answer options, never advance quiz card (2.8s)
  âœ“  39 [Mobile Chrome] â€º e2e/app.spec.ts:489:1 â€º arrow keys: only one enabled option does not change focus or selection (2.1s)
  âœ“  40 [Mobile Chrome] â€º e2e/app.spec.ts:513:1 â€º arrow keys: all options disabled does nothing (2.1s)
All button texts on /quiz?e2e=1: [ [32m'Start Quiz'[39m, [32m'Fetch Firestore Doc'[39m ]
Quiz Length input not found on /quiz. Page HTML: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx?t=1751488581205"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><script src="https://apis.google.com/js/api.js?onload=__iframefcb560505" type="text/javascript" charset="UTF-8"></script></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div class="quiz-container" data-testid="quiz-container" role="form"><h1>Quiz</h1><div data-testid="quiz-loading" style="color: rgb(37, 99, 235); font-weight: 600; margin-bottom: 12px; display: flex; align-items: center;"><div role="status" aria-label="Loading" style="display: inline-block; width: 32px; height: 32px; border-width: 4px; border-style: solid; border-color: rgb(37, 99, 235) rgb(203, 213, 225) rgb(203, 213, 225); border-image: none; border-radius: 50%; animation: 1s linear infinite spin; margin-right: 12px; vertical-align: middle;"></div>Loading...</div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


</body></html>
  -  41 [Mobile Chrome] â€º e2e/aria-roles-labels.spec.ts:32:3 â€º Accessibility: ARIA roles and labels â€º Main navigation and buttons have correct ARIA roles and labels
  âœ“  42 [Mobile Chrome] â€º e2e/aria-roles-labels.spec.ts:111:3 â€º Accessibility: ARIA roles and labels â€º Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.0s)
  -  43 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:10:8 â€º Development Asset Troubleshooting â€º Badge image is accessible directly
  âœ“  44 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:24:3 â€º Development Asset Troubleshooting â€º App icon is accessible directly (163ms)
  âœ“  45 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:30:3 â€º Development Asset Troubleshooting â€º Achievements page renders badge containers and images (687ms)
  âœ“  46 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:58:3 â€º Development Asset Troubleshooting â€º badges.json is accessible and returns valid JSON (163ms)
Radio 0 disabled: [33mtrue[39m
Radio 1 disabled: [33mtrue[39m
Radio 2 disabled: [33mtrue[39m
Radio 3 disabled: [33mtrue[39m
  âœ“  47 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:15:3 â€º Quiz Edge Cases and Accessibility â€º Quiz with all options disabled: keyboard navigation skips disabled (2.6s)
  âœ“  48 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:58:3 â€º Quiz Edge Cases and Accessibility â€º Badge modal: opens and fallback image appears if missing (732ms)
Tab 1: Focused element: Search questions
Tab 2: Focused element: BODY
Tab 3: Focused element: Quiz progress: 0%
Tab 4: Focused element: Option A: Intercostal nerves (T7â€“T11) and subcostal nerve (T12)
Tab 5: Focused element: Search questions
Tab 6: Focused element: BODY
Tab 7: Focused element: Quiz progress: 0%
Tab 8: Focused element: Option A: Intercostal nerves (T7â€“T11) and subcostal nerve (T12)
Tab 9: Focused element: Search questions
Tab 10: Focused element: BODY
Tab 11: Focused element: Quiz progress: 0%
Tab 12: Focused element: Option A: Intercostal nerves (T7â€“T11) and subcostal nerve (T12)
  âœ“  49 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:77:3 â€º Quiz Edge Cases and Accessibility â€º Tab order: all interactive elements are reachable (2.3s)
  -  50 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:116:8 â€º Quiz Edge Cases and Accessibility â€º Screen reader text: ARIA labels and roles
  âœ“  51 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:138:3 â€º Quiz Edge Cases and Accessibility â€º Mobile viewport: quiz, results, achievements (2.6s)
[E2E DEBUG] E2E test: after sign-in, before resetUserStats
[E2E DEBUG] E2E test: after resetUserStats
[E2E DEBUG] Firestore analytics doc after reset: {
  badges: [33m0[39m,
  streak: [33m0[39m,
  total: [33m1[39m,
  correct: [33m1[39m,
  streakHistory: [
    { date: [32m'2025-06-30T13:02:23.877Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:23.946Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.326Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.366Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.045Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.190Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.226Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.408Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.450Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.263Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.758Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.270Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.583Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.644Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.912Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:51.974Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:52.020Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.039Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.079Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.068Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.102Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.634Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.731Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.377Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.406Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.311Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.365Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.664Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.689Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.444Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.473Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.292Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.323Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.163Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.476Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.506Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.161Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.206Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.248Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.341Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.387Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.623Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.668Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.147Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.183Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.802Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.832Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.466Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.505Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.413Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.447Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.909Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.939Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.209Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.168Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.513Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.538Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:50.997Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:51.031Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.096Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.121Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.599Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.627Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.811Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.836Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:09.985Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:10.012Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.755Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.781Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.192Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.231Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.591Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.645Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.792Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.844Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.228Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.278Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.328Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.370Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.911Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.957Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.011Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.057Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.837Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.903Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:31:15.130Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.245Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.136Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.475Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.522Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:03.941Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:04.006Z'[39m, streak: [33m0[39m },
    ... 39 more items
  ],
  badgeProgress: { correct: [33m1[39m },
  updatedAt: [32m'2025-07-02T20:40:41.779Z'[39m,
  completed: [33m0[39m
}
[E2E DEBUG] E2E test: after goto /analytics
[E2E DEBUG] initialQuizzesTaken after reset: 0 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[E2E DEBUG] E2E test: after goto /quiz
[E2E DEBUG] E2E test: quiz-start-form found
[E2E DEBUG] E2E test: quiz length set to 1
[E2E DEBUG] E2E test: start button clicked
[E2E DEBUG] E2E test: quiz-question-card visible
[E2E DEBUG] E2E test: first quiz option clicked
[E2E DEBUG] E2E test: next/finish button clicked
[E2E DEBUG] E2E test: quiz-results visible
[E2E DEBUG] Firestore analytics doc after quiz: {
  badges: [33m0[39m,
  streak: [33m0[39m,
  total: [33m1[39m,
  correct: [33m1[39m,
  streakHistory: [
    { date: [32m'2025-06-30T13:02:23.877Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:23.946Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.326Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:26.366Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:28.045Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.190Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.226Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.408Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:02:32.450Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.009Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.263Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:45.758Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.270Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:49.583Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.644Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:50.912Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:51.974Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-06-30T13:03:52.020Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.039Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:23.079Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.068Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:34.102Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.634Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:29:59.731Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.377Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:04.406Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.311Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:06.365Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.664Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:22.689Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.444Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:30:27.473Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.292Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:33.323Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.163Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:32:43.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.476Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:07.506Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.161Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:12.206Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:14.248Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.341Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:31.387Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.623Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T00:33:36.668Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.147Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:27.183Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.802Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:30.832Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.466Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T01:59:35.505Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.413Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:45.447Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.909Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:00:49.939Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:07.209Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.168Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:03:12.200Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.513Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:47.538Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:50.997Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:04:51.031Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.096Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:31.121Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.599Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:05:46.627Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.811Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:07:22.836Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:09.985Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:09:10.012Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.755Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:10:21.781Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.192Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:11:25.231Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.591Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:12:23.645Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.792Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:13:32.844Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.228Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:30.278Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.328Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:20:45.370Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.911Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:22:38.957Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.011Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:24:04.057Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.837Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:30:29.903Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:31:15.130Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.201Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:34.245Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.136Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:44.180Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.475Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:33:54.522Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:03.941Z'[39m, streak: [33m0[39m },
    { date: [32m'2025-07-01T02:34:04.006Z'[39m, streak: [33m0[39m },
    ... 41 more items
  ],
  badgeProgress: { correct: [33m1[39m },
  completed: [33m2[39m,
  updatedAt: [32m'2025-07-02T20:41:36.965Z'[39m
}
[E2E DEBUG] Poll #1 after quiz: Quizzes Taken: 2 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[E2E DEBUG] updatedQuizzesTaken: 2 string userUid: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  âœ“  52 [Mobile Chrome] â€º e2e/stats-persistence.spec.ts:49:3 â€º Stats Persistence â€º should persist updated stats after quiz and reload (7.8s)

  8 skipped
  44 passed (2.0m)
