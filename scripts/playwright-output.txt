
Running 180 tests using 4 workers

  -  1 [Desktop Chrome] › e2e/app.critical-flow.spec.ts:5:6 › should start quiz and focus first option
  ✓  4 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on / have accessible names and ARIA roles (1.5s)
  ✓  6 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /quiz have accessible names and ARIA roles (689ms)
  ✓  7 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /achievements have accessible names and ARIA roles (690ms)
  ✓  8 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /analytics have accessible names and ARIA roles (547ms)
  ✓  5 [Desktop Chrome] › e2e/app.spec.ts:3:1 › should reset quiz and focus first option after restart (3.8s)
  ✓  9 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /profile have accessible names and ARIA roles (620ms)
  ✓  11 [Desktop Chrome] › e2e/assets-case-sensitivity.spec.ts:11:1 › Badge image is served by Vite dev server (case-sensitive) (16ms)
  ✓  12 [Desktop Chrome] › e2e/assets-case-sensitivity.spec.ts:17:1 › No case-different files in public/badges/ (1ms)
  -  13 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:10:8 › Development Asset Troubleshooting › Badge image is accessible directly
  ✓  10 [Desktop Chrome] › e2e/app.spec.ts:21:1 › should handle edge case: no questions (678ms)
  ✓  14 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:24:3 › Development Asset Troubleshooting › App icon is accessible directly (394ms)
  ✓  2 [Desktop Chrome] › e2e/app-accessibility-full.spec.ts:45:3 › App Accessibility: Full Tab Order and ARIA Audit › Tab through all main pages and assert focus order/visibility (4.8s)
  ✓  16 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images (621ms)
  ✓  17 [Desktop Chrome] › e2e/app-accessibility-full.spec.ts:89:3 › App Accessibility: Full Tab Order and ARIA Audit › No missing or duplicate ARIA labels/roles on main interactive elements (604ms)
  ✓  18 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:45:3 › Development Asset Troubleshooting › badges.json is accessible and returns valid JSON (389ms)
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  he
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: warning [2025-06-29T22:55:57.980Z]  @firebase/firestore: Firestore (11.9.0): WebChannelConnection RPC 'Listen' stream 0x6e9b12d6 transport errored. Name: undefined Message: undefined
BROWSER CONSOLE: error [2025-06-29T22:55:57.981Z]  @firebase/firestore: Firestore (11.9.0): Could not reach Cloud Firestore backend. Connection failed 1 times. Most recent error: FirebaseError: [code=unavailable]: The operation could not be completed
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
BROWSER CONSOLE: info %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  ✓  19 [Desktop Chrome] › e2e/auth-session-persistence.spec.ts:18:3 › Auth Session Persistence › should persist session after reload (1.2s)
  ✓  20 [Desktop Chrome] › e2e/auth-smoke.spec.ts:4:1 › auth smoke: can sign in and see user info (1.3s)
  ✓  21 [Desktop Chrome] › e2e/auth.spec.ts:5:3 › Authentication UI Flows › should show sign-in prompt on Analytics when unauthenticated (637ms)
  ✓  3 [Desktop Chrome] › e2e/aria-roles-labels.spec.ts:31:3 › Accessibility: ARIA roles and labels › Main navigation and buttons have correct ARIA roles and labels (7.6s)
  ✓  15 [Desktop Chrome] › e2e/app.spec.ts:30:1 › should handle edge case: rapid answer selection (3.2s)
  ✓  22 [Desktop Chrome] › e2e/badge-appearance.spec.ts:13:2 › Local badge images (UI login) › All key badges appear on Achievements page (1.5s)
  ✓  26 [Desktop Chrome] › e2e/badge-dynamic-behavior.spec.ts:5:1 › badges.json has correct criteria and image fields (7ms)
  ✓  23 [Desktop Chrome] › e2e/auth.spec.ts:10:3 › Authentication UI Flows › should show sign-in button and open popup on Profile page (1.7s)
  ✓  24 [Desktop Chrome] › e2e/aria-roles-labels.spec.ts:71:3 › Accessibility: ARIA roles and labels › Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.7s)
  ✓  27 [Desktop Chrome] › e2e/badge-dynamic-behavior.spec.ts:24:1 › badge_test image is visible and loads (882ms)
  ✓  28 [Desktop Chrome] › e2e/auth.spec.ts:26:3 › Authentication UI Flows › should show sign-in button after sign out click (UI only) (616ms)
  ✓  29 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to / (750ms)
  ✓  32 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /quiz (610ms)
  ✓  25 [Desktop Chrome] › e2e/app.spec.ts:42:1 › should show explanations when enabled (3.4s)
  ✓  33 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /analytics (569ms)
  ✓  35 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /profile (603ms)
  ✓  30 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:4:3 › Critical Quiz Edge Cases and Accessibility › Partial answers: finish quiz with unanswered questions (2.9s)
  -  37 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:22:8 › Critical Quiz Edge Cases and Accessibility › Network failure: loading questions
  ✓  31 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:4:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz UI, results, and modals are visible and usable (3.5s)
  ✓  39 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:25:3 › Critical UI and Accessibility Scenarios › Badge modals: only one open at a time, keyboard accessible (690ms)
  ✓  34 [Desktop Chrome] › e2e/app.spec.ts:51:1 › should show topic stats in results (2.9s)
  ✓  40 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:45:3 › Critical UI and Accessibility Scenarios › Badge modal: open with keyboard only (Tab + Enter/Space) (797ms)
  ✓  36 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:4:3 › Quiz Edge Cases and Accessibility › Quiz with all options disabled: keyboard navigation skips disabled (3.4s)
  ✓  38 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:35:3 › Critical Quiz Edge Cases and Accessibility › ARIA attributes: quiz options and navigation (3.2s)
  ✓  44 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:57:3 › Critical Quiz Edge Cases and Accessibility › Badges: tab, open with Enter/Space, close with Escape, focus returns (849ms)
  ✓  43 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:21:3 › Quiz Edge Cases and Accessibility › Badge modal: opens and fallback image appears if missing (1.0s)
  ✓  41 [Desktop Chrome] › e2e/app.spec.ts:63:1 › should render and be usable on mobile viewport (3.1s)
  ✓  42 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:60:3 › Critical UI and Accessibility Scenarios › Next button: always rendered, but hidden or disabled as appropriate (2.8s)
  ✓  47 [Desktop Chrome] › e2e/app.spec.ts:73:1 › should load all referenced badge images on Achievements page (586ms)
  ✓  49 [Desktop Chrome] › e2e/app.spec.ts:91:1 › should show fallback badge image if badge image fails to load (932ms)
  -  50 [Desktop Chrome] › e2e/app.spec.ts:122:6 › should load favicon, app icon, and default avatar image
  ✓  46 [Desktop Chrome] › e2e/finish-quiz-buttons.spec.ts:4:3 › Finish and Finish Quiz Buttons › completes quiz and shows results with Finish button (2.8s)
  ✓  45 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:40:3 › Quiz Edge Cases and Accessibility › Tab order: all interactive elements are reachable (3.2s)
  -  53 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:55:8 › Quiz Edge Cases and Accessibility › Screen reader text: ARIA labels and roles
  ✓  51 [Desktop Chrome] › e2e/app.spec.ts:149:1 › should navigate to all main pages via NavBar and route correctly (1.3s)
  ✓  52 [Desktop Chrome] › e2e/finish-quiz-buttons.spec.ts:19:3 › Finish and Finish Quiz Buttons › shows Finish Quiz button and works as expected (2.8s)
  ✓  54 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:77:3 › Quiz Edge Cases and Accessibility › Mobile viewport: quiz, results, achievements (3.3s)
Number of topic options: [33m482[39m
  ✓  55 [Desktop Chrome] › e2e/app.spec.ts:188:1 › should not submit answer when using arrow keys (only change selection) (3.1s)
  ✓  48 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:75:3 › Critical UI and Accessibility Scenarios › Quiz cannot be started without required fields (5.6s)
  ✓  57 [Desktop Chrome] › e2e/login-flow.spec.ts:5:3 › Sign In Flow (UI) › shows sign-in prompt when not authenticated (575ms)
  ✓  59 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:111:3 › Critical UI and Accessibility Scenarios › Badge modal fallback image and keyboard navigation (712ms)
  ✓  61 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:127:3 › Critical UI and Accessibility Scenarios › Network failure: badge load (603ms)
  ✓  60 [Desktop Chrome] › e2e/login-flow.spec.ts:11:3 › Sign In Flow (UI) › signs in with test form and shows user profile (1.3s)
  ✓  56 [Desktop Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:4:3 › Keyboard-Only Navigation and Quiz Restart › Complete a quiz using direct element selection/clicks (3.3s)
  ✓  63 [Desktop Chrome] › e2e/login-flow.spec.ts:19:3 › Sign In Flow (UI) › signs out and returns to guest state (1.4s)

  ✓  58 [Desktop Chrome] › e2e/app.spec.ts:211:1 › arrow keys: wrap-around, skip disabled, and maintain selection state (3.9s)
  ✓  62 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:133:3 › Critical UI and Accessibility Scenarios › Accessibility: ARIA roles and labels (2.8s)
  -  67 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:156:8 › Critical UI and Accessibility Scenarios › Tab order is logical for quiz controls
  ✓  64 [Desktop Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:22:3 › Keyboard-Only Navigation and Quiz Restart › Quiz restart resets all state and focus (3.1s)
  ✓  68 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:169:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz and results are usable (2.8s)
  -  70 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:181:8 › Critical UI and Accessibility Scenarios › Quiz stepper: skip, revisit, answer in any order
  -  71 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:200:8 › Critical UI and Accessibility Scenarios › Error boundary: UI does not crash on JS error in quiz
  ✓  66 [Desktop Chrome] › e2e/app.spec.ts:253:1 › up/down arrow keys only cycle focus on answer options, never advance quiz card (3.6s)
  ✓  72 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:207:3 › Critical UI and Accessibility Scenarios › Badge modal: top-right close button closes modal (621ms)
  -  74 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:6:8 › Quiz Auto-Save and Resume › Auto-saves progress for guest (localStorage) and resumes on reload
  -  75 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:26:8 › Quiz Auto-Save and Resume › Shows cancel/exit confirmation dialog when leaving quiz
  -  76 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:43:8 › Quiz Partial Results › Shows partial results and highlights unanswered questions
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: null
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {ariaSound: true, darkMode: false, haptic: false, showExplanations: true, email: test1234@gmail.com}
[browser][log] [DEBUG] Loaded settings: {ariaSound: true, darkMode: false, haptic: false, showExplanations: true, email: test1234@gmail.com}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {email: test1234@gmail.com, ariaSound: true, showExplanations: true, haptic: false, darkMode: true}
[browser][log] [DEBUG] Loaded settings: {email: test1234@gmail.com, ariaSound: true, showExplanations: true, haptic: false, darkMode: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
  ✓  69 [Desktop Chrome] › e2e/profile-update.spec.ts:16:3 › Profile Settings Persistence › can toggle dark mode and see it persist after reload (3.0s)
  ✓  65 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page / has correct ARIA roles and keyboard navigation (5.5s)

  ✓  73 [Desktop Chrome] › e2e/app.spec.ts:280:1 › arrow keys: only one enabled option does not change focus or selection (3.3s)
  ✓  77 [Desktop Chrome] › e2e/quiz-keyboard-navigation.spec.ts:23:3 › Quiz keyboard navigation › ArrowDown/ArrowUp do not select or submit answers (3.4s)
  ✓  78 [Desktop Chrome] › e2e/quiz-option-accessibility.spec.ts:4:3 › Quiz Option Accessibility › Each quiz option has correct ARIA attributes and is keyboard accessible (3.1s)
  ✓  80 [Desktop Chrome] › e2e/app.spec.ts:304:1 › arrow keys: all options disabled does nothing (3.0s)
  ✓  81 [Desktop Chrome] › e2e/quiz-keyboard-navigation.spec.ts:54:3 › Quiz keyboard navigation › Enter/Space select and submit, Arrow keys do not (5.1s)
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-current="step" aria-label="Go to question 1 (answered) (current)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot" aria-label="Go to question 2" role="button" data-testid="quiz-stepper-dot"></button>
Button: 'Previous', enabled: false, visible: true, html: <button disabled="" aria-label="Previous question" role="button" aria-disabled="true">Previous</button>
Button: 'Next', enabled: true, visible: true, html: <button aria-label="Next question" role="button" aria-disabled="false" tabindex="0" data-testid="quiz-next-btn" style="visibility: visible;">Next</button>
Button: 'Finish', enabled: true, visible: true, html: <button aria-label="Finish quiz early" role="button" aria-disabled="false">Finish</button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot answered" aria-label="Go to question 1 (answered)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-label="Go to question 2 (answered) (current)" role="button" data-testid="quiz-stepper-dot" aria-current="step"></button>
Button: 'Previous', enabled: true, visible: true, html: <button aria-label="Previous question" role="button" aria-disabled="false">Previous</button>
Button: 'Next', enabled: false, visible: false, html: <button disabled="" aria-label="Next question" role="button" aria-disabled="true" tabindex="-1" data-testid="quiz-next-btn" style="visibility: hidden;">Next</button>
Button: 'Finish Quiz', enabled: true, visible: true, html: <button aria-label="Finish quiz" role="button" aria-disabled="false">Finish Quiz</button>
  ✓  79 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /quiz has correct ARIA roles and keyboard navigation (8.7s)
User A initial stat: 92
Final Quizzes Taken text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 442Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Correct Answers text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 442Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Accuracy text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 442Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Topic Stats text: abdominal_muscle_origins
2 / 2 correct
Initial/Updated Quizzes Taken: [33m0[39m [33m442[39m
Initial/Updated Correct: [33m0[39m [33m442[39m
Initial/Updated Accuracy: [33m0[39m [33m442[39m
Initial/Updated Topic Correct: [33m2[39m [33m2[39m
  ✓  82 [Desktop Chrome] › e2e/quiz-stats-live-update.spec.ts:6:3 › Quiz Stats Live Update › Stats and topic stats update after quiz completion (7.6s)
  -  86 [Desktop Chrome] › e2e/stats-persistence-firestore.spec.ts:19:8 › Stats Persistence with Firestore Backend Verification › UI stats and Firestore stats match and persist after quiz and reload
  ✓  85 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /analytics has correct ARIA roles and keyboard navigation (2.7s)

  ✓  88 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /profile has correct ARIA roles and keyboard navigation (3.3s)
User A updated stat: 94
User B stat: 0
User A final stat: 94
  ✓  84 [Desktop Chrome] › e2e/stats-isolation-per-user.spec.ts:44:3 › Stats Isolation per User › stats should not leak between users (10.9s)
  ✓  87 [Desktop Chrome] › e2e/stats-persistence.spec.ts:41:3 › Stats Persistence › should persist updated stats after quiz and reload (8.1s)
  ✓  91 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on / have accessible names and ARIA roles (1.0s)
  ✓  90 [Desktop Chrome] › e2e/ui-auth-smoke.spec.ts:15:1 › UI auth: can sign in via login form and see profile (3.0s)
  ✓  92 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /quiz have accessible names and ARIA roles (726ms)
  ✓  93 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /achievements have accessible names and ARIA roles (353ms)
  ✓  94 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /analytics have accessible names and ARIA roles (344ms)
  ✓  96 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /profile have accessible names and ARIA roles (589ms)
  -  97 [Mobile Chrome] › e2e/app.critical-flow.spec.ts:5:6 › should start quiz and focus first option
  ✓  83 [Desktop Chrome] › e2e/stats-critical-flows.spec.ts:41:3 › Stats Critical Flows › should increment Quizzes Taken after each quiz (18.4s)
  ✓  95 [Mobile Chrome] › e2e/app-accessibility-full.spec.ts:45:3 › App Accessibility: Full Tab Order and ARIA Audit › Tab through all main pages and assert focus order/visibility (2.7s)
  ✓  100 [Mobile Chrome] › e2e/app-accessibility-full.spec.ts:89:3 › App Accessibility: Full Tab Order and ARIA Audit › No missing or duplicate ARIA labels/roles on main interactive elements (297ms)
  ✓  101 [Mobile Chrome] › e2e/assets-case-sensitivity.spec.ts:11:1 › Badge image is served by Vite dev server (case-sensitive) (18ms)
  ✓  102 [Mobile Chrome] › e2e/assets-case-sensitivity.spec.ts:17:1 › No case-different files in public/badges/ (1ms)
  -  103 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:10:8 › Development Asset Troubleshooting › Badge image is accessible directly
  ✓  98 [Mobile Chrome] › e2e/app.spec.ts:3:1 › should reset quiz and focus first option after restart (2.7s)
  ✓  104 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:24:3 › Development Asset Troubleshooting › App icon is accessible directly (165ms)
  ✓  105 [Mobile Chrome] › e2e/app.spec.ts:21:1 › should handle edge case: no questions (272ms)
DOM snapshot: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div><h2>Achievements</h2><div data-testid="badge-empty" style="color: orange; margin-bottom: 16px;">No badges to display. (Debug: badge list is empty but no error was thrown.)</div><div style="display: flex; flex-wrap: wrap; gap: 24px;"></div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


</body></html>
  ✘  106 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images (320ms)
  ✓  89 [Desktop Chrome] › e2e/stats-topic-breakdown.spec.ts:13:3 › Stats Topic Breakdown › should increment topic breakdown after quiz in specific topic (11.6s)
DOM snapshot: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><script src="https://apis.google.com/js/api.js?onload=__iframefcb524462" type="text/javascript" charset="UTF-8"></script></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div><h2>Achievements</h2><div style="display: flex; flex-wrap: wrap; gap: 24px;"><div data-testid="badge-container" tabindex="0" role="button" aria-label="Open badge modal for badge: First Quiz" style="text-align: center;"><img alt="First Quiz" loading="eager" data-testid="badge-awarded" src="/badges/first_quiz.png" style="width: 80px; height: 80px; border-radius: 16px; background: rgba(255, 255, 255, 0.2); box-shadow: rgba(0, 0, 0, 0.08) 0px 2px 8px; opacity: 1;"><div style="margin-top: 8px;">First Quiz</div></div><div data-testid="badge-container" tabindex="0" role="button" aria-label="Open badge modal for badge: Accuracy 100%" style="text-align: center;"><img alt="Accuracy 100%" loading="eager" data-testid="badge-unawarded" src="/badges/accuracy_100.png" style="width: 80px; height: 80px; border-radius: 16px; background: rgba(255, 255, 255, 0.2); box-shadow: rgba(0, 0, 0, 0.08) 0px 2px 8px; opacity: 0.5;"><div style="margin-top: 8px;">Accuracy 100%</div></div><div data-testid="badge-container" tabindex="0" role="button" aria-label="Open badge modal for badge: Test Badge" style="text-align: center;"><img alt="Test Badge" loading="eager" data-testid="badge-awarded" src="/badges/badge_test.png" style="width: 80px; height: 80px; border-radius: 16px; background: rgba(255, 255, 255, 0.2); box-shadow: rgba(0, 0, 0, 0.08) 0px 2px 8px; opacity: 1;"><div style="margin-top: 8px;">Test Badge</div></div></div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


</body></html>
  ✘  108 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images (retry #1) (719ms)
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.iFs_Bhrqdio.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo-IvlQWaLHZdUKQFbafXd_3OEvU9Q/cb=gapi.loaded_0?le=scs" async=""></script><script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBAS
BROWSER CONSOLE: log [E2E DEBUG] Profile user: null
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: warning [2025-06-29T22:56:51.372Z]  @firebase/firestore: Firestore (11.9.0): WebChannelConnection RPC 'Listen' stream 0x36f839dc transport errored. Name: undefined Message: undefined
BROWSER CONSOLE: error [2025-06-29T22:56:51.372Z]  @firebase/firestore: Firestore (11.9.0): Could not reach Cloud Firestore backend. Connection failed 1 times. Most recent error: FirebaseError: [code=unavailable]: The operation could not be completed
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  ✓  109 [Mobile Chrome] › e2e/auth-session-persistence.spec.ts:18:3 › Auth Session Persistence › should persist session after reload (1.7s)
  ✓  110 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:45:3 › Development Asset Troubleshooting › badges.json is accessible and returns valid JSON (472ms)
  ✓  112 [Mobile Chrome] › e2e/auth.spec.ts:5:3 › Authentication UI Flows › should show sign-in prompt on Analytics when unauthenticated (344ms)
  ✓  107 [Mobile Chrome] › e2e/app.spec.ts:30:1 › should handle edge case: rapid answer selection (3.2s)
  ✓  111 [Mobile Chrome] › e2e/auth-smoke.spec.ts:4:1 › auth smoke: can sign in and see user info (1.7s)
  ✓  113 [Mobile Chrome] › e2e/auth.spec.ts:10:3 › Authentication UI Flows › should show sign-in button and open popup on Profile page (1.4s)
  ✓  116 [Mobile Chrome] › e2e/auth.spec.ts:26:3 › Authentication UI Flows › should show sign-in button after sign out click (UI only) (508ms)
  ✓  117 [Mobile Chrome] › e2e/badge-dynamic-behavior.spec.ts:5:1 › badges.json has correct criteria and image fields (39ms)
  ✓  99 [Mobile Chrome] › e2e/aria-roles-labels.spec.ts:31:3 › Accessibility: ARIA roles and labels › Main navigation and buttons have correct ARIA roles and labels (6.8s)
  ✓  118 [Mobile Chrome] › e2e/badge-dynamic-behavior.spec.ts:24:1 › badge_test image is visible and loads (478ms)
  ✓  114 [Mobile Chrome] › e2e/app.spec.ts:42:1 › should show explanations when enabled (2.5s)
  ✓  120 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to / (311ms)
  ✓  115 [Mobile Chrome] › e2e/badge-appearance.spec.ts:13:2 › Local badge images (UI login) › All key badges appear on Achievements page (1.6s)
  ✓  122 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /quiz (360ms)
  ✓  124 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /analytics (358ms)
  ✓  119 [Mobile Chrome] › e2e/aria-roles-labels.spec.ts:71:3 › Accessibility: ARIA roles and labels › Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.4s)
  ✓  125 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /profile (400ms)
  ✓  121 [Mobile Chrome] › e2e/app.spec.ts:51:1 › should show topic stats in results (3.2s)
  ✓  123 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:4:3 › Critical Quiz Edge Cases and Accessibility › Partial answers: finish quiz with unanswered questions (2.9s)
  -  129 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:22:8 › Critical Quiz Edge Cases and Accessibility › Network failure: loading questions
  ✓  126 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:4:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz UI, results, and modals are visible and usable (2.7s)
  ✓  127 [Mobile Chrome] › e2e/edge-accessibility.spec.ts:4:3 › Quiz Edge Cases and Accessibility › Quiz with all options disabled: keyboard navigation skips disabled (2.4s)
  -  131 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:25:3 › Critical UI and Accessibility Scenarios › Badge modals: only one open at a time, keyboard accessible
  ✓  132 [Mobile Chrome] › e2e/edge-accessibility.spec.ts:21:3 › Quiz Edge Cases and Accessibility › Badge modal: opens and fallback image appears if missing (525ms)
  ✓  133 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:45:3 › Critical UI and Accessibility Scenarios › Badge modal: open with keyboard only (Tab + Enter/Space) (490ms)
  ✓  130 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:35:3 › Critical Quiz Edge Cases and Accessibility › ARIA attributes: quiz options and navigation (2.6s)
  ✓  128 [Mobile Chrome] › e2e/app.spec.ts:63:1 › should render and be usable on mobile viewport (2.8s)
  ✓  136 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:57:3 › Critical Quiz Edge Cases and Accessibility › Badges: tab, open with Enter/Space, close with Escape, focus returns (458ms)
  ✓  137 [Mobile Chrome] › e2e/app.spec.ts:73:1 › should load all referenced badge images on Achievements page (741ms)
  ✓  139 [Mobile Chrome] › e2e/app.spec.ts:91:1 › should show fallback badge image if badge image fails to load (493ms)
  -  140 [Mobile Chrome] › e2e/app.spec.ts:122:6 › should load favicon, app icon, and default avatar image
  ✓  134 [Mobile Chrome] › e2e/edge-accessibility.spec.ts:40:3 › Quiz Edge Cases and Accessibility › Tab order: all interactive elements are reachable (3.0s)
  -  142 [Mobile Chrome] › e2e/edge-accessibility.spec.ts:55:8 › Quiz Edge Cases and Accessibility › Screen reader text: ARIA labels and roles
  ✓  135 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:60:3 › Critical UI and Accessibility Scenarios › Next button: always rendered, but hidden or disabled as appropriate (3.0s)
  ✓  141 [Mobile Chrome] › e2e/app.spec.ts:149:1 › should navigate to all main pages via NavBar and route correctly (653ms)
  ✓  138 [Mobile Chrome] › e2e/finish-quiz-buttons.spec.ts:4:3 › Finish and Finish Quiz Buttons › completes quiz and shows results with Finish button (3.1s)
  ✓  143 [Mobile Chrome] › e2e/edge-accessibility.spec.ts:77:3 › Quiz Edge Cases and Accessibility › Mobile viewport: quiz, results, achievements (3.0s)
Number of topic options: [33m482[39m
  ✓  144 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:75:3 › Critical UI and Accessibility Scenarios › Quiz cannot be started without required fields (3.2s)
  ✓  148 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:111:3 › Critical UI and Accessibility Scenarios › Badge modal fallback image and keyboard navigation (385ms)
  ✓  145 [Mobile Chrome] › e2e/app.spec.ts:188:1 › should not submit answer when using arrow keys (only change selection) (3.3s)
  ✓  149 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:127:3 › Critical UI and Accessibility Scenarios › Network failure: badge load (324ms)
  ✓  146 [Mobile Chrome] › e2e/finish-quiz-buttons.spec.ts:19:3 › Finish and Finish Quiz Buttons › shows Finish Quiz button and works as expected (3.2s)
  ✓  147 [Mobile Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:4:3 › Keyboard-Only Navigation and Quiz Restart › Complete a quiz using direct element selection/clicks (2.9s)
  ✓  152 [Mobile Chrome] › e2e/login-flow.spec.ts:5:3 › Sign In Flow (UI) › shows sign-in prompt when not authenticated (414ms)
  ✓  154 [Mobile Chrome] › e2e/login-flow.spec.ts:11:3 › Sign In Flow (UI) › signs in with test form and shows user profile (1.5s)
  ✓  150 [Mobile Chrome] › e2e/app.spec.ts:211:1 › arrow keys: wrap-around, skip disabled, and maintain selection state (3.7s)
  ✓  151 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:133:3 › Critical UI and Accessibility Scenarios › Accessibility: ARIA roles and labels (3.7s)
  -  157 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:156:8 › Critical UI and Accessibility Scenarios › Tab order is logical for quiz controls
  ✓  153 [Mobile Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:22:3 › Keyboard-Only Navigation and Quiz Restart › Quiz restart resets all state and focus (3.1s)
  ✓  155 [Mobile Chrome] › e2e/login-flow.spec.ts:19:3 › Sign In Flow (UI) › signs out and returns to guest state (1.8s)

  ✓  158 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:169:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz and results are usable (2.7s)
  -  161 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:181:8 › Critical UI and Accessibility Scenarios › Quiz stepper: skip, revisit, answer in any order
  -  162 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:200:8 › Critical UI and Accessibility Scenarios › Error boundary: UI does not crash on JS error in quiz
  ✓  163 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:207:3 › Critical UI and Accessibility Scenarios › Badge modal: top-right close button closes modal (444ms)
  -  164 [Mobile Chrome] › e2e/quiz-autosave-partial-results.spec.ts:6:8 › Quiz Auto-Save and Resume › Auto-saves progress for guest (localStorage) and resumes on reload
  -  165 [Mobile Chrome] › e2e/quiz-autosave-partial-results.spec.ts:26:8 › Quiz Auto-Save and Resume › Shows cancel/exit confirmation dialog when leaving quiz
  -  166 [Mobile Chrome] › e2e/quiz-autosave-partial-results.spec.ts:43:8 › Quiz Partial Results › Shows partial results and highlights unanswered questions
  ✓  156 [Mobile Chrome] › e2e/app.spec.ts:253:1 › up/down arrow keys only cycle focus on answer options, never advance quiz card (3.5s)
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: null
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, haptic: false, showExplanations: true, email: test1234@gmail.com, ariaSound: true}
[browser][log] [DEBUG] Loaded settings: {darkMode: true, haptic: false, showExplanations: true, email: test1234@gmail.com, ariaSound: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {email: test1234@gmail.com, ariaSound: true, showExplanations: true, haptic: false, darkMode: false}
[browser][log] [DEBUG] Loaded settings: {email: test1234@gmail.com, ariaSound: true, showExplanations: true, haptic: false, darkMode: false}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
  ✓  160 [Mobile Chrome] › e2e/profile-update.spec.ts:16:3 › Profile Settings Persistence › can toggle dark mode and see it persist after reload (3.2s)
  ✓  168 [Mobile Chrome] › e2e/app.spec.ts:280:1 › arrow keys: only one enabled option does not change focus or selection (2.7s)
  ✓  159 [Mobile Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page / has correct ARIA roles and keyboard navigation (4.8s)

  ✓  167 [Mobile Chrome] › e2e/quiz-keyboard-navigation.spec.ts:23:3 › Quiz keyboard navigation › ArrowDown/ArrowUp do not select or submit answers (3.7s)
  ✓  169 [Mobile Chrome] › e2e/quiz-option-accessibility.spec.ts:4:3 › Quiz Option Accessibility › Each quiz option has correct ARIA attributes and is keyboard accessible (2.8s)
  ✓  170 [Mobile Chrome] › e2e/app.spec.ts:304:1 › arrow keys: all options disabled does nothing (2.9s)
  ✓  172 [Mobile Chrome] › e2e/quiz-keyboard-navigation.spec.ts:54:3 › Quiz keyboard navigation › Enter/Space select and submit, Arrow keys do not (2.9s)
User A initial stat: 94
  ✓  171 [Mobile Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /quiz has correct ARIA roles and keyboard navigation (7.7s)

  ✓  176 [Mobile Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /analytics has correct ARIA roles and keyboard navigation (2.5s)
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-current="step" aria-label="Go to question 1 (answered) (current)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot" aria-label="Go to question 2" role="button" data-testid="quiz-stepper-dot"></button>
Button: 'Previous', enabled: false, visible: true, html: <button disabled="" aria-label="Previous question" role="button" aria-disabled="true">Previous</button>
Button: 'Next', enabled: true, visible: true, html: <button aria-label="Next question" role="button" aria-disabled="false" tabindex="0" data-testid="quiz-next-btn" style="visibility: visible;">Next</button>
Button: 'Finish', enabled: true, visible: true, html: <button aria-label="Finish quiz early" role="button" aria-disabled="false">Finish</button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot answered" aria-label="Go to question 1 (answered)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-label="Go to question 2 (answered) (current)" role="button" data-testid="quiz-stepper-dot" aria-current="step"></button>
Button: 'Previous', enabled: true, visible: true, html: <button aria-label="Previous question" role="button" aria-disabled="false">Previous</button>
Button: 'Next', enabled: false, visible: false, html: <button disabled="" aria-label="Next question" role="button" aria-disabled="true" tabindex="-1" data-testid="quiz-next-btn" style="visibility: hidden;">Next</button>
Button: 'Finish Quiz', enabled: true, visible: true, html: <button aria-label="Finish quiz" role="button" aria-disabled="false">Finish Quiz</button>
  ✓  177 [Mobile Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /profile has correct ARIA roles and keyboard navigation (2.5s)
  -  178 [Mobile Chrome] › e2e/stats-persistence-firestore.spec.ts:19:8 › Stats Persistence with Firestore Backend Verification › UI stats and Firestore stats match and persist after quiz and reload
Final Quizzes Taken text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 452Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins0 / 10 correctQuiz Activity (Last 14 Days)
Final Correct Answers text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 452Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins0 / 10 correctQuiz Activity (Last 14 Days)
Final Accuracy text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 452Correct Answers: 0 / 10Accuracy: 0%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins0 / 10 correctQuiz Activity (Last 14 Days)
Final Topic Stats text: abdominal_muscle_origins
0 / 10 correct

Initial/Updated Quizzes Taken: [33m0[39m [33m452[39m
Initial/Updated Correct: [33m0[39m [33m452[39m
Initial/Updated Accuracy: [33m0[39m [33m452[39m
Initial/Updated Topic Correct: [33m0[39m [33m0[39m
  ✓  173 [Mobile Chrome] › e2e/quiz-stats-live-update.spec.ts:6:3 › Quiz Stats Live Update › Stats and topic stats update after quiz completion (11.7s)
User A updated stat: 96
User B stat: 0
User A final stat: 96
  ✓  175 [Mobile Chrome] › e2e/stats-isolation-per-user.spec.ts:44:3 › Stats Isolation per User › stats should not leak between users (14.0s)
  ✓  181 [Mobile Chrome] › e2e/ui-auth-smoke.spec.ts:15:1 › UI auth: can sign in via login form and see profile (2.5s)
  ✓  180 [Mobile Chrome] › e2e/stats-topic-breakdown.spec.ts:13:3 › Stats Topic Breakdown › should increment topic breakdown after quiz in specific topic (8.0s)
  ✓  174 [Mobile Chrome] › e2e/stats-critical-flows.spec.ts:41:3 › Stats Critical Flows › should increment Quizzes Taken after each quiz (18.6s)
  ✓  179 [Mobile Chrome] › e2e/stats-persistence.spec.ts:41:3 › Stats Persistence › should persist updated stats after quiz and reload (11.1s)


  1) [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m

    Expected: > [32m0[39m
    Received:   [31m0[39m

      36 |       console.log('DOM snapshot:', dom);
      37 |     }
    > 38 |     expect(badgeContainers).toBeGreaterThan(0);
         |                             ^
      39 |     // Check for at least one badge image
      40 |     const badgeImgs = await page.locator('img[src*="badges/"]').count();
      41 |     expect(badgeImgs).toBeGreaterThan(0);
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/assets-troubleshoot.spec.ts:38:29

    Error Context: test-results/assets-troubleshoot-Develo-93878-badge-containers-and-images-Mobile-Chrome/error-context.md

    Retry #1 ───────────────────────────────────────────────────────────────────────────────────────

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m

    Expected: > [32m0[39m
    Received:   [31m0[39m

      36 |       console.log('DOM snapshot:', dom);
      37 |     }
    > 38 |     expect(badgeContainers).toBeGreaterThan(0);
         |                             ^
      39 |     // Check for at least one badge image
      40 |     const badgeImgs = await page.locator('img[src*="badges/"]').count();
      41 |     expect(badgeImgs).toBeGreaterThan(0);
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/assets-troubleshoot.spec.ts:38:29

    Error Context: test-results/assets-troubleshoot-Develo-93878-badge-containers-and-images-Mobile-Chrome-retry1/error-context.md

  1 failed
    [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images 
  25 skipped
  154 passed (1.8m)
