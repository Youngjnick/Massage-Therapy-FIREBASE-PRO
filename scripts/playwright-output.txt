
Running 196 tests using 4 workers

  -  1 [Desktop Chrome] â€º e2e/app.critical-flow.spec.ts:5:6 â€º should start quiz and focus first option
Navigating to home page...
  âœ“  4 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on / have accessible names and ARIA roles (2.1s)
Filling Quiz Length...
  âœ“  6 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /quiz have accessible names and ARIA roles (837ms)
  âœ“  7 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /achievements have accessible names and ARIA roles (625ms)
  âœ“  8 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /analytics have accessible names and ARIA roles (600ms)
  âœ“  9 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /profile have accessible names and ARIA roles (642ms)
  âœ“  10 [Desktop Chrome] â€º e2e/assets-case-sensitivity.spec.ts:11:1 â€º Badge image is served by Vite dev server (case-sensitive) (27ms)
  âœ“  11 [Desktop Chrome] â€º e2e/assets-case-sensitivity.spec.ts:17:1 â€º No case-different files in public/badges/ (2ms)
  -  12 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:10:8 â€º Development Asset Troubleshooting â€º Badge image is accessible directly
  âœ“  13 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:24:3 â€º Development Asset Troubleshooting â€º App icon is accessible directly (363ms)
  âœ“  2 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:45:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º Tab through all main pages and assert focus order/visibility (5.3s)
  âœ“  14 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:30:3 â€º Development Asset Troubleshooting â€º Achievements page renders badge containers and images (600ms)
  âœ“  15 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:89:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º No missing or duplicate ARIA labels/roles on main interactive elements (696ms)
  âœ“  16 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:58:3 â€º Development Asset Troubleshooting â€º badges.json is accessible and returns valid JSON (394ms)
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  he
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: log [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
BROWSER CONSOLE: log [DEBUG] Loaded settings: {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
BROWSER CONSOLE: info %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
BROWSER CONSOLE: log Connected to Firestore emulator at localhost:8080
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: log [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
BROWSER CONSOLE: log [DEBUG] Loaded settings: {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
BROWSER CONSOLE: log [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
BROWSER CONSOLE: log [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
  âœ“  18 [Desktop Chrome] â€º e2e/auth-session-persistence.spec.ts:18:3 â€º Auth Session Persistence â€º should persist session after reload (1.2s)
  âœ“  19 [Desktop Chrome] â€º e2e/auth-smoke.spec.ts:4:1 â€º auth smoke: can sign in and see user info (1.2s)
All button texts on /quiz?e2e=1: [ [32m'Start Quiz'[39m ]
  âœ“  20 [Desktop Chrome] â€º e2e/auth.spec.ts:6:3 â€º Authentication UI Flows â€º should show sign-in prompt on Analytics when unauthenticated (1.1s)
Quiz Length input not found on /quiz. Page HTML: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><script src="https://www.googletagmanager.com/gtag/js?l=dataLayer&amp;id=G-SWVWKNWDD3" async=""></script></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div class="quiz-container" data-testid="quiz-container" role="form"><h1>Quiz</h1><div data-testid="quiz-loading" style="color: rgb(37, 99, 235); font-weight: 600; margin-bottom: 12px; display: flex; align-items: center;"><div role="status" aria-label="Loading" style="display: inline-block; width: 32px; height: 32px; border-width: 4px; border-style: solid; border-color: rgb(37, 99, 235) rgb(203, 213, 225) rgb(203, 213, 225); border-image: initial; border-radius: 50%; animation: 1s linear 0s infinite normal none running spin; margin-right: 12px; vertical-align: middle;"></div>Loading...</div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


</body></html>
Navigated to /profile
Sign-in button is visible
Clicking Start button...
Clicking first quiz option...
  âœ“  17 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:114:3 â€º App Accessibility: Full Tab Order and ARIA Audit (Mobile) â€º Tab through all main pages and assert focus order/visibility (Mobile) (4.9s)
Clicking Finish button...
Clicking Start New Quiz button...
Filling Quiz Length again...
Clicking Start button again...
Waiting for quiz loading spinner to disappear...
Waiting for quiz question card to be visible...
Popup opened event detected
  -  5 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:32:3 â€º Accessibility: ARIA roles and labels â€º Main navigation and buttons have correct ARIA roles and labels
  âœ“  21 [Desktop Chrome] â€º e2e/auth.spec.ts:11:3 â€º Authentication UI Flows â€º should show sign-in button and open popup on Profile page (1.8s)
  âœ“  24 [Desktop Chrome] â€º e2e/auth.spec.ts:45:3 â€º Authentication UI Flows â€º should show sign-in button after sign out click (UI only) (720ms)
Number of quiz options after restart: [33m4[39m
  âœ“  25 [Desktop Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:6:1 â€º badges.json has correct criteria and image fields (65ms)
  âœ“  22 [Desktop Chrome] â€º e2e/badge-appearance.spec.ts:13:2 â€º Local badge images (UI login) â€º All key badges appear on Achievements page (1.5s)
Option 0 focused: [33mtrue[39m
Option 1 focused: [33mfalse[39m
Option 2 focused: [33mfalse[39m
Option 3 focused: [33mfalse[39m
Active element after quiz restart: <input id="quiz-option-abdominal_muscle_origins_001-0-0-34a9144e-ede8-4b2c-8125-9bfa654165f4" aria-label="Option A: Pubic crest and pubic symphysis" aria-checked="false" aria-disabled="false" role="radio" data-disabled="false" tabindex="0" data-quiz-radio="true" data-testid="quiz-radio" type="radio" name="quiz-question-abdominal_muscle_origins_001-0-34a9144e-ede8-4b2c-8125-9bfa654165f4" style="margin-right: 12px; cursor: pointer;">
  âœ“  3 [Desktop Chrome] â€º e2e/app.spec.ts:18:1 â€º should reset quiz and focus first option after restart (12.5s)
  âœ“  26 [Desktop Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:25:1 â€º badge_test image is visible and loads (753ms)
  -  29 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:5:8 â€º Critical Quiz Edge Cases and Accessibility â€º Partial answers: finish quiz with unanswered questions
  -  30 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:24:8 â€º Critical Quiz Edge Cases and Accessibility â€º Network failure: loading questions
  âœ“  27 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to / (837ms)
  âœ“  23 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:111:3 â€º Accessibility: ARIA roles and labels â€º Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.7s)
[E2E DEBUG] Navigating to home page...
[E2E DEBUG] Filling Quiz Length...
  âœ“  32 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /quiz (791ms)
  âœ“  34 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /analytics (577ms)
  âœ“  35 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /profile (1.1s)
[E2E DEBUG] Clicking Start button...
Filled Quiz Length input by label
[E2E DEBUG] Waiting for quiz question card to be visible...
[E2E DEBUG] Quiz question card is visible.
[E2E DEBUG] Clicking first option...
  âœ“  31 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:37:3 â€º Critical Quiz Edge Cases and Accessibility â€º ARIA attributes: quiz options and navigation (3.6s)
[E2E DEBUG] Clicking second option...
[E2E DEBUG] Clicking first option again...
[E2E DEBUG] Clicking Finish button...
[E2E DEBUG] Clicking Start New Quiz button...
[E2E DEBUG] Filling Quiz Length again...
[E2E DEBUG] Clicking Start button again...
[E2E DEBUG] Waiting for quiz loading spinner to disappear...
[E2E DEBUG] Quiz loading spinner is hidden.
[E2E DEBUG] Waiting for quiz question card to be visible after restart...
[E2E DEBUG] Quiz question card is visible after restart.
  âœ“  28 [Desktop Chrome] â€º e2e/app.spec.ts:124:1 â€º should handle edge case: rapid answer selection (5.0s)
  âœ“  37 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:97:3 â€º Critical Quiz Edge Cases and Accessibility â€º Badges: tab, open with Enter/Space, close with Escape, focus returns (1.0s)
Radio 0 disabled: [33mtrue[39m
Radio 1 disabled: [33mtrue[39m
Radio 2 disabled: [33mtrue[39m
Radio 3 disabled: [33mtrue[39m
  âœ“  36 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:5:3 â€º Quiz Edge Cases and Accessibility â€º Quiz with all options disabled: keyboard navigation skips disabled (2.8s)
  âœ“  40 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:33:3 â€º Quiz Edge Cases and Accessibility â€º Badge modal: opens and fallback image appears if missing (1.0s)
  âœ“  38 [Desktop Chrome] â€º e2e/app.spec.ts:185:1 â€º should show explanations when enabled (2.9s)
Tab 1: Focused element: Finish quiz
Tab 2: Focused element: Search questions
Tab 3: Focused element: BODY
Tab 4: Focused element: Go to Quiz page
Tab 5: Focused element: Go to Achievements page
Tab 6: Focused element: Go to Analytics page
Tab 7: Focused element: Go to Profile page
Tab 8: Focused element: Quiz progress: 0%
Tab 9: Focused element: Go to question 1 (current)
Tab 10: Focused element: Option A: Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)
Tab 11: Focused element: Finish quiz
Tab 12: Focused element: Search questions
  âœ“  41 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:52:3 â€º Quiz Edge Cases and Accessibility â€º Tab order: all interactive elements are reachable (2.3s)
  -  43 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:79:8 â€º Quiz Edge Cases and Accessibility â€º Screen reader text: ARIA labels and roles
  âœ“  42 [Desktop Chrome] â€º e2e/app.spec.ts:216:1 â€º should show topic stats in results (2.7s)
  âœ“  44 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:101:3 â€º Quiz Edge Cases and Accessibility â€º Mobile viewport: quiz, results, achievements (2.6s)
  âœ“  45 [Desktop Chrome] â€º e2e/app.spec.ts:242:1 â€º should render and be usable on mobile viewport (2.4s)
  âœ“  47 [Desktop Chrome] â€º e2e/app.spec.ts:252:1 â€º should load all referenced badge images on Achievements page (1.1s)
  âœ“  46 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:18:3 â€º Mobile Accessibility: Focus Indicator on Quiz â€º Tabs through all interactive elements and checks visible focus indicator (2.3s)
  âœ“  48 [Desktop Chrome] â€º e2e/app.spec.ts:270:1 â€º should show fallback badge image if badge image fails to load (1.1s)
  -  50 [Desktop Chrome] â€º e2e/app.spec.ts:301:6 â€º should load favicon, app icon, and default avatar image
  âœ“  49 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:84:3 â€º Mobile Accessibility: Focus Indicator on Achievements â€º Tabs through all interactive elements and checks visible focus indicator (1.4s)
  âœ“  52 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:143:3 â€º Mobile Accessibility: Focus Indicator on Analytics â€º Tabs through all interactive elements and checks visible focus indicator (1.5s)
  âœ“  51 [Desktop Chrome] â€º e2e/app.spec.ts:328:1 â€º should navigate to all main pages via NavBar and route correctly (2.4s)
  âœ“  54 [Desktop Chrome] â€º e2e/app.spec.ts:367:1 â€º should not submit answer when using arrow keys (only change selection) (2.9s)
  âœ“  53 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:202:3 â€º Mobile Accessibility: Focus Indicator on Profile â€º Tabs through all interactive elements and checks visible focus indicator (3.4s)
  âœ˜  33 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:6:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable (20.8s)
  âœ“  56 [Desktop Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:4:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Complete a quiz using direct element selection/clicks (2.9s)
  âœ“  55 [Desktop Chrome] â€º e2e/app.spec.ts:390:1 â€º arrow keys: wrap-around, skip disabled, and maintain selection state (4.0s)
  âœ“  58 [Desktop Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:22:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Quiz restart resets all state and focus (2.9s)
Number of quiz options (mobile): [33m4[39m
  âœ“  60 [Desktop Chrome] â€º e2e/login-flow.spec.ts:5:3 â€º Sign In Flow (UI) â€º shows sign-in prompt when not authenticated (721ms)
  âœ“  57 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:6:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable (retry #1) (3.7s)
  âœ“  62 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:56:3 â€º Critical UI and Accessibility Scenarios â€º Badge modals: only one open at a time, keyboard accessible (746ms)
  âœ“  61 [Desktop Chrome] â€º e2e/login-flow.spec.ts:11:3 â€º Sign In Flow (UI) â€º signs in with test form and shows user profile (1.1s)
  âœ“  59 [Desktop Chrome] â€º e2e/app.spec.ts:432:1 â€º up/down arrow keys only cycle focus on answer options, never advance quiz card (3.8s)
  âœ“  63 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:76:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: open with keyboard only (Tab + Enter/Space) (629ms)
  âœ“  64 [Desktop Chrome] â€º e2e/login-flow.spec.ts:19:3 â€º Sign In Flow (UI) â€º signs out and returns to guest state (1.5s)

  âœ“  65 [Desktop Chrome] â€º e2e/app.spec.ts:459:1 â€º arrow keys: only one enabled option does not change focus or selection (3.0s)
  âœ“  66 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:91:3 â€º Critical UI and Accessibility Scenarios â€º Next button: always rendered, but hidden or disabled as appropriate (3.0s)
  âœ“  67 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page / has correct ARIA roles and keyboard navigation (3.5s)

  âœ“  68 [Desktop Chrome] â€º e2e/app.spec.ts:483:1 â€º arrow keys: all options disabled does nothing (4.1s)
  âœ“  69 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:106:3 â€º Critical UI and Accessibility Scenarios â€º Quiz cannot be started without required fields (3.7s)
  âœ˜  39 [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:4:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button (30.1s)
  âœ“  72 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:140:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal fallback image and keyboard navigation (1.0s)
  âœ“  70 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /quiz has correct ARIA roles and keyboard navigation (3.3s)
  âœ“  73 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:156:3 â€º Critical UI and Accessibility Scenarios â€º Network failure: badge load (601ms)
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] Connected to Firestore emulator at localhost:8080
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: null
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
[browser][log] [DEBUG] Loaded settings: {haptic: false, ariaSound: true, darkMode: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] Connected to Firestore emulator at localhost:8080
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
[browser][log] [DEBUG] Loaded settings: {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
  âœ“  71 [Desktop Chrome] â€º e2e/profile-update.spec.ts:16:3 â€º Profile Settings Persistence â€º can toggle dark mode and see it persist after reload (2.9s)
  -  77 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:6:8 â€º Quiz Auto-Save and Resume â€º Auto-saves progress for guest (localStorage) and resumes on reload
  -  78 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:26:8 â€º Quiz Auto-Save and Resume â€º Shows cancel/exit confirmation dialog when leaving quiz
  -  79 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:43:8 â€º Quiz Partial Results â€º Shows partial results and highlights unanswered questions
  âœ“  74 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /analytics has correct ARIA roles and keyboard navigation (3.3s)
  âœ“  75 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:162:3 â€º Critical UI and Accessibility Scenarios â€º Accessibility: ARIA roles and labels (3.7s)
  -  82 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:185:8 â€º Critical UI and Accessibility Scenarios â€º Tab order is logical for quiz controls

  âœ“  76 [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:4:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button (retry #1) (4.9s)
  âœ“  80 [Desktop Chrome] â€º e2e/quiz-keyboard-navigation.spec.ts:23:3 â€º Quiz keyboard navigation â€º ArrowDown/ArrowUp do not select or submit answers (5.8s)
  âœ“  81 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /profile has correct ARIA roles and keyboard navigation (4.1s)
  âœ“  83 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:198:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz and results are usable (3.7s)
  -  87 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:210:8 â€º Critical UI and Accessibility Scenarios â€º Quiz stepper: skip, revisit, answer in any order
  -  88 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:229:8 â€º Critical UI and Accessibility Scenarios â€º Error boundary: UI does not crash on JS error in quiz
  âœ“  89 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:236:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: top-right close button closes modal (1.4s)
  âœ“  84 [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:19:3 â€º Finish and Finish Quiz Buttons â€º shows Finish Quiz button and works as expected (3.7s)
[E2E DEBUG] Quiz option 0: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option A: Pubic crest and pubic symphysis'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'false'[39m,
  tabIndex: [32m'0'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_001-0-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_001-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  checked: [33mfalse[39m,
  disabled: [33mfalse[39m
}
[E2E DEBUG] Quiz option 1: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option B: Xiphoid process'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_001-1-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_001-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
[E2E DEBUG] Quiz option 2: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option C: Iliac crest'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_001-2-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_001-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
[E2E DEBUG] Quiz option 3: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option D: Costal cartilages of ribs 5-7'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_001-3-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_001-0-90548edf-7479-46a2-8bf2-51dbb1beee57'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
  âœ“  86 [Desktop Chrome] â€º e2e/quiz-option-accessibility.spec.ts:10:3 â€º Quiz Option Accessibility â€º Each quiz option has correct ARIA attributes and is keyboard accessible (4.1s)
  âœ“  85 [Desktop Chrome] â€º e2e/quiz-keyboard-navigation.spec.ts:54:3 â€º Quiz keyboard navigation â€º Enter/Space select and submit, Arrow keys do not (4.5s)
  -  93 [Desktop Chrome] â€º e2e/stats-persistence-firestore.spec.ts:19:8 â€º Stats Persistence with Firestore Backend Verification â€º UI stats and Firestore stats match and persist after quiz and reload
User A initial stat: 4
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-current="step" aria-label="Go to question 1 (answered) (current)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot" aria-label="Go to question 2" role="button" data-testid="quiz-stepper-dot"></button>
Button: 'Previous', enabled: false, visible: true, html: <button disabled="" aria-label="Previous question" role="button" aria-disabled="true">Previous</button>
Button: 'Next', enabled: true, visible: true, html: <button aria-label="Next question" role="button" aria-disabled="false" tabindex="0" data-testid="quiz-next-btn" style="visibility: visible;">Next</button>
Button: 'Finish', enabled: true, visible: true, html: <button aria-label="Finish quiz early" role="button" aria-disabled="false">Finish</button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot answered" aria-label="Go to question 1 (answered)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-label="Go to question 2 (answered) (current)" role="button" data-testid="quiz-stepper-dot" aria-current="step"></button>
Button: 'Previous', enabled: true, visible: true, html: <button aria-label="Previous question" role="button" aria-disabled="false">Previous</button>
Button: 'Next', enabled: false, visible: false, html: <button disabled="" aria-label="Next question" role="button" aria-disabled="true" tabindex="-1" data-testid="quiz-next-btn" style="visibility: hidden;">Next</button>
Button: 'Finish Quiz', enabled: true, visible: true, html: <button aria-label="Finish quiz" role="button" aria-disabled="false">Finish Quiz</button>
Final Quizzes Taken text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 25Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Correct Answers text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 25Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Accuracy text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 25Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Topic Stats text: abdominal_muscle_origins
1 / 1 correct
Initial/Updated Quizzes Taken: [33m0[39m [33m25[39m
Initial/Updated Correct: [33m0[39m [33m25[39m
Initial/Updated Accuracy: [33m0[39m [33m25[39m
Initial/Updated Topic Correct: [33m0[39m [33m1[39m
  âœ“  90 [Desktop Chrome] â€º e2e/quiz-stats-live-update.spec.ts:6:3 â€º Quiz Stats Live Update â€º Stats and topic stats update after quiz completion (8.9s)
  âœ“  94 [Desktop Chrome] â€º e2e/stats-persistence.spec.ts:41:3 â€º Stats Persistence â€º should persist updated stats after quiz and reload (7.6s)
User A updated stat: 6
  âœ“  91 [Desktop Chrome] â€º e2e/stats-critical-flows.spec.ts:41:3 â€º Stats Critical Flows â€º should increment Quizzes Taken after each quiz (10.8s)
  -  97 [Desktop Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º quiz page matches visual snapshot
  -  98 [Desktop Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º profile page matches visual snapshot
  -  99 [Desktop Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º achievements page matches visual snapshot
  -  100 [Desktop Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º analytics page matches visual snapshot
User B stat: 0
User A final stat: 0
  âœ˜  92 [Desktop Chrome] â€º e2e/stats-isolation-per-user.spec.ts:44:3 â€º Stats Isolation per User â€º stats should not leak between users (11.2s)
  âœ“  96 [Desktop Chrome] â€º e2e/ui-auth-smoke.spec.ts:15:1 â€º UI auth: can sign in via login form and see profile (3.6s)
  âœ“  101 [Mobile Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on / have accessible names and ARIA roles (1.2s)
  âœ“  95 [Desktop Chrome] â€º e2e/stats-topic-breakdown.spec.ts:13:3 â€º Stats Topic Breakdown â€º should increment topic breakdown after quiz in specific topic (5.7s)
  -  103 [Mobile Chrome] â€º e2e/app.critical-flow.spec.ts:5:6 â€º should start quiz and focus first option
  âœ“  102 [Mobile Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /quiz have accessible names and ARIA roles (460ms)
  âœ“  105 [Mobile Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /achievements have accessible names and ARIA roles (784ms)
  âœ“  107 [Mobile Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /analytics have accessible names and ARIA roles (936ms)
User A initial stat: 0
Navigating to home page...
Filling Quiz Length...
  âœ“  109 [Mobile Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:21:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /profile have accessible names and ARIA roles (1.4s)
  âœ“  106 [Mobile Chrome] â€º e2e/app-accessibility-full.spec.ts:45:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º Tab through all main pages and assert focus order/visibility (4.6s)
  âœ“  111 [Mobile Chrome] â€º e2e/app-accessibility-full.spec.ts:89:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º No missing or duplicate ARIA labels/roles on main interactive elements (889ms)
Clicking Start button...
Clicking first quiz option...
Clicking Finish button...
Clicking Start New Quiz button...
Filling Quiz Length again...
Clicking Start button again...
Waiting for quiz loading spinner to disappear...
Waiting for quiz question card to be visible...
All button texts on /quiz?e2e=1: [ [32m'Start Quiz'[39m ]
Number of quiz options after restart: [33m4[39m
Quiz Length input not found on /quiz. Page HTML: <!DOCTYPE html><html lang="en"><head>
  <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.iFs_Bhrqdio.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo-IvlQWaLHZdUKQFbafXd_3OEvU9Q/cb=gapi.loaded_0?le=scs" async=""></script><script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><script src="https://apis.google.com/js/api.js?onload=__iframefcb772799" type="text/javascript" charset="UTF-8" gapi_processed="true"></script><script src="https://www.googletagmanager.com/gtag/js?l=dataLayer&amp;id=G-SWVWKNWDD3" async=""></script></head>
<body>
  <div id="root"><header class="app-header"><img alt="App Icon" class="app-header__icon" src="/icon-512x512.png"><div class="app-header__titles"><span class="app-header__title-bold">Massage Therapy</span><span class="app-header__title-regular">Smart Study PRO</span></div></header><nav class="navbar" role="navigation" aria-label="Main navigation"><ul><li><a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a></li><li><a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a></li><li><a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a></li><li><a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a></li></ul></nav><main class="main-content" role="main"><div class="quiz-container" data-testid="quiz-container" role="form"><h1>Quiz</h1><div data-testid="quiz-loading" style="color: rgb(37, 99, 235); font-weight: 600; margin-bottom: 12px; display: flex; align-items: center;"><div role="status" aria-label="Loading" style="display: inline-block; width: 32px; height: 32px; border-width: 4px; border-style: solid; border-color: rgb(37, 99, 235) rgb(203, 213, 225) rgb(203, 213, 225); border-image: none; border-radius: 50%; animation: 1s linear infinite spin; margin-right: 12px; vertical-align: middle;"></div>Loading...</div></div></main><footer class="app-footer"><input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text"></footer></div>


<iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" tabindex="-1" vspace="0" width="100%" aria-hidden="true" id="I0_1751310296756" name="I0_1751310296756" src="https://massage-therapy-smart-st-c7f8f.firebaseapp.com/__/auth/iframe?apiKey=AIzaSyANzEDUkGjM0M6L6dwZd1-TaOy1olo_6OM&amp;appName=%5BDEFAULT%5D&amp;v=11.9.0&amp;eid=p&amp;usegapi=1&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.en.iFs_Bhrqdio.O%2Fd%3D1%2Frs%3DAHpOoo-IvlQWaLHZdUKQFbafXd_3OEvU9Q%2Fm%3D__features__#id=I0_1751310296756&amp;_gfid=I0_1751310296756&amp;parent=http%3A%2F%2Flocalhost%3A5173&amp;pfname=&amp;rpctoken=39533743" style="position: absolute; top: -100px; width: 1px; height: 1px;"></iframe></body></html>
User A updated stat: 8
Option 0 focused: [33mtrue[39m
Option 1 focused: [33mfalse[39m
Option 2 focused: [33mfalse[39m
Option 3 focused: [33mfalse[39m
Active element after quiz restart: <input id="quiz-option-abdominal_muscle_origins_002-0-0-5cdb5b89-7ad0-43b2-b1fb-f84830adcc0a" aria-label="Option A: Intercostal nerves (T7â€“T11) and subcostal nerve (T12)" aria-checked="false" aria-disabled="false" role="radio" data-disabled="false" tabindex="0" data-quiz-radio="true" data-testid="quiz-radio" type="radio" name="quiz-question-abdominal_muscle_origins_002-0-5cdb5b89-7ad0-43b2-b1fb-f84830adcc0a" style="margin-right: 12px; cursor: pointer;">
  âœ“  108 [Mobile Chrome] â€º e2e/app.spec.ts:18:1 â€º should reset quiz and focus first option after restart (7.0s)
[E2E DEBUG] Navigating to home page...
  -  110 [Mobile Chrome] â€º e2e/aria-roles-labels.spec.ts:32:3 â€º Accessibility: ARIA roles and labels â€º Main navigation and buttons have correct ARIA roles and labels
[E2E DEBUG] Filling Quiz Length...
User B stat: 0
  âœ“  112 [Mobile Chrome] â€º e2e/app-accessibility-full.spec.ts:114:3 â€º App Accessibility: Full Tab Order and ARIA Audit (Mobile) â€º Tab through all main pages and assert focus order/visibility (Mobile) (4.6s)
  âœ“  115 [Mobile Chrome] â€º e2e/assets-case-sensitivity.spec.ts:11:1 â€º Badge image is served by Vite dev server (case-sensitive) (32ms)
  âœ“  116 [Mobile Chrome] â€º e2e/assets-case-sensitivity.spec.ts:17:1 â€º No case-different files in public/badges/ (2ms)
  -  117 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:10:8 â€º Development Asset Troubleshooting â€º Badge image is accessible directly
  âœ“  118 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:24:3 â€º Development Asset Troubleshooting â€º App icon is accessible directly (232ms)
User A final stat: 0
  âœ“  114 [Mobile Chrome] â€º e2e/aria-roles-labels.spec.ts:111:3 â€º Accessibility: ARIA roles and labels â€º Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.9s)
  âœ“  119 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:30:3 â€º Development Asset Troubleshooting â€º Achievements page renders badge containers and images (927ms)
  âœ˜  104 [Desktop Chrome] â€º e2e/stats-isolation-per-user.spec.ts:44:3 â€º Stats Isolation per User â€º stats should not leak between users (retry #1) (11.5s)
  âœ“  121 [Mobile Chrome] â€º e2e/assets-troubleshoot.spec.ts:58:3 â€º Development Asset Troubleshooting â€º badges.json is accessible and returns valid JSON (653ms)
[E2E DEBUG] Clicking Start button...
[E2E DEBUG] Waiting for quiz question card to be visible...
  âœ“  122 [Mobile Chrome] â€º e2e/auth.spec.ts:6:3 â€º Authentication UI Flows â€º should show sign-in prompt on Analytics when unauthenticated (486ms)
[E2E DEBUG] Quiz question card is visible.
[E2E DEBUG] Clicking first option...
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.iFs_Bhrqdio.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo-IvlQWaLHZdUKQFbafXd_3OEvU9Q/cb=gapi.loaded_0?le=scs" async=""></script><script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBAS
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: log [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
BROWSER CONSOLE: log [DEBUG] Loaded settings: {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
BROWSER CONSOLE: log [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
BROWSER CONSOLE: log [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
BROWSER CONSOLE: warning A network error (such as timeout, interrupted connection or unreachable host) has occurred.
BROWSER CONSOLE: warning [2025-06-30T19:05:01.454Z]  @firebase/firestore: Firestore (11.9.0): WebChannelConnection RPC 'Write' stream 0x5ba056c8 transport errored. Name: undefined Message: undefined
BROWSER CONSOLE: warning [2025-06-30T19:05:01.456Z]  @firebase/firestore: Firestore (11.9.0): WebChannelConnection RPC 'Write' stream 0x5ba056c9 transport errored. Name: undefined Message: undefined
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
[E2E DEBUG] Clicking second option...
BROWSER CONSOLE: log Connected to Firestore emulator at localhost:8080
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
Navigated to /profile
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
Sign-in button is visible
  âœ“  120 [Mobile Chrome] â€º e2e/auth-session-persistence.spec.ts:18:3 â€º Auth Session Persistence â€º should persist session after reload (1.9s)
[E2E DEBUG] Clicking first option again...
[E2E DEBUG] Clicking Finish button...
[E2E DEBUG] Clicking Start New Quiz button...
[E2E DEBUG] Filling Quiz Length again...
[E2E DEBUG] Clicking Start button again...
[E2E DEBUG] Waiting for quiz loading spinner to disappear...
[E2E DEBUG] Quiz loading spinner is hidden.
[E2E DEBUG] Waiting for quiz question card to be visible after restart...
[E2E DEBUG] Quiz question card is visible after restart.
  âœ“  113 [Mobile Chrome] â€º e2e/app.spec.ts:124:1 â€º should handle edge case: rapid answer selection (4.9s)
Popup opened event detected
  âœ“  123 [Mobile Chrome] â€º e2e/auth.spec.ts:11:3 â€º Authentication UI Flows â€º should show sign-in button and open popup on Profile page (961ms)
  âœ“  127 [Mobile Chrome] â€º e2e/auth.spec.ts:45:3 â€º Authentication UI Flows â€º should show sign-in button after sign out click (UI only) (709ms)
  âœ“  128 [Mobile Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:6:1 â€º badges.json has correct criteria and image fields (33ms)
  âœ“  124 [Mobile Chrome] â€º e2e/badge-appearance.spec.ts:13:2 â€º Local badge images (UI login) â€º All key badges appear on Achievements page (1.6s)
  âœ“  129 [Mobile Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:25:1 â€º badge_test image is visible and loads (634ms)
  -  131 [Mobile Chrome] â€º e2e/critical-edge-accessibility.spec.ts:5:8 â€º Critical Quiz Edge Cases and Accessibility â€º Partial answers: finish quiz with unanswered questions
  -  132 [Mobile Chrome] â€º e2e/critical-edge-accessibility.spec.ts:24:8 â€º Critical Quiz Edge Cases and Accessibility â€º Network failure: loading questions
  âœ“  130 [Mobile Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to / (547ms)
  âœ“  126 [Mobile Chrome] â€º e2e/auth-smoke.spec.ts:4:1 â€º auth smoke: can sign in and see user info (1.9s)
  âœ“  134 [Mobile Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /quiz (735ms)
  âœ“  136 [Mobile Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /analytics (495ms)
  âœ“  137 [Mobile Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /profile (430ms)
  âœ“  125 [Mobile Chrome] â€º e2e/app.spec.ts:185:1 â€º should show explanations when enabled (4.0s)
Filled Quiz Length input by label
  âœ“  133 [Mobile Chrome] â€º e2e/critical-edge-accessibility.spec.ts:37:3 â€º Critical Quiz Edge Cases and Accessibility â€º ARIA attributes: quiz options and navigation (3.8s)
Number of quiz options (mobile): [33m4[39m
  âœ“  140 [Mobile Chrome] â€º e2e/critical-edge-accessibility.spec.ts:97:3 â€º Critical Quiz Edge Cases and Accessibility â€º Badges: tab, open with Enter/Space, close with Escape, focus returns (608ms)
  âœ“  135 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:6:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable (4.9s)
Radio 0 disabled: [33mtrue[39m
Radio 1 disabled: [33mtrue[39m
Radio 2 disabled: [33mtrue[39m
Radio 3 disabled: [33mtrue[39m
  âœ“  138 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:5:3 â€º Quiz Edge Cases and Accessibility â€º Quiz with all options disabled: keyboard navigation skips disabled (3.7s)
  -  142 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:56:3 â€º Critical UI and Accessibility Scenarios â€º Badge modals: only one open at a time, keyboard accessible
  âœ“  139 [Mobile Chrome] â€º e2e/app.spec.ts:216:1 â€º should show topic stats in results (3.8s)
  âœ“  143 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:33:3 â€º Quiz Edge Cases and Accessibility â€º Badge modal: opens and fallback image appears if missing (822ms)
  âœ“  144 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:76:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: open with keyboard only (Tab + Enter/Space) (678ms)
  âœ“  141 [Mobile Chrome] â€º e2e/finish-quiz-buttons.spec.ts:4:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button (4.2s)
  âœ“  145 [Mobile Chrome] â€º e2e/app.spec.ts:242:1 â€º should render and be usable on mobile viewport (3.1s)
Tab 1: Focused element: Search questions
Tab 2: Focused element: BODY
Tab 3: Focused element: Quiz progress: 0%
Tab 4: Focused element: Option A: Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)
Tab 5: Focused element: Search questions
Tab 6: Focused element: BODY
Tab 7: Focused element: Quiz progress: 0%
Tab 8: Focused element: Option A: Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)
Tab 9: Focused element: Search questions
Tab 10: Focused element: BODY
Tab 11: Focused element: Quiz progress: 0%
Tab 12: Focused element: Option A: Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)
  âœ“  146 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:52:3 â€º Quiz Edge Cases and Accessibility â€º Tab order: all interactive elements are reachable (2.8s)
  -  150 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:79:8 â€º Quiz Edge Cases and Accessibility â€º Screen reader text: ARIA labels and roles
  âœ“  149 [Mobile Chrome] â€º e2e/app.spec.ts:252:1 â€º should load all referenced badge images on Achievements page (522ms)
  âœ“  147 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:91:3 â€º Critical UI and Accessibility Scenarios â€º Next button: always rendered, but hidden or disabled as appropriate (3.2s)
  âœ“  152 [Mobile Chrome] â€º e2e/app.spec.ts:270:1 â€º should show fallback badge image if badge image fails to load (880ms)
  -  154 [Mobile Chrome] â€º e2e/app.spec.ts:301:6 â€º should load favicon, app icon, and default avatar image
  âœ“  148 [Mobile Chrome] â€º e2e/finish-quiz-buttons.spec.ts:19:3 â€º Finish and Finish Quiz Buttons â€º shows Finish Quiz button and works as expected (2.9s)
  âœ“  155 [Mobile Chrome] â€º e2e/app.spec.ts:328:1 â€º should navigate to all main pages via NavBar and route correctly (1.4s)
  âœ“  151 [Mobile Chrome] â€º e2e/edge-accessibility.spec.ts:101:3 â€º Quiz Edge Cases and Accessibility â€º Mobile viewport: quiz, results, achievements (3.2s)
  âœ“  153 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:106:3 â€º Critical UI and Accessibility Scenarios â€º Quiz cannot be started without required fields (2.8s)
  âœ“  159 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:140:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal fallback image and keyboard navigation (786ms)
  âœ“  160 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:156:3 â€º Critical UI and Accessibility Scenarios â€º Network failure: badge load (510ms)
  âœ“  157 [Mobile Chrome] â€º e2e/app.spec.ts:367:1 â€º should not submit answer when using arrow keys (only change selection) (4.1s)
  âœ“  158 [Mobile Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:4:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Complete a quiz using direct element selection/clicks (4.2s)
  âœ“  161 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:162:3 â€º Critical UI and Accessibility Scenarios â€º Accessibility: ARIA roles and labels (3.6s)
  -  164 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:185:8 â€º Critical UI and Accessibility Scenarios â€º Tab order is logical for quiz controls
  âœ“  163 [Mobile Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:22:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Quiz restart resets all state and focus (3.3s)
  âœ“  166 [Mobile Chrome] â€º e2e/login-flow.spec.ts:5:3 â€º Sign In Flow (UI) â€º shows sign-in prompt when not authenticated (404ms)
  âœ“  162 [Mobile Chrome] â€º e2e/app.spec.ts:390:1 â€º arrow keys: wrap-around, skip disabled, and maintain selection state (4.3s)
  âœ“  165 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:198:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz and results are usable (3.4s)
  -  169 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:210:8 â€º Critical UI and Accessibility Scenarios â€º Quiz stepper: skip, revisit, answer in any order
  -  170 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:229:8 â€º Critical UI and Accessibility Scenarios â€º Error boundary: UI does not crash on JS error in quiz
  âœ“  171 [Mobile Chrome] â€º e2e/critical-ui-accessibility.spec.ts:236:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: top-right close button closes modal (581ms)
  âœ“  167 [Mobile Chrome] â€º e2e/login-flow.spec.ts:11:3 â€º Sign In Flow (UI) â€º signs in with test form and shows user profile (1.8s)
  âœ“  156 [Mobile Chrome] â€º e2e/focus-indicator.spec.ts:18:3 â€º Mobile Accessibility: Focus Indicator on Quiz â€º Tabs through all interactive elements and checks visible focus indicator (10.9s)

  âœ“  168 [Mobile Chrome] â€º e2e/app.spec.ts:432:1 â€º up/down arrow keys only cycle focus on answer options, never advance quiz card (3.3s)
  âœ“  173 [Mobile Chrome] â€º e2e/login-flow.spec.ts:19:3 â€º Sign In Flow (UI) â€º signs out and returns to guest state (2.1s)
  âœ“  172 [Mobile Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page / has correct ARIA roles and keyboard navigation (4.0s)
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][log] Connected to Firestore emulator at localhost:8080
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: null
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
[browser][log] [DEBUG] Loaded settings: {haptic: false, ariaSound: true, showExplanations: true, darkMode: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][log] Connected to Firestore emulator at localhost:8080
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, ariaSound: true, showExplanations: true, darkMode: false}
[browser][log] [DEBUG] Loaded settings: {haptic: false, ariaSound: true, showExplanations: true, darkMode: false}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
  âœ“  176 [Mobile Chrome] â€º e2e/profile-update.spec.ts:16:3 â€º Profile Settings Persistence â€º can toggle dark mode and see it persist after reload (3.2s)
  -  178 [Mobile Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:6:8 â€º Quiz Auto-Save and Resume â€º Auto-saves progress for guest (localStorage) and resumes on reload
  -  179 [Mobile Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:26:8 â€º Quiz Auto-Save and Resume â€º Shows cancel/exit confirmation dialog when leaving quiz
  -  180 [Mobile Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:43:8 â€º Quiz Partial Results â€º Shows partial results and highlights unanswered questions
  âœ“  175 [Mobile Chrome] â€º e2e/app.spec.ts:459:1 â€º arrow keys: only one enabled option does not change focus or selection (4.7s)
  âœ“  174 [Mobile Chrome] â€º e2e/focus-indicator.spec.ts:84:3 â€º Mobile Accessibility: Focus Indicator on Achievements â€º Tabs through all interactive elements and checks visible focus indicator (6.7s)
  âœ“  177 [Mobile Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /quiz has correct ARIA roles and keyboard navigation (3.8s)

  âœ“  181 [Mobile Chrome] â€º e2e/quiz-keyboard-navigation.spec.ts:23:3 â€º Quiz keyboard navigation â€º ArrowDown/ArrowUp do not select or submit answers (4.8s)
  âœ“  182 [Mobile Chrome] â€º e2e/app.spec.ts:483:1 â€º arrow keys: all options disabled does nothing (4.5s)
  âœ“  184 [Mobile Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /analytics has correct ARIA roles and keyboard navigation (3.3s)
  âœ“  183 [Mobile Chrome] â€º e2e/focus-indicator.spec.ts:143:3 â€º Mobile Accessibility: Focus Indicator on Analytics â€º Tabs through all interactive elements and checks visible focus indicator (4.3s)

  âœ“  187 [Mobile Chrome] â€º e2e/navigation-aria-flow.spec.ts:26:5 â€º Navigation and ARIA Accessibility Flow â€º Page /profile has correct ARIA roles and keyboard navigation (3.4s)
[E2E DEBUG] Quiz option 0: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option A: All of the above'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'false'[39m,
  tabIndex: [32m'0'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_010-0-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_010-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  checked: [33mfalse[39m,
  disabled: [33mfalse[39m
}
[E2E DEBUG] Quiz option 1: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option B: Rectus abdominis'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_010-1-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_010-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
[E2E DEBUG] Quiz option 2: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option C: Internal and external obliques'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_010-2-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_010-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
[E2E DEBUG] Quiz option 3: {
  role: [32m'radio'[39m,
  ariaLabel: [32m'Option D: Transverse abdominis'[39m,
  ariaChecked: [32m'false'[39m,
  ariaDisabled: [32m'true'[39m,
  tabIndex: [32m'-1'[39m,
  id: [32m'quiz-option-abdominal_muscle_origins_010-3-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  name: [32m'quiz-question-abdominal_muscle_origins_010-0-26f76b80-3bdd-4263-ad60-4f2f637f1477'[39m,
  checked: [33mfalse[39m,
  disabled: [33mtrue[39m
}
  âœ“  185 [Mobile Chrome] â€º e2e/quiz-keyboard-navigation.spec.ts:54:3 â€º Quiz keyboard navigation â€º Enter/Space select and submit, Arrow keys do not (5.0s)
  âœ“  186 [Mobile Chrome] â€º e2e/quiz-option-accessibility.spec.ts:10:3 â€º Quiz Option Accessibility â€º Each quiz option has correct ARIA attributes and is keyboard accessible (4.5s)
User A initial stat: 8
  âœ“  188 [Mobile Chrome] â€º e2e/focus-indicator.spec.ts:202:3 â€º Mobile Accessibility: Focus Indicator on Profile â€º Tabs through all interactive elements and checks visible focus indicator (6.5s)
  -  192 [Mobile Chrome] â€º e2e/stats-persistence-firestore.spec.ts:19:8 â€º Stats Persistence with Firestore Backend Verification â€º UI stats and Firestore stats match and persist after quiz and reload
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-current="step" aria-label="Go to question 1 (answered) (current)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot" aria-label="Go to question 2" role="button" data-testid="quiz-stepper-dot"></button>
Button: 'Previous', enabled: false, visible: true, html: <button disabled="" aria-label="Previous question" role="button" aria-disabled="true">Previous</button>
Button: 'Next', enabled: true, visible: true, html: <button aria-label="Next question" role="button" aria-disabled="false" tabindex="0" data-testid="quiz-next-btn" style="visibility: visible;">Next</button>
Button: 'Finish', enabled: true, visible: true, html: <button aria-label="Finish quiz early" role="button" aria-disabled="false">Finish</button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot answered" aria-label="Go to question 1 (answered)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-label="Go to question 2 (answered) (current)" role="button" data-testid="quiz-stepper-dot" aria-current="step"></button>
Button: 'Previous', enabled: true, visible: true, html: <button aria-label="Previous question" role="button" aria-disabled="false">Previous</button>
Button: 'Next', enabled: false, visible: false, html: <button disabled="" aria-label="Next question" role="button" aria-disabled="true" tabindex="-1" data-testid="quiz-next-btn" style="visibility: hidden;">Next</button>
Button: 'Finish Quiz', enabled: true, visible: true, html: <button aria-label="Finish quiz" role="button" aria-disabled="false">Finish Quiz</button>
Final Quizzes Taken text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 32Correct Answers: 2 / 2Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Correct Answers text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 32Correct Answers: 2 / 2Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Accuracy text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 32Correct Answers: 2 / 2Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins2 / 2 correctQuiz Activity (Last 14 Days)
Final Topic Stats text: abdominal_muscle_origins
2 / 2 correct

Initial/Updated Quizzes Taken: [33m29[39m [33m32[39m
Initial/Updated Correct: [33m29[39m [33m32[39m
Initial/Updated Accuracy: [33m29[39m [33m32[39m
Initial/Updated Topic Correct: [33m0[39m [33m2[39m
  âœ“  189 [Mobile Chrome] â€º e2e/quiz-stats-live-update.spec.ts:6:3 â€º Quiz Stats Live Update â€º Stats and topic stats update after quiz completion (8.5s)
User A updated stat: 10
User B stat: 0
  âœ“  193 [Mobile Chrome] â€º e2e/stats-persistence.spec.ts:41:3 â€º Stats Persistence â€º should persist updated stats after quiz and reload (8.3s)
  âœ“  190 [Mobile Chrome] â€º e2e/stats-critical-flows.spec.ts:41:3 â€º Stats Critical Flows â€º should increment Quizzes Taken after each quiz (11.0s)
  -  196 [Mobile Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º quiz page matches visual snapshot
  -  197 [Mobile Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º profile page matches visual snapshot
  -  198 [Mobile Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º achievements page matches visual snapshot
  -  199 [Mobile Chrome] â€º e2e/visual-regression.spec.ts:18:8 â€º Critical UI Visual Regression â€º analytics page matches visual snapshot
User A final stat: 10
  âœ“  191 [Mobile Chrome] â€º e2e/stats-isolation-per-user.spec.ts:44:3 â€º Stats Isolation per User â€º stats should not leak between users (11.3s)
  âœ“  194 [Mobile Chrome] â€º e2e/stats-topic-breakdown.spec.ts:13:3 â€º Stats Topic Breakdown â€º should increment topic breakdown after quiz in specific topic (5.7s)
  âœ“  195 [Mobile Chrome] â€º e2e/ui-auth-smoke.spec.ts:15:1 â€º UI auth: can sign in via login form and see profile (2.6s)


  1) [Desktop Chrome] â€º e2e/stats-isolation-per-user.spec.ts:44:3 â€º Stats Isolation per User â€º stats should not leak between users 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m6[39m
    Received: [31m0[39m

      115 |     /* eslint-enable no-undef */
      116 |     const finalAInt = parseInt(finalA, 10) || 0;
    > 117 |     expect(finalAInt).toBe(updatedAInt);
          |                       ^
      118 |   });
      119 | });
      120 |
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/stats-isolation-per-user.spec.ts:117:23

    Error Context: test-results/stats-isolation-per-user-S-1fc92-ould-not-leak-between-users-Desktop-Chrome/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m8[39m
    Received: [31m0[39m

      115 |     /* eslint-enable no-undef */
      116 |     const finalAInt = parseInt(finalA, 10) || 0;
    > 117 |     expect(finalAInt).toBe(updatedAInt);
          |                       ^
      118 |   });
      119 | });
      120 |
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/stats-isolation-per-user.spec.ts:117:23

    Error Context: test-results/stats-isolation-per-user-S-1fc92-ould-not-leak-between-users-Desktop-Chrome-retry1/error-context.md

  2) [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:6:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable 

    Error: Quiz did not finish loading (mobile viewport).

      18 |       console.error('Quiz loading spinner did not disappear (mobile viewport). Page HTML:', html);
      19 |       console.error('Browser console logs:', logs.join('\n'));
    > 20 |       throw new Error('Quiz did not finish loading (mobile viewport).');
         |             ^
      21 |     }
      22 |     await page.getByLabel('Quiz Length').fill('2');
      23 |     await page.getByRole('button', { name: /start/i }).click();
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/critical-ui-accessibility.spec.ts:20:13

    Error Context: test-results/critical-ui-accessibility--2b877-dals-are-visible-and-usable-Desktop-Chrome/error-context.md

  3) [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:4:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for getByLabel('Quiz Length')[22m


      4 |   test('completes quiz and shows results with Finish button', async ({ page }) => {
      5 |     await page.goto('/');
    > 6 |     await page.getByLabel('Quiz Length').fill('2');
        |                                          ^
      7 |     await page.getByRole('button', { name: /start/i }).click();
      8 |     // Answer first question
      9 |     await page.getByTestId('quiz-option').first().click();
        at /Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/e2e/finish-quiz-buttons.spec.ts:6:42

    Error Context: test-results/finish-quiz-buttons-Finish-8d4f9--results-with-Finish-button-Desktop-Chrome/error-context.md

  1 failed
    [Desktop Chrome] â€º e2e/stats-isolation-per-user.spec.ts:44:3 â€º Stats Isolation per User â€º stats should not leak between users 
  2 flaky
    [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:6:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable 
    [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:4:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button 
  37 skipped
  156 passed (2.4m)
