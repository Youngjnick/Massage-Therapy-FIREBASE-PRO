PLAYWRIGHT_USER_CREATION_DEBUG_START
User testuserc-0hcl9i3a@gmail.com created successfully. UID: xaZD3ByS5IDERPVk2IwutylUB3gP
Firestore user doc created for testuserc-0hcl9i3a@gmail.com (uid: xaZD3ByS5IDERPVk2IwutylUB3gP)
User testuserd-c3zyr8i6@gmail.com created successfully. UID: 21s6Qvz0cenn0xISQvshG2uIJQq9
Firestore user doc created for testuserd-c3zyr8i6@gmail.com (uid: 21s6Qvz0cenn0xISQvshG2uIJQq9)
PLAYWRIGHT_USER_CREATION_DEBUG_END
PLAYWRIGHT_TEST_USERS_JSON_START
[
  {
    "email": "testuserc-0hcl9i3a@gmail.com",
    "password": "testuserC",
    "uid": "xaZD3ByS5IDERPVk2IwutylUB3gP"
  },
  {
    "email": "testuserd-c3zyr8i6@gmail.com",
    "password": "testuserD",
    "uid": "21s6Qvz0cenn0xISQvshG2uIJQq9"
  }
]
PLAYWRIGHT_TEST_USERS_JSON_END
FIRESTORE_EMULATOR_HOST: 127.0.0.1:8080
GOOGLE_APPLICATION_CREDENTIALS: undefined
NODE_ENV: test
Firestore Admin SDK pointed to emulator: 127.0.0.1:8080
[dotenv@17.0.1] injecting env (0) from .env.e2e â€“ [tip] encrypt with dotenvx: https://dotenvx.com

Running 198 tests using 1 worker

[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  1 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:36:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on / have accessible names and ARIA roles (4.1s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  2 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:36:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /quiz have accessible names and ARIA roles (3.1s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  3 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:36:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /achievements have accessible names and ARIA roles (2.8s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  4 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:36:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /analytics have accessible names and ARIA roles (3.0s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  5 [Desktop Chrome] â€º e2e/all-interactive-aria-accessibility.spec.ts:36:5 â€º All Interactive Elements: ARIA and Keyboard Accessibility â€º All interactive elements on /profile have accessible names and ARIA roles (3.0s)
  âœ“  6 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:45:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º Tab through all main pages and assert focus order/visibility (7.6s)
  âœ“  7 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:94:3 â€º App Accessibility: Full Tab Order and ARIA Audit â€º No missing or duplicate ARIA labels/roles on main interactive elements (451ms)
  âœ“  8 [Desktop Chrome] â€º e2e/app-accessibility-full.spec.ts:119:3 â€º App Accessibility: Full Tab Order and ARIA Audit (Mobile) â€º Tab through all main pages and assert focus order/visibility (Mobile) (7.7s)
Navigating to home page...
Filling Quiz Length...
Clicking Start button...
Clicking first quiz option...
Clicking Finish button...
Clicking Start New Quiz button...
Filling Quiz Length again...
Clicking Start button again...
Waiting for quiz loading spinner to disappear...
Waiting for quiz question card to be visible...
Number of quiz options after restart: [33m4[39m
Option 0 focused: [33mtrue[39m
Option 1 focused: [33mfalse[39m
Option 2 focused: [33mfalse[39m
Option 3 focused: [33mfalse[39m
Active element after quiz restart: <input id="quiz-option-abdominal_muscle_origins_005-0-0-37f5e8fd-9be1-485c-b76a-e1c377083b1e" aria-label="Option A: Thoracolumbar fascia, iliac crest, and inguinal ligament" aria-checked="false" aria-disabled="false" role="radio" data-disabled="false" tabindex="0" data-quiz-radio="true" data-testid="quiz-radio" type="radio" name="quiz-question-abdominal_muscle_origins_005-0-37f5e8fd-9be1-485c-b76a-e1c377083b1e" style="margin-right: 12px; cursor: pointer;">
  âœ“  9 [Desktop Chrome] â€º e2e/app.spec.ts:18:1 â€º should reset quiz and focus first option after restart (4.2s)
[E2E DEBUG] Navigating to home page...
[E2E DEBUG] Filling Quiz Length...
[E2E DEBUG] Clicking Start button...
[E2E DEBUG] Waiting for quiz question card to be visible...
[E2E DEBUG] Quiz question card is visible.
[E2E DEBUG] Clicking first option...
[E2E DEBUG] Clicking second option...
[E2E DEBUG] Clicking first option again...
[E2E DEBUG] Clicking Finish button...
[E2E DEBUG] Clicking Start New Quiz button...
[E2E DEBUG] Filling Quiz Length again...
[E2E DEBUG] Clicking Start button again...
[E2E DEBUG] Waiting for quiz loading spinner to disappear...
[E2E DEBUG] Quiz loading spinner is hidden.
[E2E DEBUG] Waiting for quiz question card to be visible after restart...
[E2E DEBUG] Quiz question card is visible after restart.
  âœ“  10 [Desktop Chrome] â€º e2e/app.spec.ts:124:1 â€º should handle edge case: rapid answer selection (3.5s)
[E2E DEBUG] Quiz question object: {
  id: [32m'abdominal_muscle_origins_008'[39m,
  difficulty_rating: [1mnull[22m,
  keywords: [ [32m'nerve supply'[39m, [32m'abdominal wall'[39m, [32m'core'[39m ],
  question: [32m'Which nerves innervate the transverse abdominis?'[39m,
  long_explanation: [32m'The transverse abdominis receives motor innervation from thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), and iliohypogastric and ilioinguinal nerves (L1), providing deep abdominal stability.'[39m,
  question_type: [1mnull[22m,
  synonyms: [1mnull[22m,
  topics: [ [32m'anatomy'[39m, [32m'origins'[39m, [32m'abdominal_muscle_origins'[39m ],
  created_at: [1mnull[22m,
  difficulty_adjustment: [1mnull[22m,
  relevance_score: [1mnull[22m,
  short_explanation: [32m'It is innervated by both thoracic and upper lumbar nerves.'[39m,
  source_reference: [32m'Principles of Anatomy and Physiology â€“ Tortora'[39m,
  tags: [ [32m'transverse abdominis'[39m, [32m'L1'[39m, [32m'T7â€“T12'[39m ],
  difficulty: [32m'hard'[39m,
  filepath: [32m'src/data/questions/anatomy/origins/abdominal_muscle_origins.json'[39m,
  updated_at: [1mnull[22m,
  options: [
    [32m'Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)'[39m,
    [32m'Pudendal nerve'[39m,
    [32m'Sacral plexus'[39m,
    [32m'Vagus nerve'[39m
  ],
  clinical_application: [32m'Core training or massage for back pain often focuses on this muscleâ€™s role in spinal support.'[39m,
  correctAnswer: [32m'Thoracoabdominal nerves (T7â€“T11), subcostal nerve (T12), iliohypogastric and ilioinguinal nerves (L1)'[39m
}
  âœ“  11 [Desktop Chrome] â€º e2e/app.spec.ts:185:1 â€º should show explanations when enabled (3.1s)
  âœ“  12 [Desktop Chrome] â€º e2e/app.spec.ts:246:1 â€º should show topic stats in results (2.7s)
  âœ“  13 [Desktop Chrome] â€º e2e/app.spec.ts:272:1 â€º should render and be usable on mobile viewport (2.6s)
  âœ“  14 [Desktop Chrome] â€º e2e/app.spec.ts:282:1 â€º should load all referenced badge images on Achievements page (1.5s)
  âœ“  15 [Desktop Chrome] â€º e2e/app.spec.ts:300:1 â€º should show fallback badge image if badge image fails to load (1.5s)
  -  16 [Desktop Chrome] â€º e2e/app.spec.ts:331:6 â€º should load favicon, app icon, and default avatar image
  âœ“  17 [Desktop Chrome] â€º e2e/app.spec.ts:358:1 â€º should navigate to all main pages via NavBar and route correctly (2.6s)
  âœ“  18 [Desktop Chrome] â€º e2e/app.spec.ts:397:1 â€º should not submit answer when using arrow keys (only change selection) (3.0s)
  âœ“  19 [Desktop Chrome] â€º e2e/app.spec.ts:420:1 â€º arrow keys: wrap-around, skip disabled, and maintain selection state (3.7s)
  âœ“  20 [Desktop Chrome] â€º e2e/app.spec.ts:462:1 â€º up/down arrow keys only cycle focus on answer options, never advance quiz card (2.6s)
  âœ“  21 [Desktop Chrome] â€º e2e/app.spec.ts:489:1 â€º arrow keys: only one enabled option does not change focus or selection (2.6s)
  âœ“  22 [Desktop Chrome] â€º e2e/app.spec.ts:513:1 â€º arrow keys: all options disabled does nothing (2.6s)
All button texts on /quiz?e2e=1: [ [32m'Start Quiz'[39m, [32m'Fetch Firestore Doc'[39m ]
Quiz Length input not found on /quiz. Page HTML: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  background: #1e3c28;
}
.app-header__titles {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.app-header__title-bold {
  font-size: 1.6rem;
  font-weight: 800;
  color: #eafff2;
  letter-spacing: 0.01em;
}
.app-header__title-regular {
  font-size: 1.1rem;
  font-weight: 400;
  color: #b6e7c9;
  margin-top: 0.1rem;
  letter-spacing: 0.01em;
}

@media (max-width: 700px) {
  .app-header {
    flex-direction: row; /* Keep icon and title side by side */
    gap: 0.7rem;
    padding: 1rem 0 0.5rem 0;
  }
  .app-header__icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
  }
  .app-header__title-bold {
    font-size: 1.2rem;
  }
  .app-header__title-regular {
    font-size: 0.95rem;
  }
}

@media (max-width: 480px) {
  .app-header__icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
  }
  .app-header__title-bold {
    font-size: 1rem;
  }
  .app-header__title-regular {
    font-size: 0.8rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/NavBar.css">.navbar {
  display: flex;
  justify-content: center;
  background: rgba(30, 60, 40, 0.7);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  margin: 24px auto 32px auto;
  max-width: 600px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
}
.navbar ul {
  display: flex;
  gap: 2rem;
  list-style: none;
  padding: 0.75rem 2rem;
  margin: 0;
}
.navbar a {
  color: #d0ffd6;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.22rem;
  padding: 0.5rem 1.1rem;
  border-radius: 8px;
  transition: background 0.2s, color 0.2s;
}
.navbar a.active, .navbar a:hover {
  background: rgba(80, 255, 180, 0.18);
  color: #fff;
}
@media (max-width: 700px) {
  .navbar {
    max-width: 100vw;
    margin: 16px 0 20px 0;
    border-radius: 10px;
  }
  .navbar ul {
    gap: 1rem;
    padding: 0.5rem 0.5rem;
  }
  .navbar a {
    font-size: 1.08rem;
    padding: 0.4rem 0.8rem;
  }
}
@media (max-width: 480px) {
  .navbar {
    max-width: 100vw;
    border-radius: 6px;
  }
  .navbar ul {
    gap: 0.5rem;
    padding: 0.3rem 0.2rem;
  }
  .navbar a {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppFooter.css">.app-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.2rem 0 1.5rem 0;
  background: transparent;
}

.question-search-bar {
  width: 320px;
  max-width: 90vw;
  padding: 0.7rem 1.2rem;
  border-radius: 16px;
  border: none;
  background: rgba(30, 60, 40, 0.7);
  color: #eafff2;
  font-size: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  /* Remove outline: none for accessibility */
  /* outline: none; */
  transition:
    box-shadow 0.2s,
    background 0.2s;
  box-sizing: border-box;
}

.question-search-bar:focus {
  background: rgba(80, 255, 180, 0.18);
  box-shadow: 0 4px 24px rgba(80, 255, 180, 0.1);
}

@media (max-width: 700px) {
  .app-footer {
    box-sizing: border-box;
    width: 100vw;
    max-width: 100vw;
    padding: 0.7rem 0.5rem 1rem 0.5rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 1rem;
    padding: 0.5rem 0.7rem;
    border-radius: 10px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .app-footer {
    padding: 0.5rem 0.2rem 0.7rem 0.2rem;
    justify-content: center;
    align-items: center;
    display: flex;
  }
  .question-search-bar {
    width: 100%;
    max-width: 100vw;
    font-size: 0.95rem;
    padding: 0.4rem 0.5rem;
    border-radius: 6px;
    box-sizing: border-box;
  }
}
</style><style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/App.css">body {
  margin: 0;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%);
  min-height: 100vh;
  color: #eafff2;
}

body.dark-mode {
  background: #18181b;
  color: #f3f4f6;
}

.main-content {
  max-width: 700px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: rgba(20, 40, 30, 0.5);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.18);
  min-height: 60vh;
}

h1,
h2 {
  font-weight: 700;
  letter-spacing: 0.02em;
}

.app-header.dark-mode,
.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.7);
  color: #f3f4f6;
}

.glass-card {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 16px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 2rem;
  margin-bottom: 2rem;
}

.glass-card.dark-mode {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

/* Responsive styles for mobile */
@media (max-width: 700px) {
  .main-content {
    max-width: 100vw;
    margin: 0 0;
    padding: 1rem 0.25rem;
    border-radius: 0;
    min-height: 60vh;
  }
  .glass-card {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
}

@media (max-width: 480px) {
  .main-content {
    padding: 0.5rem 0.1rem;
    min-height: 50vh;
  }
  .glass-card {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
  }
}

/* --- Quiz UI Responsive Styles --- */
.quiz-card {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 18px;
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1.2rem;
  margin: 1.5rem auto 2rem auto;
  max-width: 700px;
  position: relative;
  transition: box-shadow 0.2s;
}
@media (max-width: 600px) {
  .quiz-card {
    padding: 1rem 0.5rem;
    margin: 1rem 0.2rem 1.5rem 0.2rem;
    border-radius: 12px;
  }
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
  margin: 1.2rem 0 1.5rem 0;
  list-style: none;
  padding: 0;
  width: 100%;
}
.quiz-option {
  display: flex;
  align-items: center;
  font-size: 1.08rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border: 1.5px solid #e5e7eb;
  padding: 0.85rem 1rem;
  cursor: pointer;
  transition:
    background 0.18s,
    border 0.18s,
    box-shadow 0.18s;
  min-height: 48px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  width: 100%;
  box-sizing: border-box;
}
.quiz-option.selected {
  border: 2px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}
.quiz-option.correct {
  border: 2px solid #22c55e;
  background: rgba(34, 197, 94, 0.13);
}
.quiz-option.incorrect {
  border: 2px solid #ef4444;
  background: rgba(239, 68, 68, 0.13);
}
.quiz-option:active {
  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.08);
}
@media (max-width: 600px) {
  .quiz-option {
    font-size: 1rem;
    min-height: 44px;
    padding: 0.7rem 0.7rem;
  }
}
.quiz-progress-bar {
  width: 100%;
  height: 10px;
  background: rgba(200, 200, 200, 0.18);
  border-radius: 8px;
  margin: 1.2rem 0 0.5rem 0;
  position: relative;
  overflow: hidden;
}
.quiz-progress-bar-inner {
  height: 100%;
  background: linear-gradient(90deg, #6ee7b7, #3b82f6);
  border-radius: 8px;
  transition: width 0.3s;
}
.quiz-stepper {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-bottom: 1rem;
}
.quiz-stepper-dot {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: none;
  background: #e5e7eb;
  outline: none;
  cursor: pointer;
  transition: background 0.2s;
}
.quiz-stepper-dot.active {
  background: #3b82f6;
  outline: 2px solid #2563eb;
}
.quiz-stepper-dot.answered {
  background: #6ee7b7;
}
.quiz-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-direction: row;
}
.quiz-actions button {
  min-width: 90px;
  padding: 0.7rem 1.2rem;
  font-size: 1.08rem;
  border-radius: 8px;
  border: none;
  background: #3b82f6;
  color: #fff;
  cursor: pointer;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
  margin: 0 2px;
}
.quiz-actions button:disabled {
  background: #a5b4fc;
  color: #e5e7eb;
  cursor: not-allowed;
  opacity: 0.7;
}
.quiz-explanation {
  margin-top: 0.7rem;
  font-size: 1.01rem;
  color: #059669;
}
.quiz-feedback {
  margin: 0.7rem 0;
  font-weight: 600;
  font-size: 1.08rem;
}
@media (max-width: 600px) {
  .quiz-feedback {
    font-size: 1rem;
  }
}
/* End Quiz UI Responsive Styles */

/* Global visible focus indicator for accessibility */
button:focus-visible,
[role='button']:focus-visible,
a[href]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:not([tabindex='-1']):focus-visible {
  outline: 3px solid #3b82f6 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.18);
  transition:
    outline 0.1s,
    box-shadow 0.1s;
}
</style><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></head>
<body>
  <div id="root"><div class="app-loading-root" style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: rgb(255, 255, 255);"><div><div class="spinner" style="margin: 0px auto; width: 48px; height: 48px; border-width: 6px; border-style: solid; border-color: rgb(0, 123, 255) rgb(238, 238, 238) rgb(238, 238, 238); border-image: initial; border-radius: 50%; animation: 1s linear 0s infinite normal none running spin;"></div><div style="margin-top: 16px; color: rgb(136, 136, 136); font-size: 18px;">Loadingâ€¦</div></div><style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style></div></div>


<p class="firebase-emulator-warning" style="position: fixed; width: 100%; background-color: rgb(255, 255, 255); border: 0.1em solid rgb(0, 0, 0); color: rgb(181, 0, 0); bottom: 0px; left: 0px; margin: 0px; z-index: 10000; text-align: center;">Running in emulator mode. Do not use with production credentials.</p></body></html>
  -  23 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:39:3 â€º Accessibility: ARIA roles and labels â€º Main navigation and buttons have correct ARIA roles and labels
Tab focus order: [
  [32m'<a aria-label="Go to Quiz page" role="link" href="/quiz" data-discover="true">Quiz</a>'[39m,
  [32m'<a aria-label="Go to Achievements page" role="link" href="/achievements" data-discover="true">Achievements</a>'[39m,
  [32m'<a aria-label="Go to Analytics page" role="link" href="/analytics" data-discover="true">Analytics</a>'[39m,
  [32m'<a aria-label="Go to Profile page" role="link" href="/profile" data-discover="true">Profile</a>'[39m,
  [32m'<input class="question-search-bar" placeholder="Search questions..." aria-label="Search questions" type="text">'[39m
]
  âœ“  24 [Desktop Chrome] â€º e2e/aria-roles-labels.spec.ts:118:3 â€º Accessibility: ARIA roles and labels â€º Keyboard navigation: Tab through all interactive elements and ensure correct focus order (2.8s)
  âœ“  25 [Desktop Chrome] â€º e2e/assets-case-sensitivity.spec.ts:11:1 â€º Badge image is served by Vite dev server (case-sensitive) (47ms)
  âœ“  26 [Desktop Chrome] â€º e2e/assets-case-sensitivity.spec.ts:17:1 â€º No case-different files in public/badges/ (1ms)
  -  27 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:10:8 â€º Development Asset Troubleshooting â€º Badge image is accessible directly
  âœ“  28 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:24:3 â€º Development Asset Troubleshooting â€º App icon is accessible directly (331ms)
  âœ“  29 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:30:3 â€º Development Asset Troubleshooting â€º Achievements page renders badge containers and images (1.4s)
  âœ“  30 [Desktop Chrome] â€º e2e/assets-troubleshoot.spec.ts:58:3 â€º Development Asset Troubleshooting â€º badges.json is accessible and returns valid JSON (336ms)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  31 [Desktop Chrome] â€º e2e/auth-session-persistence.spec.ts:20:3 â€º Auth Session Persistence â€º should persist session after reload (3.3s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  32 [Desktop Chrome] â€º e2e/auth-smoke.spec.ts:16:1 â€º auth smoke: can sign in and see user info (3.1s)
  âœ“  33 [Desktop Chrome] â€º e2e/auth.spec.ts:8:3 â€º Authentication UI Flows â€º should show sign-in prompt on Analytics when unauthenticated (1.3s)
Navigated to /profile
Sign-in button is visible
Waiting for popup: [###Popup opened event detected
]
  âœ“  34 [Desktop Chrome] â€º e2e/auth.spec.ts:13:3 â€º Authentication UI Flows â€º should show sign-in button and open popup on Profile page (2.1s)
  âœ“  35 [Desktop Chrome] â€º e2e/auth.spec.ts:50:3 â€º Authentication UI Flows â€º should show sign-in button after sign out click (UI only) (1.3s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  36 [Desktop Chrome] â€º e2e/badge-appearance.spec.ts:22:2 â€º Local badge images (UI login) â€º All key badges appear on Achievements page (3.2s)
  âœ“  37 [Desktop Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:6:1 â€º badges.json has correct criteria and image fields (16ms)
  âœ“  38 [Desktop Chrome] â€º e2e/badge-dynamic-behavior.spec.ts:25:1 â€º badge_test image is visible and loads (1.4s)
  âœ“  39 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to / (451ms)
  âœ“  40 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /quiz (432ms)
  âœ“  41 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /analytics (446ms)
  âœ“  42 [Desktop Chrome] â€º e2e/basic-navigation.spec.ts:13:5 â€º Basic Navigation â€º can navigate to /profile (500ms)
  -  43 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:5:8 â€º Critical Quiz Edge Cases and Accessibility â€º Partial answers: finish quiz with unanswered questions
  -  44 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:24:8 â€º Critical Quiz Edge Cases and Accessibility â€º Network failure: loading questions
Filled Quiz Length input by label
  âœ“  45 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:37:3 â€º Critical Quiz Edge Cases and Accessibility â€º ARIA attributes: quiz options and navigation (2.7s)
  âœ“  46 [Desktop Chrome] â€º e2e/critical-edge-accessibility.spec.ts:104:3 â€º Critical Quiz Edge Cases and Accessibility â€º Badges: tab, open with Enter/Space, close with Escape, focus returns (435ms)
Number of quiz options (mobile): [33m4[39m
  âœ“  47 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:16:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz UI, results, and modals are visible and usable (3.4s)
  -  48 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:75:3 â€º Critical UI and Accessibility Scenarios â€º Badge modals: only one open at a time, keyboard accessible
  âœ“  49 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:95:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: open with keyboard only (Tab + Enter/Space) (1.6s)
  âœ“  50 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:110:3 â€º Critical UI and Accessibility Scenarios â€º Next button: always rendered, but hidden or disabled as appropriate (2.7s)
  âœ“  51 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:133:3 â€º Critical UI and Accessibility Scenarios â€º Quiz cannot be started without required fields (2.8s)
  âœ“  52 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:178:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal fallback image and keyboard navigation (1.6s)
  âœ“  53 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:194:3 â€º Critical UI and Accessibility Scenarios â€º Network failure: badge load (1.6s)
  âœ“  54 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:200:3 â€º Critical UI and Accessibility Scenarios â€º Accessibility: ARIA roles and labels (2.7s)
  -  55 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:251:8 â€º Critical UI and Accessibility Scenarios â€º Tab order is logical for quiz controls
  âœ“  56 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:264:3 â€º Critical UI and Accessibility Scenarios â€º Mobile viewport: quiz and results are usable (2.9s)
  -  57 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:285:8 â€º Critical UI and Accessibility Scenarios â€º Quiz stepper: skip, revisit, answer in any order
  -  58 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:304:8 â€º Critical UI and Accessibility Scenarios â€º Error boundary: UI does not crash on JS error in quiz
  âœ“  59 [Desktop Chrome] â€º e2e/critical-ui-accessibility.spec.ts:311:3 â€º Critical UI and Accessibility Scenarios â€º Badge modal: top-right close button closes modal (1.6s)
Radio 0 disabled: [33mtrue[39m
Radio 1 disabled: [33mtrue[39m
Radio 2 disabled: [33mtrue[39m
Radio 3 disabled: [33mtrue[39m
  âœ“  60 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:15:3 â€º Quiz Edge Cases and Accessibility â€º Quiz with all options disabled: keyboard navigation skips disabled (3.1s)
  âœ“  61 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:58:3 â€º Quiz Edge Cases and Accessibility â€º Badge modal: opens and fallback image appears if missing (1.7s)
Tab 1: Focused element: Finish quiz
Tab 2: Focused element: BUTTON
Tab 3: Focused element: Search questions
Tab 4: Focused element: BODY
Tab 5: Focused element: Go to Quiz page
Tab 6: Focused element: Go to Achievements page
Tab 7: Focused element: Go to Analytics page
Tab 8: Focused element: Go to Profile page
Tab 9: Focused element: Quiz progress: 0%
Tab 10: Focused element: Go to question 1 (current)
Tab 11: Focused element: Option A: All of the above
Tab 12: Focused element: Finish quiz
  âœ“  62 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:77:3 â€º Quiz Edge Cases and Accessibility â€º Tab order: all interactive elements are reachable (2.9s)
  -  63 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:116:8 â€º Quiz Edge Cases and Accessibility â€º Screen reader text: ARIA labels and roles
  âœ“  64 [Desktop Chrome] â€º e2e/edge-accessibility.spec.ts:138:3 â€º Quiz Edge Cases and Accessibility â€º Mobile viewport: quiz, results, achievements (4.0s)
[E2E PROGRESS] Navigated to /
[E2E PROGRESS] Filled Quiz Length input
[E2E PROGRESS] Clicked Start button
[E2E PROGRESS] Selected first quiz option
[E2E PROGRESS] Clicked Next button
[E2E PROGRESS] Selected second quiz option
[E2E PROGRESS] Clicked Finish button
[E2E PROGRESS] Quiz results are visible
  âœ“  65 [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:7:3 â€º Finish and Finish Quiz Buttons â€º completes quiz and shows results with Finish button (2.8s)
[E2E PROGRESS] Navigated to /
[E2E PROGRESS] Filled Quiz Length input
[E2E PROGRESS] Clicked Start button
[E2E PROGRESS] Selected first quiz option
[E2E DEBUG] Finish Quiz visible: [33mtrue[39m Finish visible: [33mtrue[39m
[E2E DEBUG] Clicked Finish Quiz button
[E2E DEBUG] Quiz results are visible
  âœ“  66 [Desktop Chrome] â€º e2e/finish-quiz-buttons.spec.ts:52:3 â€º Finish and Finish Quiz Buttons â€º shows Finish Quiz button and works as expected (2.7s)
  âœ“  67 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:37:3 â€º Mobile Accessibility: Focus Indicator on Quiz â€º Tabs through all interactive elements and checks visible focus indicator (2.9s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  68 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:104:3 â€º Mobile Accessibility: Focus Indicator on Achievements â€º Tabs through all interactive elements and checks visible focus indicator (3.0s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  69 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:164:3 â€º Mobile Accessibility: Focus Indicator on Analytics â€º Tabs through all interactive elements and checks visible focus indicator (2.9s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  70 [Desktop Chrome] â€º e2e/focus-indicator.spec.ts:224:3 â€º Mobile Accessibility: Focus Indicator on Profile â€º Tabs through all interactive elements and checks visible focus indicator (3.0s)
  âœ“  71 [Desktop Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:4:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Complete a quiz using direct element selection/clicks (2.8s)
  âœ“  72 [Desktop Chrome] â€º e2e/keyboard-navigation-and-restart.spec.ts:22:3 â€º Keyboard-Only Navigation and Quiz Restart â€º Quiz restart resets all state and focus (2.8s)
  âœ“  73 [Desktop Chrome] â€º e2e/login-flow.spec.ts:15:3 â€º Sign In Flow (UI) â€º shows sign-in prompt when not authenticated (1.4s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  74 [Desktop Chrome] â€º e2e/login-flow.spec.ts:21:3 â€º Sign In Flow (UI) â€º signs in with test form and shows user profile (3.0s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=testuserc-0hcl9i3a@gmail.com, password=testuserC
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
[E2E DEBUG] Sign-in flow complete, sign-out button visible.
  âœ“  75 [Desktop Chrome] â€º e2e/login-flow.spec.ts:30:3 â€º Sign In Flow (UI) â€º signs out and returns to guest state (3.1s)

  âœ“  76 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:33:5 â€º Navigation and ARIA Accessibility Flow â€º Page / has correct ARIA roles and keyboard navigation (3.6s)

  âœ“  77 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:33:5 â€º Navigation and ARIA Accessibility Flow â€º Page /quiz has correct ARIA roles and keyboard navigation (3.5s)

  âœ“  78 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:33:5 â€º Navigation and ARIA Accessibility Flow â€º Page /analytics has correct ARIA roles and keyboard navigation (3.4s)

  âœ“  79 [Desktop Chrome] â€º e2e/navigation-aria-flow.spec.ts:33:5 â€º Navigation and ARIA Accessibility Flow â€º Page /profile has correct ARIA roles and keyboard navigation (3.4s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=test1234@gmail.com, password=test1234
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
  âœ˜  80 [Desktop Chrome] â€º e2e/profile-update.spec.ts:16:3 â€º Profile Settings Persistence â€º can toggle dark mode and see it persist after reload (12.0s)
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=test1234@gmail.com, password=test1234
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
  âœ˜  81 [Desktop Chrome] â€º e2e/profile-update.spec.ts:16:3 â€º Profile Settings Persistence â€º can toggle dark mode and see it persist after reload (retry #1) (11.8s)
  -  82 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:6:8 â€º Quiz Auto-Save and Resume â€º Auto-saves progress for guest (localStorage) and resumes on reload
  -  83 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:26:8 â€º Quiz Auto-Save and Resume â€º Shows cancel/exit confirmation dialog when leaving quiz
  -  84 [Desktop Chrome] â€º e2e/quiz-autosave-partial-results.spec.ts:43:8 â€º Quiz Partial Results â€º Shows partial results and highlights unanswered questions
FIRESTORE_EMULATOR_HOST: 127.0.0.1:8080
GOOGLE_APPLICATION_CREDENTIALS: [90mundefined[39m
NODE_ENV: test
Firestore Admin SDK pointed to emulator: 127.0.0.1:8080
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=test1234@gmail.com, password=test1234
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
  âœ˜  85 [Desktop Chrome] â€º e2e/quiz-firestore-verification.spec.cjs:32:3 â€º Quiz Firestore Verification â€º Quiz results are saved to Firestore after submit (11.7s)
FIRESTORE_EMULATOR_HOST: 127.0.0.1:8080
GOOGLE_APPLICATION_CREDENTIALS: [90mundefined[39m
NODE_ENV: test
Firestore Admin SDK pointed to emulator: 127.0.0.1:8080
[E2E DEBUG] Navigating to profilePath: /profile
[E2E DEBUG] Waiting for sign-in form fields to be visible.
[E2E DEBUG] Filling sign-in form: email=test1234@gmail.com, password=test1234
[E2E DEBUG] Submitting sign-in form.
[E2E DEBUG] Waiting for sign-out button after login.
