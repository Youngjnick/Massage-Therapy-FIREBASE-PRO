
Running 180 tests using 4 workers

  -  1 [Desktop Chrome] › e2e/app.critical-flow.spec.ts:5:6 › should start quiz and focus first option
  ✓  5 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on / have accessible names and ARIA roles (1.7s)
  ✓  6 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /quiz have accessible names and ARIA roles (698ms)
  ✓  7 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /achievements have accessible names and ARIA roles (722ms)
  ✓  8 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /analytics have accessible names and ARIA roles (582ms)
  ✓  4 [Desktop Chrome] › e2e/app.spec.ts:3:1 › should reset quiz and focus first option after restart (4.0s)
  ✓  9 [Desktop Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /profile have accessible names and ARIA roles (677ms)
  ✓  11 [Desktop Chrome] › e2e/assets-case-sensitivity.spec.ts:11:1 › Badge image is served by Vite dev server (case-sensitive) (82ms)
  ✓  12 [Desktop Chrome] › e2e/assets-case-sensitivity.spec.ts:17:1 › No case-different files in public/badges/ (2ms)
  -  13 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:10:8 › Development Asset Troubleshooting › Badge image is accessible directly
  ✓  10 [Desktop Chrome] › e2e/app.spec.ts:21:1 › should handle edge case: no questions (687ms)
  ✓  14 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:24:3 › Development Asset Troubleshooting › App icon is accessible directly (424ms)
  ✓  3 [Desktop Chrome] › e2e/app-accessibility-full.spec.ts:45:3 › App Accessibility: Full Tab Order and ARIA Audit › Tab through all main pages and assert focus order/visibility (5.4s)
  ✓  16 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images (597ms)
  ✓  18 [Desktop Chrome] › e2e/assets-troubleshoot.spec.ts:58:3 › Development Asset Troubleshooting › badges.json is accessible and returns valid JSON (379ms)
  ✓  17 [Desktop Chrome] › e2e/app-accessibility-full.spec.ts:89:3 › App Accessibility: Full Tab Order and ARIA Audit › No missing or duplicate ARIA labels/roles on main interactive elements (592ms)
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx?t=1751246721505"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage-Therapy-FIREBASE-PRO/src/components/AppHeader.css">.app-header {
  display: flex;
  align-items: center;
  gap: 1.2rem;
  padding: 1.5rem 0 1rem 0;
  justify-content: center;
}
.app-header__icon {
  w
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
BROWSER CONSOLE: warning [2025-06-30T01:26:32.228Z]  @firebase/firestore: Firestore (11.9.0): WebChannelConnection RPC 'Listen' stream 0x4eff73d2 transport errored. Name: undefined Message: undefined
BROWSER CONSOLE: error [2025-06-30T01:26:32.228Z]  @firebase/firestore: Firestore (11.9.0): Could not reach Cloud Firestore backend. Connection failed 1 times. Most recent error: FirebaseError: [code=unavailable]: The operation could not be completed
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
BROWSER CONSOLE: info %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  ✓  19 [Desktop Chrome] › e2e/auth-session-persistence.spec.ts:18:3 › Auth Session Persistence › should persist session after reload (1.4s)
  ✓  20 [Desktop Chrome] › e2e/auth-smoke.spec.ts:4:1 › auth smoke: can sign in and see user info (1.4s)
  ✓  15 [Desktop Chrome] › e2e/app.spec.ts:30:1 › should handle edge case: rapid answer selection (2.8s)
  ✓  2 [Desktop Chrome] › e2e/aria-roles-labels.spec.ts:31:3 › Accessibility: ARIA roles and labels › Main navigation and buttons have correct ARIA roles and labels (7.6s)
  ✓  21 [Desktop Chrome] › e2e/auth.spec.ts:5:3 › Authentication UI Flows › should show sign-in prompt on Analytics when unauthenticated (607ms)
  ✓  22 [Desktop Chrome] › e2e/badge-appearance.spec.ts:13:2 › Local badge images (UI login) › All key badges appear on Achievements page (1.3s)
  ✓  26 [Desktop Chrome] › e2e/badge-dynamic-behavior.spec.ts:5:1 › badges.json has correct criteria and image fields (53ms)
  ✓  24 [Desktop Chrome] › e2e/aria-roles-labels.spec.ts:71:3 › Accessibility: ARIA roles and labels › Keyboard navigation: Tab through all interactive elements and ensure correct focus order (1.4s)
  ✓  25 [Desktop Chrome] › e2e/auth.spec.ts:10:3 › Authentication UI Flows › should show sign-in button and open popup on Profile page (1.7s)
  ✓  27 [Desktop Chrome] › e2e/badge-dynamic-behavior.spec.ts:24:1 › badge_test image is visible and loads (943ms)
  ✓  28 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to / (950ms)
  ✓  29 [Desktop Chrome] › e2e/auth.spec.ts:26:3 › Authentication UI Flows › should show sign-in button after sign out click (UI only) (618ms)
  ✓  23 [Desktop Chrome] › e2e/app.spec.ts:42:1 › should show explanations when enabled (3.0s)
  ✓  31 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /quiz (591ms)
  ✓  34 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /analytics (666ms)
  ✓  35 [Desktop Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /profile (615ms)
  ✓  30 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:4:3 › Critical Quiz Edge Cases and Accessibility › Partial answers: finish quiz with unanswered questions (3.0s)
  -  37 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:22:8 › Critical Quiz Edge Cases and Accessibility › Network failure: loading questions
  ✓  32 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:4:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz UI, results, and modals are visible and usable (2.7s)
  ✓  39 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:25:3 › Critical UI and Accessibility Scenarios › Badge modals: only one open at a time, keyboard accessible (727ms)
  ✓  40 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:45:3 › Critical UI and Accessibility Scenarios › Badge modal: open with keyboard only (Tab + Enter/Space) (633ms)
  ✓  36 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:4:3 › Quiz Edge Cases and Accessibility › Quiz with all options disabled: keyboard navigation skips disabled (2.6s)
  ✓  42 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:21:3 › Quiz Edge Cases and Accessibility › Badge modal: opens and fallback image appears if missing (1.1s)
  ✓  38 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:35:3 › Critical Quiz Edge Cases and Accessibility › ARIA attributes: quiz options and navigation (3.2s)
  ✓  33 [Desktop Chrome] › e2e/app.spec.ts:51:1 › should show topic stats in results (5.6s)
  ✓  44 [Desktop Chrome] › e2e/critical-edge-accessibility.spec.ts:57:3 › Critical Quiz Edge Cases and Accessibility › Badges: tab, open with Enter/Space, close with Escape, focus returns (875ms)
  ✓  41 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:60:3 › Critical UI and Accessibility Scenarios › Next button: always rendered, but hidden or disabled as appropriate (3.0s)
  ✓  43 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:40:3 › Quiz Edge Cases and Accessibility › Tab order: all interactive elements are reachable (3.2s)
  -  48 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:55:8 › Quiz Edge Cases and Accessibility › Screen reader text: ARIA labels and roles
  ✓  45 [Desktop Chrome] › e2e/app.spec.ts:63:1 › should render and be usable on mobile viewport (3.0s)
  ✓  46 [Desktop Chrome] › e2e/finish-quiz-buttons.spec.ts:4:3 › Finish and Finish Quiz Buttons › completes quiz and shows results with Finish button (2.9s)
  ✓  50 [Desktop Chrome] › e2e/app.spec.ts:73:1 › should load all referenced badge images on Achievements page (683ms)
Number of topic options: [33m482[39m
  ✓  47 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:75:3 › Critical UI and Accessibility Scenarios › Quiz cannot be started without required fields (3.1s)
  ✓  52 [Desktop Chrome] › e2e/app.spec.ts:91:1 › should show fallback badge image if badge image fails to load (763ms)
  -  54 [Desktop Chrome] › e2e/app.spec.ts:122:6 › should load favicon, app icon, and default avatar image
  ✓  53 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:111:3 › Critical UI and Accessibility Scenarios › Badge modal fallback image and keyboard navigation (746ms)
  ✓  56 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:127:3 › Critical UI and Accessibility Scenarios › Network failure: badge load (687ms)
  ✓  55 [Desktop Chrome] › e2e/app.spec.ts:149:1 › should navigate to all main pages via NavBar and route correctly (1.4s)
  ✓  49 [Desktop Chrome] › e2e/edge-accessibility.spec.ts:77:3 › Quiz Edge Cases and Accessibility › Mobile viewport: quiz, results, achievements (3.3s)
  ✓  51 [Desktop Chrome] › e2e/finish-quiz-buttons.spec.ts:19:3 › Finish and Finish Quiz Buttons › shows Finish Quiz button and works as expected (2.7s)
  ✓  60 [Desktop Chrome] › e2e/login-flow.spec.ts:5:3 › Sign In Flow (UI) › shows sign-in prompt when not authenticated (555ms)
  ✓  61 [Desktop Chrome] › e2e/login-flow.spec.ts:11:3 › Sign In Flow (UI) › signs in with test form and shows user profile (1.3s)
  ✓  57 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:133:3 › Critical UI and Accessibility Scenarios › Accessibility: ARIA roles and labels (3.0s)
  -  63 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:156:8 › Critical UI and Accessibility Scenarios › Tab order is logical for quiz controls
  ✓  59 [Desktop Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:4:3 › Keyboard-Only Navigation and Quiz Restart › Complete a quiz using direct element selection/clicks (3.2s)
  ✓  62 [Desktop Chrome] › e2e/login-flow.spec.ts:19:3 › Sign In Flow (UI) › signs out and returns to guest state (1.2s)
  ✓  58 [Desktop Chrome] › e2e/app.spec.ts:188:1 › should not submit answer when using arrow keys (only change selection) (3.7s)

  ✓  64 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:169:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz and results are usable (2.9s)
  -  68 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:181:8 › Critical UI and Accessibility Scenarios › Quiz stepper: skip, revisit, answer in any order
  -  69 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:200:8 › Critical UI and Accessibility Scenarios › Error boundary: UI does not crash on JS error in quiz
  ✓  65 [Desktop Chrome] › e2e/keyboard-navigation-and-restart.spec.ts:22:3 › Keyboard-Only Navigation and Quiz Restart › Quiz restart resets all state and focus (3.0s)
  ✓  66 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page / has correct ARIA roles and keyboard navigation (3.1s)
  ✓  70 [Desktop Chrome] › e2e/critical-ui-accessibility.spec.ts:207:3 › Critical UI and Accessibility Scenarios › Badge modal: top-right close button closes modal (932ms)
  -  73 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:6:8 › Quiz Auto-Save and Resume › Auto-saves progress for guest (localStorage) and resumes on reload
  -  74 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:26:8 › Quiz Auto-Save and Resume › Shows cancel/exit confirmation dialog when leaving quiz
  -  75 [Desktop Chrome] › e2e/quiz-autosave-partial-results.spec.ts:43:8 › Quiz Partial Results › Shows partial results and highlights unanswered questions

  ✓  67 [Desktop Chrome] › e2e/app.spec.ts:211:1 › arrow keys: wrap-around, skip disabled, and maintain selection state (4.1s)
  ✓  72 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /quiz has correct ARIA roles and keyboard navigation (2.7s)
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: null
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, email: test1234@gmail.com, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Loaded settings: {darkMode: false, email: test1234@gmail.com, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: false, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][debug] [vite] connecting...
[browser][debug] [vite] connected.
[browser][info] %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[browser][log] [DEBUG][Router] location.pathname: /profile basename: /
[browser][log] [analytics] app_loaded undefined
[browser][log] [E2E DEBUG] Profile user: _UserImpl
[browser][log] [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
[browser][log] [DEBUG][userSettings] getUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {haptic: false, darkMode: true, showExplanations: true, email: test1234@gmail.com, ariaSound: true}
[browser][log] [DEBUG] Loaded settings: {haptic: false, darkMode: true, showExplanations: true, email: test1234@gmail.com, ariaSound: true}
[browser][log] [DEBUG] Saving user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
[browser][log] [DEBUG][userSettings] setUserSettings: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3 {darkMode: true, ariaSound: true, haptic: false, showExplanations: true}
  ✓  71 [Desktop Chrome] › e2e/profile-update.spec.ts:16:3 › Profile Settings Persistence › can toggle dark mode and see it persist after reload (3.9s)
  ✓  77 [Desktop Chrome] › e2e/app.spec.ts:253:1 › up/down arrow keys only cycle focus on answer options, never advance quiz card (3.5s)
  ✓  78 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /analytics has correct ARIA roles and keyboard navigation (2.8s)
  ✓  76 [Desktop Chrome] › e2e/quiz-keyboard-navigation.spec.ts:23:3 › Quiz keyboard navigation › ArrowDown/ArrowUp do not select or submit answers (5.8s)

  ✓  79 [Desktop Chrome] › e2e/quiz-option-accessibility.spec.ts:4:3 › Quiz Option Accessibility › Each quiz option has correct ARIA attributes and is keyboard accessible (3.0s)
  ✓  80 [Desktop Chrome] › e2e/app.spec.ts:280:1 › arrow keys: only one enabled option does not change focus or selection (3.2s)
  ✓  81 [Desktop Chrome] › e2e/navigation-aria-flow.spec.ts:26:5 › Navigation and ARIA Accessibility Flow › Page /profile has correct ARIA roles and keyboard navigation (2.8s)
  ✓  84 [Desktop Chrome] › e2e/app.spec.ts:304:1 › arrow keys: all options disabled does nothing (2.8s)
  ✓  82 [Desktop Chrome] › e2e/quiz-keyboard-navigation.spec.ts:54:3 › Quiz keyboard navigation › Enter/Space select and submit, Arrow keys do not (5.9s)
  -  87 [Desktop Chrome] › e2e/stats-persistence-firestore.spec.ts:19:8 › Stats Persistence with Firestore Backend Verification › UI stats and Firestore stats match and persist after quiz and reload
User A initial stat: 0
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-current="step" aria-label="Go to question 1 (answered) (current)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot" aria-label="Go to question 2" role="button" data-testid="quiz-stepper-dot"></button>
Button: 'Previous', enabled: false, visible: true, html: <button disabled="" aria-label="Previous question" role="button" aria-disabled="true">Previous</button>
Button: 'Next', enabled: true, visible: true, html: <button aria-label="Next question" role="button" aria-disabled="false" tabindex="0" data-testid="quiz-next-btn" style="visibility: visible;">Next</button>
Button: 'Finish', enabled: true, visible: true, html: <button aria-label="Finish quiz early" role="button" aria-disabled="false">Finish</button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot answered" aria-label="Go to question 1 (answered)" role="button" data-testid="quiz-stepper-dot"></button>
Button: '', enabled: true, visible: true, html: <button type="button" class="quiz-stepper-dot active answered" aria-label="Go to question 2 (answered) (current)" role="button" data-testid="quiz-stepper-dot" aria-current="step"></button>
Button: 'Previous', enabled: true, visible: true, html: <button aria-label="Previous question" role="button" aria-disabled="false">Previous</button>
Button: 'Next', enabled: false, visible: false, html: <button disabled="" aria-label="Next question" role="button" aria-disabled="true" tabindex="-1" data-testid="quiz-next-btn" style="visibility: hidden;">Next</button>
Button: 'Finish Quiz', enabled: true, visible: true, html: <button aria-label="Finish quiz" role="button" aria-disabled="false">Finish Quiz</button>
Final Quizzes Taken text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 473Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Correct Answers text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 473Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Accuracy text: Massage TherapySmart Study PROQuizAchievementsAnalyticsProfileAnalyticsQuizzes Taken: 473Correct Answers: 1 / 1Accuracy: 100%Current Streak: 0 daysBadges Earned: 0Topic Breakdownabdominal_muscle_origins1 / 1 correctQuiz Activity (Last 14 Days)
Final Topic Stats text: abdominal_muscle_origins
1 / 1 correct
Initial/Updated Quizzes Taken: [33m0[39m [33m473[39m
Initial/Updated Correct: [33m0[39m [33m473[39m
Initial/Updated Accuracy: [33m0[39m [33m473[39m
Initial/Updated Topic Correct: [33m0[39m [33m1[39m
  ✓  83 [Desktop Chrome] › e2e/quiz-stats-live-update.spec.ts:6:3 › Quiz Stats Live Update › Stats and topic stats update after quiz completion (10.6s)
  ✓  88 [Desktop Chrome] › e2e/stats-persistence.spec.ts:41:3 › Stats Persistence › should persist updated stats after quiz and reload (7.2s)
  ✓  85 [Desktop Chrome] › e2e/stats-critical-flows.spec.ts:41:3 › Stats Critical Flows › should increment Quizzes Taken after each quiz (12.2s)
User A updated stat: 102
  ✓  90 [Desktop Chrome] › e2e/ui-auth-smoke.spec.ts:15:1 › UI auth: can sign in via login form and see profile (3.0s)
  ✓  91 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on / have accessible names and ARIA roles (1.1s)
  ✓  92 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /quiz have accessible names and ARIA roles (381ms)
User B stat: 0
  ✓  94 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /achievements have accessible names and ARIA roles (522ms)
  ✓  95 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /analytics have accessible names and ARIA roles (336ms)
User A final stat: 102
  ✓  86 [Desktop Chrome] › e2e/stats-isolation-per-user.spec.ts:44:3 › Stats Isolation per User › stats should not leak between users (14.0s)
  -  97 [Mobile Chrome] › e2e/app.critical-flow.spec.ts:5:6 › should start quiz and focus first option
  ✓  96 [Mobile Chrome] › e2e/all-interactive-aria-accessibility.spec.ts:19:5 › All Interactive Elements: ARIA and Keyboard Accessibility › All interactive elements on /profile have accessible names and ARIA roles (736ms)
  ✓  93 [Mobile Chrome] › e2e/app-accessibility-full.spec.ts:45:3 › App Accessibility: Full Tab Order and ARIA Audit › Tab through all main pages and assert focus order/visibility (3.1s)
  ✓  89 [Desktop Chrome] › e2e/stats-topic-breakdown.spec.ts:13:3 › Stats Topic Breakdown › should increment topic breakdown after quiz in specific topic (9.3s)
  ✓  100 [Mobile Chrome] › e2e/app-accessibility-full.spec.ts:89:3 › App Accessibility: Full Tab Order and ARIA Audit › No missing or duplicate ARIA labels/roles on main interactive elements (344ms)
  -  101 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:10:8 › Development Asset Troubleshooting › Badge image is accessible directly
  ✓  102 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:24:3 › Development Asset Troubleshooting › App icon is accessible directly (175ms)
  ✓  103 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:30:3 › Development Asset Troubleshooting › Achievements page renders badge containers and images (317ms)
  ✓  104 [Mobile Chrome] › e2e/assets-case-sensitivity.spec.ts:11:1 › Badge image is served by Vite dev server (case-sensitive) (48ms)
  ✓  106 [Mobile Chrome] › e2e/assets-case-sensitivity.spec.ts:17:1 › No case-different files in public/badges/ (1ms)
  ✓  105 [Mobile Chrome] › e2e/assets-troubleshoot.spec.ts:58:3 › Development Asset Troubleshooting › badges.json is accessible and returns valid JSON (193ms)
PAGE CONTENT AFTER LOGIN: <!DOCTYPE html><html lang="en"><head>
  <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.iFs_Bhrqdio.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo-IvlQWaLHZdUKQFbafXd_3OEvU9Q/cb=gapi.loaded_0?le=scs" async=""></script><script type="module">import { injectIntoGlobalHook } from "/@react-refresh";
injectIntoGlobalHook(window);
window.$RefreshReg$ = () => {};
window.$RefreshSig$ = () => (type) => type;</script>

  <script type="module" src="/@vite/client"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Massage Therapy Smart Study PRO</title>
  <link rel="icon" type="image/x-icon" href="/Massage-Therapy-FIREBASE-PRO/favicon.ico">
  <link rel="apple-touch-icon" href="/Massage-Therapy-FIREBASE-PRO/icon-512x512.png">
  <meta name="theme-color" content="#1e3c28">
  <script type="module" src="/src/index.tsx?t=1751246721505"></script>
<style type="text/css" data-vite-dev-id="/Users/macuser/Desktop/Massage
BROWSER CONSOLE: log [E2E DEBUG] Profile user: null
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  ✓  99 [Mobile Chrome] › e2e/app.spec.ts:3:1 › should reset quiz and focus first option after restart (3.0s)
BROWSER CONSOLE: debug [vite] connecting...
BROWSER CONSOLE: debug [vite] connected.
BROWSER CONSOLE: log [DEBUG][Router] location.pathname: /profile basename: /
BROWSER CONSOLE: log [analytics] app_loaded undefined
BROWSER CONSOLE: log [E2E DEBUG] Profile user: _UserImpl
BROWSER CONSOLE: log [DEBUG] Loading user settings for: 0wTE0Hy8n8Y3aFxQaLRibyaXYKF3
  ✓  109 [Mobile Chrome] › e2e/app.spec.ts:21:1 › should handle edge case: no questions (304ms)
  ✓  107 [Mobile Chrome] › e2e/auth-session-persistence.spec.ts:18:3 › Auth Session Persistence › should persist session after reload (1.7s)
  ✓  108 [Mobile Chrome] › e2e/auth-smoke.spec.ts:4:1 › auth smoke: can sign in and see user info (1.8s)
  ✓  111 [Mobile Chrome] › e2e/auth.spec.ts:5:3 › Authentication UI Flows › should show sign-in prompt on Analytics when unauthenticated (318ms)
  ✓  112 [Mobile Chrome] › e2e/badge-appearance.spec.ts:13:2 › Local badge images (UI login) › All key badges appear on Achievements page (834ms)
  ✓  114 [Mobile Chrome] › e2e/badge-dynamic-behavior.spec.ts:5:1 › badges.json has correct criteria and image fields (28ms)
  ✓  115 [Mobile Chrome] › e2e/badge-dynamic-behavior.spec.ts:24:1 › badge_test image is visible and loads (402ms)
  ✓  113 [Mobile Chrome] › e2e/auth.spec.ts:10:3 › Authentication UI Flows › should show sign-in button and open popup on Profile page (1.4s)
  ✓  116 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to / (323ms)
  ✓  117 [Mobile Chrome] › e2e/auth.spec.ts:26:3 › Authentication UI Flows › should show sign-in button after sign out click (UI only) (554ms)
  ✓  118 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /quiz (544ms)
  ✘  98 [Mobile Chrome] › e2e/aria-roles-labels.spec.ts:31:3 › Accessibility: ARIA roles and labels › Main navigation and buttons have correct ARIA roles and labels (6.7s)
  ✓  119 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /analytics (371ms)
  ✓  110 [Mobile Chrome] › e2e/app.spec.ts:30:1 › should handle edge case: rapid answer selection (3.1s)
  ✓  121 [Mobile Chrome] › e2e/basic-navigation.spec.ts:13:5 › Basic Navigation › can navigate to /profile (347ms)
  ✓  120 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:4:3 › Critical Quiz Edge Cases and Accessibility › Partial answers: finish quiz with unanswered questions (2.6s)
  -  125 [Mobile Chrome] › e2e/critical-edge-accessibility.spec.ts:22:8 › Critical Quiz Edge Cases and Accessibility › Network failure: loading questions
  ✓  122 [Mobile Chrome] › e2e/app.spec.ts:42:1 › should show explanations when enabled (2.7s)
  ✓  123 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:4:3 › Critical UI and Accessibility Scenarios › Mobile viewport: quiz UI, results, and modals are visible and usable (2.9s)
  -  128 [Mobile Chrome] › e2e/critical-ui-accessibility.spec.ts:25:3 › Critical UI and Accessibility Scenarios › Badge modals: only one open at a time, keyboard accessible
