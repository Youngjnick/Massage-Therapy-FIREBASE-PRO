(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function bA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function SA(){if(Nv)return Vl;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=t,Vl.jsxs=t,Vl}var jv;function wA(){return jv||(jv=1,cm.exports=SA()),cm.exports}var A=wA(),hm={exports:{}},Pl={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function AA(){return kv||(kv=1,function(i){function e(Y,ae){var ge=Y.length;Y.push(ae);e:for(;0<ge;){var De=ge-1>>>1,N=Y[De];if(0<o(N,ae))Y[De]=ae,Y[ge]=N,ge=De;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],ge=Y.pop();if(ge!==ae){Y[0]=ge;e:for(var De=0,N=Y.length,ie=N>>>1;De<ie;){var le=2*(De+1)-1,re=Y[le],ye=le+1,me=Y[ye];if(0>o(re,ge))ye<N&&0>o(me,re)?(Y[De]=me,Y[ye]=ge,De=ye):(Y[De]=re,Y[le]=ge,De=le);else if(ye<N&&0>o(me,ge))Y[De]=me,Y[ye]=ge,De=ye;else break e}}return ae}function o(Y,ae){var ge=Y.sortIndex-ae.sortIndex;return ge!==0?ge:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,S=3,k=!1,O=!1,G=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function oe(Y){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function ce(Y){if(G=!1,oe(Y),!O)if(t(p)!==null)O=!0,ue||(ue=!0,P());else{var ae=t(g);ae!==null&&it(ce,ae.startTime-Y)}}var ue=!1,x=-1,R=5,I=-1;function j(){return z?!0:!(i.unstable_now()-I<R)}function V(){if(z=!1,ue){var Y=i.unstable_now();I=Y;var ae=!0;try{e:{O=!1,G&&(G=!1,X(x),x=-1),k=!0;var ge=S;try{t:{for(oe(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&j());){var De=b.callback;if(typeof De=="function"){b.callback=null,S=b.priorityLevel;var N=De(b.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){b.callback=N,oe(Y),ae=!0;break t}b===t(p)&&s(p),oe(Y)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var ie=t(g);ie!==null&&it(ce,ie.startTime-Y),ae=!1}}break e}finally{b=null,S=ge,k=!1}ae=void 0}}finally{ae?P():ue=!1}}}var P;if(typeof ee=="function")P=function(){ee(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ht=D.port2;D.port1.onmessage=V,P=function(){ht.postMessage(null)}}else P=function(){Q(V,0)};function it(Y,ae){x=Q(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var ge=S;S=ae;try{return Y()}finally{S=ge}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=S;S=Y;try{return ae()}finally{S=ge}},i.unstable_scheduleCallback=function(Y,ae,ge){var De=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,Y={id:v++,callback:ae,priorityLevel:Y,startTime:ge,expirationTime:N,sortIndex:-1},ge>De?(Y.sortIndex=ge,e(g,Y),t(p)===null&&Y===t(g)&&(G?(X(x),x=-1):G=!0,it(ce,ge-De))):(Y.sortIndex=N,e(p,Y),O||k||(O=!0,ue||(ue=!0,P()))),Y},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Y){var ae=S;return function(){var ge=S;S=ae;try{return Y.apply(this,arguments)}finally{S=ge}}}}(dm)),dm}var Mv;function RA(){return Mv||(Mv=1,fm.exports=AA()),fm.exports}var mm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function IA(){if(Vv)return xe;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,G={};function z(N,ie,le){this.props=N,this.context=ie,this.refs=G,this.updater=le||k}z.prototype.isReactComponent={},z.prototype.setState=function(N,ie){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ie,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function X(N,ie,le){this.props=N,this.context=ie,this.refs=G,this.updater=le||k}var ee=X.prototype=new Q;ee.constructor=X,O(ee,z.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function x(N,ie,le,re,ye,me){return le=me.ref,{$$typeof:i,type:N,key:ie,ref:le!==void 0?le:null,props:me}}function R(N,ie){return x(N.type,ie,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function j(N){var ie={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ie[le]})}var V=/\/+/g;function P(N,ie){return typeof N=="object"&&N!==null&&N.key!=null?j(""+N.key):ie.toString(36)}function D(){}function ht(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(ie){N.status==="pending"&&(N.status="fulfilled",N.value=ie)},function(ie){N.status==="pending"&&(N.status="rejected",N.reason=ie)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function it(N,ie,le,re,ye){var me=typeof N;(me==="undefined"||me==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(me){case"bigint":case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case i:case e:he=!0;break;case v:return he=N._init,it(he(N._payload),ie,le,re,ye)}}if(he)return ye=ye(N),he=re===""?"."+P(N,0):re,oe(ye)?(le="",he!=null&&(le=he.replace(V,"$&/")+"/"),it(ye,ie,le,"",function(Je){return Je})):ye!=null&&(I(ye)&&(ye=R(ye,le+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+he)),ie.push(ye)),1;he=0;var Ee=re===""?".":re+":";if(oe(N))for(var Ce=0;Ce<N.length;Ce++)re=N[Ce],me=Ee+P(re,Ce),he+=it(re,ie,le,me,ye);else if(Ce=S(N),typeof Ce=="function")for(N=Ce.call(N),Ce=0;!(re=N.next()).done;)re=re.value,me=Ee+P(re,Ce++),he+=it(re,ie,le,me,ye);else if(me==="object"){if(typeof N.then=="function")return it(ht(N),ie,le,re,ye);throw ie=String(N),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return he}function Y(N,ie,le){if(N==null)return N;var re=[],ye=0;return it(N,re,"","",function(me){return ie.call(le,me,ye++)}),re}function ae(N){if(N._status===-1){var ie=N._result;ie=ie(),ie.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ie)}if(N._status===1)return N._result.default;throw N._result}var ge=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function De(){}return xe.Children={map:Y,forEach:function(N,ie,le){Y(N,function(){ie.apply(this,arguments)},le)},count:function(N){var ie=0;return Y(N,function(){ie++}),ie},toArray:function(N){return Y(N,function(ie){return ie})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=z,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=X,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ce.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cloneElement=function(N,ie,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=O({},N.props),ye=N.key,me=void 0;if(ie!=null)for(he in ie.ref!==void 0&&(me=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!ue.call(ie,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ie.ref===void 0||(re[he]=ie[he]);var he=arguments.length-2;if(he===1)re.children=le;else if(1<he){for(var Ee=Array(he),Ce=0;Ce<he;Ce++)Ee[Ce]=arguments[Ce+2];re.children=Ee}return x(N.type,ye,void 0,void 0,me,re)},xe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xe.createElement=function(N,ie,le){var re,ye={},me=null;if(ie!=null)for(re in ie.key!==void 0&&(me=""+ie.key),ie)ue.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=ie[re]);var he=arguments.length-2;if(he===1)ye.children=le;else if(1<he){for(var Ee=Array(he),Ce=0;Ce<he;Ce++)Ee[Ce]=arguments[Ce+2];ye.children=Ee}if(N&&N.defaultProps)for(re in he=N.defaultProps,he)ye[re]===void 0&&(ye[re]=he[re]);return x(N,me,void 0,void 0,null,ye)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:m,render:N}},xe.isValidElement=I,xe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ae}},xe.memo=function(N,ie){return{$$typeof:g,type:N,compare:ie===void 0?null:ie}},xe.startTransition=function(N){var ie=ce.T,le={};ce.T=le;try{var re=N(),ye=ce.S;ye!==null&&ye(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(De,ge)}catch(me){ge(me)}finally{ce.T=ie}},xe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},xe.use=function(N){return ce.H.use(N)},xe.useActionState=function(N,ie,le){return ce.H.useActionState(N,ie,le)},xe.useCallback=function(N,ie){return ce.H.useCallback(N,ie)},xe.useContext=function(N){return ce.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,ie){return ce.H.useDeferredValue(N,ie)},xe.useEffect=function(N,ie,le){var re=ce.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(N,ie)},xe.useId=function(){return ce.H.useId()},xe.useImperativeHandle=function(N,ie,le){return ce.H.useImperativeHandle(N,ie,le)},xe.useInsertionEffect=function(N,ie){return ce.H.useInsertionEffect(N,ie)},xe.useLayoutEffect=function(N,ie){return ce.H.useLayoutEffect(N,ie)},xe.useMemo=function(N,ie){return ce.H.useMemo(N,ie)},xe.useOptimistic=function(N,ie){return ce.H.useOptimistic(N,ie)},xe.useReducer=function(N,ie,le){return ce.H.useReducer(N,ie,le)},xe.useRef=function(N){return ce.H.useRef(N)},xe.useState=function(N){return ce.H.useState(N)},xe.useSyncExternalStore=function(N,ie,le){return ce.H.useSyncExternalStore(N,ie,le)},xe.useTransition=function(){return ce.H.useTransition()},xe.version="19.1.0",xe}var Pv;function up(){return Pv||(Pv=1,mm.exports=IA()),mm.exports}var pm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function CA(){if(Lv)return Wt;Lv=1;var i=up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Wt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var Uv;function xA(){if(Uv)return pm.exports;Uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=CA(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function DA(){if(zv)return Pl;zv=1;var i=RA(),e=up(),t=xA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case ee:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:ht(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return ht(n(r))}catch{}}return null}var it=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],N=-1;function ie(n){return{current:n}}function le(n){0>N||(n.current=De[N],De[N]=null,N--)}function re(n,r){N++,De[N]=n.current,n.current=r}var ye=ie(null),me=ie(null),he=ie(null),Ee=ie(null);function Ce(n,r){switch(re(he,r),re(me,n),re(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?av(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=av(r),n=ov(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ye),re(ye,n)}function Je(){le(ye),le(me),le(he)}function lt(n){n.memoizedState!==null&&re(Ee,n);var r=ye.current,a=ov(r,n.type);r!==a&&(re(me,n),re(ye,a))}function on(n){me.current===n&&(le(ye),le(me)),Ee.current===n&&(le(Ee),Ol._currentValue=ge)}var rs=Object.prototype.hasOwnProperty,ss=i.unstable_scheduleCallback,as=i.unstable_cancelCallback,Co=i.unstable_shouldYield,Su=i.unstable_requestPaint,Sn=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,xo=i.unstable_ImmediatePriority,oa=i.unstable_UserBlockingPriority,os=i.unstable_NormalPriority,hf=i.unstable_LowPriority,la=i.unstable_IdlePriority,Do=i.log,wu=i.unstable_setDisableYieldValue,ft=null,Qe=null;function dn(n){if(typeof Do=="function"&&wu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,n)}catch{}}var Yt=Math.clz32?Math.clz32:ls,Au=Math.log,ff=Math.LN2;function ls(n){return n>>>=0,n===0?32:31-(Au(n)/ff|0)|0}var us=256,cs=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ua(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Bn(l):(E&=T,E!==0?f=Bn(E):a||(a=T&~n,a!==0&&(f=Bn(a))))):(T=l&~d,T!==0?f=Bn(T):E!==0?f=Bn(E):a||(a=l&~n,a!==0&&(f=Bn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function hs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Oo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var n=us;return us<<=1,(us&4194048)===0&&(us=256),n}function jo(){var n=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),n}function Ci(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function xi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ko(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Yt(a),te=1<<W;T[W]=0,C[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var $=H[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&ni(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ni(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Yt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Mo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ca(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function Ru(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var st=Math.random().toString(36).slice(2),It="__reactFiber$"+st,Et="__reactProps$"+st,wn="__reactContainer$"+st,Vo="__reactEvents$"+st,df="__reactListeners$"+st,fr="__reactHandles$"+st,Iu="__reactResources$"+st,fs="__reactMarker$"+st;function dr(n){delete n[It],delete n[Et],delete n[Vo],delete n[df],delete n[fr]}function Di(n){var r=n[It];if(r)return r;for(var a=n.parentNode;a;){if(r=a[wn]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=hv(n);n!==null;){if(a=n[It])return a;n=hv(n)}return r}n=a,a=n.parentNode}return null}function ii(n){if(n=n[It]||n[wn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ri(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function nn(n){var r=n[Iu];return r||(r=n[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[fs]=!0}var Po=new Set,ha={};function qn(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(ha[n]=r,n=0;n<r.length;n++)Po.add(r[n])}var Cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},ds={};function Du(n){return rs.call(ds,n)?!0:rs.call(xu,n)?!1:Cu.test(n)?ds[n]=!0:(xu[n]=!0,!1)}function mr(n,r,a){if(Du(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function si(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Bt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ms,Ou;function Ni(n){if(ms===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ms=r&&r[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+n+Ou}var fa=!1;function da(n,r){if(!n||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var H=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){H=$}n.call(te.prototype)}}else{try{throw Error()}catch($){H=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),F=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ni(a):""}function Lo(n){switch(n.tag){case 26:case 27:case 5:return Ni(n.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return da(n.type,!1);case 11:return da(n.type.render,!1);case 1:return da(n.type,!0);case 31:return Ni("Activity");default:return""}}function ma(n){try{var r="";do r+=Lo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(n){var r=Uo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function pa(n){n._valueTracker||(n._valueTracker=mf(n))}function zo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Uo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pf=/[\n"\\]/g;function Tt(n){return n.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?pr(n,E,rn(r)):a!=null?pr(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function gs(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function pr(n,r,a){r==="number"&&ps(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ji(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ye(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function ys(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function An(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||_s.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Bo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Nu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Nu(n,d,r[d])}function qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(n){return yf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ki=null;function Rn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mi=null,Vi=null;function Fo(n){var r=ii(n);if(r&&(n=r.stateNode)){var a=n[Et]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Et]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&zo(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ji(n,!!a.multiple,r,!1)}}}var ai=!1;function ju(n,r,a){if(ai)return n(r,a);ai=!0;try{var l=n(r);return l}finally{if(ai=!1,(Mi!==null||Vi!==null)&&(Rc(),Mi&&(r=Mi,n=Vi,Vi=Mi=null,Fo(r),n)))for(r=0;r<n.length;r++)Fo(n[r])}}function vs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Fn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){In=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{In=!1}var oi=null,gr=null,Pi=null;function Ho(){if(Pi)return Pi;var n,r=gr,a=r.length,l,f="value"in oi?oi.value:oi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Pi=f.slice(n,1<l?1-l:void 0)}function li(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ui(){return!0}function Go(){return!1}function jt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ui:Go,this.isPropagationStopped=Go,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=jt(He),Ts=v({},He,{view:0,detail:0}),ku=jt(Ts),_a,va,ci,bs=v({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ci&&(ci&&n.type==="mousemove"?(_a=n.screenX-ci.screenX,va=n.screenY-ci.screenY):va=_a=0,ci=n),_a)},movementY:function(n){return"movementY"in n?n.movementY:va}}),Cn=jt(bs),Mu=v({},bs,{dataTransfer:0}),_f=jt(Mu),Ss=v({},Ts,{relatedTarget:0}),Ea=jt(Ss),Qo=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=jt(Qo),Vu=v({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ba=jt(Vu),vf=v({},He,{data:0}),$o=jt(vf),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Lu[n])?!!r[n]:!1}function As(){return Ko}var Uu=v({},Ts,{key:function(n){if(n.key){var r=ws[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=li(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Pu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(n){return n.type==="keypress"?li(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?li(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sa=jt(Uu),zu=v({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=jt(zu),Li=v({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Bu=jt(Li),qu=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=jt(qu),Hu=v({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=jt(Hu),sn=v({},He,{newState:0,oldState:0}),Gu=jt(sn),Qu=[9,13,27,32],hi=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,_=Fn&&(!hi||c&&8<c&&11>=c),w=" ",B=!1;function K(n,r){switch(n){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function Ct(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return n=r.data,n===w&&B?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!hi&&K(n,r)?(n=Ho(),Pi=gr=oi=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!kt[n.type]:r==="textarea"}function Ui(n,r,a,l){Mi?Vi?Vi.push(l):Vi=[l]:Mi=l,r=Nc(r,"onChange"),0<r.length&&(a=new ya("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var qt=null,fi=null;function Xo(n){tv(n,0)}function $u(n){var r=ri(n);if(zo(r))return n}function bg(n,r){if(n==="change")return r}var Sg=!1;if(Fn){var Ef;if(Fn){var Tf="oninput"in document;if(!Tf){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Tf=typeof wg.oninput=="function"}Ef=Tf}else Ef=!1;Sg=Ef&&(!document.documentMode||9<document.documentMode)}function Ag(){qt&&(qt.detachEvent("onpropertychange",Rg),fi=qt=null)}function Rg(n){if(n.propertyName==="value"&&$u(fi)){var r=[];Ui(r,fi,n,Rn(n)),ju(Xo,r)}}function ZS(n,r,a){n==="focusin"?(Ag(),qt=r,fi=a,qt.attachEvent("onpropertychange",Rg)):n==="focusout"&&Ag()}function JS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $u(fi)}function ew(n,r){if(n==="click")return $u(r)}function tw(n,r){if(n==="input"||n==="change")return $u(r)}function nw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:nw;function Wo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!rs.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Ig(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cg(n,r){var a=Ig(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function xg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?xg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Dg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ps(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ps(n.document)}return r}function bf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var iw=Fn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Sf=null,Zo=null,wf=!1;function Og(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Aa==null||Aa!==ps(l)||(l=Aa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Nc(Sf,"onSelect"),0<l.length&&(r=new ya("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Aa)))}function Rs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ra={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Af={},Ng={};Fn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Is(n){if(Af[n])return Af[n];if(!Ra[n])return n;var r=Ra[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ng)return Af[n]=r[a];return n}var jg=Is("animationend"),kg=Is("animationiteration"),Mg=Is("animationstart"),rw=Is("transitionrun"),sw=Is("transitionstart"),aw=Is("transitioncancel"),Vg=Is("transitionend"),Pg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Hn(n,r){Pg.set(n,r),qn(r,[n])}var Lg=new WeakMap;function xn(n,r){if(typeof n=="object"&&n!==null){var a=Lg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ma(r)},Lg.set(n,r),r)}return{value:n,source:r,stack:ma(r)}}var Dn=[],Ia=0,If=0;function Ku(){for(var n=Ia,r=If=Ia=0;r<n;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Ug(a,f,d)}}function Yu(n,r,a,l){Dn[Ia++]=n,Dn[Ia++]=r,Dn[Ia++]=a,Dn[Ia++]=l,If|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Cf(n,r,a,l){return Yu(n,r,a,l),Xu(n)}function Ca(n,r){return Yu(n,null,null,r),Xu(n)}function Ug(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Xu(n){if(50<Sl)throw Sl=0,kd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xa={};function ow(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new ow(n,r,a,l)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zi(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function zg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Wu(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")xf(n)&&(E=1);else if(typeof n=="string")E=uA(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=gn(31,a,r,f),n.elementType=I,n.lanes=d,n;case O:return Cs(a.children,f,d,r);case G:E=8,f|=24;break;case z:return n=gn(12,a,r,f|2),n.elementType=z,n.lanes=d,n;case ce:return n=gn(13,a,r,f),n.elementType=ce,n.lanes=d,n;case ue:return n=gn(19,a,r,f),n.elementType=ue,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case ee:E=10;break e;case X:E=9;break e;case oe:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Cs(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function Df(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Of(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Da=[],Oa=0,Zu=null,Ju=0,On=[],Nn=0,xs=null,Bi=1,qi="";function Ds(n,r){Da[Oa++]=Ju,Da[Oa++]=Zu,Zu=n,Ju=r}function Bg(n,r,a){On[Nn++]=Bi,On[Nn++]=qi,On[Nn++]=xs,xs=n;var l=Bi;n=qi;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Bi=1<<32-Yt(r)+f|a<<f|l,qi=d+n}else Bi=1<<d|a<<f|l,qi=n}function Nf(n){n.return!==null&&(Ds(n,1),Bg(n,1,0))}function jf(n){for(;n===Zu;)Zu=Da[--Oa],Da[Oa]=null,Ju=Da[--Oa],Da[Oa]=null;for(;n===xs;)xs=On[--Nn],On[Nn]=null,qi=On[--Nn],On[Nn]=null,Bi=On[--Nn],On[Nn]=null}var an=null,dt=null,Fe=!1,Os=null,di=!1,kf=Error(s(519));function Ns(n){var r=Error(s(418,""));throw tl(xn(r,n)),kf}function qg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[It]=n,r[Et]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Me(Al[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),gs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),ys(r,l.value,l.defaultValue,l.children),pa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||sv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Ns(n)}function Fg(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:an=an.return}}function Jo(n){if(n!==an)return!1;if(!Fe)return Fg(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xd(n.type,n.memoizedProps)),a=!a),a&&dt&&Ns(n),Fg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=Qn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,Nr(n.type)?(n=em,em=null,dt=n):dt=r):dt=an?Qn(n.stateNode.nextSibling):null;return!0}function el(){dt=an=null,Fe=!1}function Hg(){var n=Os;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),Os=null),n}function tl(n){Os===null?Os=[n]:Os.push(n)}var Mf=ie(null),js=null,Fi=null;function yr(n,r,a){re(Mf,r._currentValue),r._currentValue=a}function Hi(n){n._currentValue=Mf.current,le(Mf)}function Vf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Pf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Vf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function nl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Ee.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ol):n=[Ol])}f=f.return}n!==null&&Pf(r,n,a,l),r.flags|=262144}function ec(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ks(n){js=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return Gg(js,n)}function tc(n,r){return js===null&&ks(n),Gg(n,r)}function Gg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var lw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},uw=i.unstable_scheduleCallback,cw=i.unstable_NormalPriority,Dt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new lw,data:new Map,refCount:0}}function il(n){n.refCount--,n.refCount===0&&uw(cw,function(){n.controller.abort()})}var rl=null,Uf=0,Na=0,ja=null;function hw(n,r){if(rl===null){var a=rl=[];Uf=0,Na=Bd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then(Qg,Qg),r}function Qg(){if(--Uf===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var n=rl;rl=null,Na=0,ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function fw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var $g=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hw(n,r),$g!==null&&$g(n,r)};var Ms=ie(null);function zf(){var n=Ms.current;return n!==null?n:nt.pooledCache}function nc(n,r){r===null?re(Ms,Ms.current):re(Ms,r.pool)}function Kg(){var n=zf();return n===null?null:{parent:Dt._currentValue,pool:n}}var sl=Error(s(460)),Yg=Error(s(474)),ic=Error(s(542)),Bf={then:function(){}};function Xg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rc(){}function Wg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(rc,rc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jg(n),n;default:if(typeof r.status=="string")r.then(rc,rc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jg(n),n}throw al=r,sl}}var al=null;function Zg(){if(al===null)throw Error(s(459));var n=al;return al=null,n}function Jg(n){if(n===sl||n===ic)throw Error(s(483))}var _r=!1;function qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Er(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Xu(n),Ug(n,null,a),r}return Yu(n,l,r,a),Xu(n)}function ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Mo(n,a)}}function Hf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Gf=!1;function ll(){if(Gf){var n=ja;if(n!==null)throw n}}function ul(n,r,a,l){Gf=!1;var f=n.updateQueue;_r=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=C))}if(d!==null){var te=f.baseState;E=0,W=F=C=null,T=d;do{var H=T.lane&-536870913,$=H!==T.lane;if($?(ze&H)===H:(l&H)===H){H!==0&&H===Na&&(Gf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=n,Te=T;H=r;var Ze=a;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){te=Ae.call(Ze,te,H);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,H=typeof Ae=="function"?Ae.call(Ze,te,H):Ae,H==null)break e;te=v({},te,H);break e;case 2:_r=!0}}H=T.callback,H!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[H]:$.push(H))}else $={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=$,C=te):W=W.next=$,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(C=te),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Cr|=E,n.lanes=E,n.memoizedState=te}}function ey(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ty(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ey(a[n],r)}var ka=ie(null),sc=ie(0);function ny(n,r){n=Wi,re(sc,n),re(ka,r),Wi=n|r.baseLanes}function Qf(){re(sc,Wi),re(ka,ka.current)}function $f(){Wi=sc.current,le(ka),le(sc)}var Tr=0,Oe=null,Xe=null,bt=null,ac=!1,Ma=!1,Vs=!1,oc=0,cl=0,Va=null,dw=0;function gt(){throw Error(s(321))}function Kf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function Yf(n,r,a,l,f,d){return Tr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?Uy:zy,Vs=!1,d=a(l,f),Vs=!1,Ma&&(d=ry(r,a,l,f)),iy(n),d}function iy(n){Y.H=dc;var r=Xe!==null&&Xe.next!==null;if(Tr=0,bt=Xe=Oe=null,ac=!1,cl=0,Va=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&ec(n)&&(Mt=!0))}function ry(n,r,a,l){Oe=n;var f=0;do{if(Ma&&(Va=null),cl=0,Ma=!1,25<=f)throw Error(s(301));if(f+=1,bt=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ew,d=r(a,l)}while(Ma);return d}function mw(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?hl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Xf(){var n=oc!==0;return oc=0,n}function Wf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Zf(n){if(ac){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ac=!1}Tr=0,bt=Xe=Oe=null,Ma=!1,cl=oc=0,Va=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=n:bt=bt.next=n,bt}function St(){if(Xe===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=bt===null?Oe.memoizedState:bt.next;if(r!==null)bt=r,Xe=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},bt===null?Oe.memoizedState=bt=n:bt=bt.next=n}return bt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(n){var r=cl;return cl+=1,Va===null&&(Va=[]),n=Wg(Va,n,r),r=Oe,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Uy:zy),n}function lc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hl(n);if(n.$$typeof===ee)return Xt(n)}throw Error(s(438,String(n)))}function ed(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Jf(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=j;return r.index++,a}function Gi(n,r){return typeof r=="function"?r(n):r}function uc(n){var r=St();return td(r,Xe,n)}function td(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,C=null,F=r,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(ze&te)===te:(Tr&te)===te){var H=F.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Na&&(W=!0);else if((Tr&H)===H){F=F.next,H===Na&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=te,E=d):C=C.next=te,Oe.lanes|=H,Cr|=H;te=F.action,Vs&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else H={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=H,E=d):C=C.next=H,Oe.lanes|=te,Cr|=te;F=F.next}while(F!==null&&F!==r);if(C===null?E=d:C.next=T,!pn(d,n.memoizedState)&&(Mt=!0,W&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function nd(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);pn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(n,r,a){var l=Oe,f=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Mt=!0),f=f.queue;var T=ly.bind(null,l,f,n);if(fl(2048,8,T,[n]),f.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,cc(),oy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(Tr&124)!==0||ay(l,r,a)}return a}function ay(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Jf(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function oy(n,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(n)}function ly(n,r,a){return a(function(){uy(r)&&cy(n)})}function uy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function cy(n){var r=Ca(n,2);r!==null&&Tn(r,n,2)}function id(n){var r=ln();if(typeof n=="function"){var a=n;if(n=a(),Vs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},r}function hy(n,r,a,l){return n.baseState=a,td(n,Xe,typeof l=="function"?l:Gi)}function pw(n,r,a,l,f){if(fc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Y.T,E={};Y.T=E;try{var T=a(f,l),C=Y.S;C!==null&&C(E,T),dy(n,r,T)}catch(F){rd(n,r,F)}finally{Y.T=d}}else try{d=a(f,l),dy(n,r,d)}catch(F){rd(n,r,F)}}function dy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(n,r,l)},function(l){return rd(n,r,l)}):my(n,r,a)}function my(n,r,a){r.status="fulfilled",r.value=a,py(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,fy(n,a)))}function rd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}n.action=null}function py(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gy(n,r){return r}function yy(n,r){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Fe){if(dt){t:{for(var f=dt,d=di;f.nodeType!==8;){if(!d){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=Qn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Vy.bind(null,Oe,l),l.dispatch=a,l=id(!1),d=ud.bind(null,Oe,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=pw.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function _y(n){var r=St();return vy(r,Xe,n)}function vy(n,r,a){if(r=td(n,r,gy)[0],n=uc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(E){throw E===sl?ic:E}else l=r;r=St();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Pa(9,cc(),gw.bind(null,f,a),null)),[l,d,n]}function gw(n,r){n.action=r}function Ey(n){var r=St(),a=Xe;if(a!==null)return vy(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Pa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Jf(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function cc(){return{destroy:void 0,resource:void 0}}function Ty(){return St().memoizedState}function hc(n,r,a,l){var f=ln();l=l===void 0?null:l,Oe.flags|=n,f.memoizedState=Pa(1|r,cc(),a,l)}function fl(n,r,a,l){var f=St();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Kf(l,Xe.memoizedState.deps)?f.memoizedState=Pa(r,d,a,l):(Oe.flags|=n,f.memoizedState=Pa(1|r,d,a,l))}function by(n,r){hc(8390656,8,n,r)}function Sy(n,r){fl(2048,8,n,r)}function wy(n,r){return fl(4,2,n,r)}function Ay(n,r){return fl(4,4,n,r)}function Ry(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Iy(n,r,a){a=a!=null?a.concat([n]):null,fl(4,4,Ry.bind(null,r,n),a)}function sd(){}function Cy(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function xy(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kf(r,l[1]))return l[0];if(l=n(),Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function ad(n,r,a){return a===void 0||(Tr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=N_(),Oe.lanes|=n,Cr|=n,a)}function Dy(n,r,a,l){return pn(a,r)?a:ka.current!==null?(n=ad(n,a,l),pn(n,r)||(Mt=!0),n):(Tr&42)===0?(Mt=!0,n.memoizedState=a):(n=N_(),Oe.lanes|=n,Cr|=n,r)}function Oy(n,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=Y.T,T={};Y.T=T,ud(n,!1,r,a);try{var C=f(),F=Y.S;if(F!==null&&F(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=fw(C,l);dl(n,r,W,En(n))}else dl(n,r,l,En(n))}catch(te){dl(n,r,{then:function(){},status:"rejected",reason:te},En())}finally{ae.p=d,Y.T=E}}function yw(){}function od(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Ny(n).queue;Oy(n,f,r,ge,a===null?yw:function(){return jy(n),a(l)})}function Ny(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function jy(n){var r=Ny(n).next.queue;dl(n,r,{},En())}function ld(){return Xt(Ol)}function ky(){return St().memoizedState}function My(){return St().memoizedState}function _w(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=vr(a);var l=Er(r,n,a);l!==null&&(Tn(l,r,a),ol(l,r,a)),r={cache:Lf()},n.payload=r;return}r=r.return}}function vw(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fc(n)?Py(r,a):(a=Cf(n,r,a,l),a!==null&&(Tn(a,n,l),Ly(a,r,l)))}function Vy(n,r,a){var l=En();dl(n,r,a,l)}function dl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(n))Py(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,E))return Yu(n,r,f,0),nt===null&&Ku(),!1}catch{}finally{}if(a=Cf(n,r,f,l),a!==null)return Tn(a,n,l),Ly(a,r,l),!0}return!1}function ud(n,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},fc(n)){if(r)throw Error(s(479))}else r=Cf(n,a,l,2),r!==null&&Tn(r,n,2)}function fc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Py(n,r){Ma=ac=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ly(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Mo(n,a)}}var dc={readContext:Xt,use:lc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Uy={readContext:Xt,use:lc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Xt,useEffect:by,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,hc(4194308,4,Ry.bind(null,r,n),a)},useLayoutEffect:function(n,r){return hc(4194308,4,n,r)},useInsertionEffect:function(n,r){hc(4,2,n,r)},useMemo:function(n,r){var a=ln();r=r===void 0?null:r;var l=n();if(Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=ln();if(a!==void 0){var f=a(r);if(Vs){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=vw.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=id(n);var r=n.queue,a=Vy.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(n,r){var a=ln();return ad(a,n,r)},useTransition:function(){var n=id(!1);return n=Oy.bind(null,Oe,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,f=ln();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ze&124)!==0||ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,by(ly.bind(null,l,d,n),[n]),l.flags|=2048,Pa(9,cc(),oy.bind(null,l,d,a,r),null),a},useId:function(){var n=ln(),r=nt.identifierPrefix;if(Fe){var a=qi,l=Bi;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=oc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=dw++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:ld,useFormState:yy,useActionState:yy,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:ed,useCacheRefresh:function(){return ln().memoizedState=_w.bind(null,Oe)}},zy={readContext:Xt,use:lc,useCallback:Cy,useContext:Xt,useEffect:Sy,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:xy,useReducer:uc,useRef:Ty,useState:function(){return uc(Gi)},useDebugValue:sd,useDeferredValue:function(n,r){var a=St();return Dy(a,Xe.memoizedState,n,r)},useTransition:function(){var n=uc(Gi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:ld,useFormState:_y,useActionState:_y,useOptimistic:function(n,r){var a=St();return hy(a,Xe,n,r)},useMemoCache:ed,useCacheRefresh:My},Ew={readContext:Xt,use:lc,useCallback:Cy,useContext:Xt,useEffect:Sy,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:xy,useReducer:nd,useRef:Ty,useState:function(){return nd(Gi)},useDebugValue:sd,useDeferredValue:function(n,r){var a=St();return Xe===null?ad(a,n,r):Dy(a,Xe.memoizedState,n,r)},useTransition:function(){var n=nd(Gi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:sy,useId:ky,useHostTransitionStatus:ld,useFormState:Ey,useActionState:Ey,useOptimistic:function(n,r){var a=St();return Xe!==null?hy(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:My},La=null,ml=0;function mc(n){var r=ml;return ml+=1,La===null&&(La=[]),Wg(La,n,r)}function pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function pc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function By(n){var r=n._init;return r(n._payload)}function qy(n){function r(L,M){if(n){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!n)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=zi(L,M),L.index=0,L.sibling=null,L}function d(L,M,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,q,Z){return M===null||M.tag!==6?(M=Df(q,L.mode,Z),M.return=L,M):(M=f(M,q),M.return=L,M)}function C(L,M,q,Z){var pe=q.type;return pe===O?W(L,M,q.props.children,Z,q.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&By(pe)===M.type)?(M=f(M,q.props),pl(M,q),M.return=L,M):(M=Wu(q.type,q.key,q.props,null,L.mode,Z),pl(M,q),M.return=L,M)}function F(L,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Of(q,L.mode,Z),M.return=L,M):(M=f(M,q.children||[]),M.return=L,M)}function W(L,M,q,Z,pe){return M===null||M.tag!==7?(M=Cs(q,L.mode,Z,pe),M.return=L,M):(M=f(M,q),M.return=L,M)}function te(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Df(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return q=Wu(M.type,M.key,M.props,null,L.mode,q),pl(q,M),q.return=L,q;case k:return M=Of(M,L.mode,q),M.return=L,M;case R:var Z=M._init;return M=Z(M._payload),te(L,M,q)}if(it(M)||P(M))return M=Cs(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return te(L,mc(M),q);if(M.$$typeof===ee)return te(L,tc(L,M),q);pc(L,M)}return null}function H(L,M,q,Z){var pe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:T(L,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===pe?C(L,M,q,Z):null;case k:return q.key===pe?F(L,M,q,Z):null;case R:return pe=q._init,q=pe(q._payload),H(L,M,q,Z)}if(it(q)||P(q))return pe!==null?null:W(L,M,q,Z,null);if(typeof q.then=="function")return H(L,M,mc(q),Z);if(q.$$typeof===ee)return H(L,M,tc(L,q),Z);pc(L,q)}return null}function $(L,M,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(M,L,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?q:Z.key)||null,C(M,L,Z,pe);case k:return L=L.get(Z.key===null?q:Z.key)||null,F(M,L,Z,pe);case R:var je=Z._init;return Z=je(Z._payload),$(L,M,q,Z,pe)}if(it(Z)||P(Z))return L=L.get(q)||null,W(M,L,Z,pe,null);if(typeof Z.then=="function")return $(L,M,q,mc(Z),pe);if(Z.$$typeof===ee)return $(L,M,q,tc(M,Z),pe);pc(M,Z)}return null}function Ae(L,M,q,Z){for(var pe=null,je=null,_e=M,be=M=0,Pt=null;_e!==null&&be<q.length;be++){_e.index>be?(Pt=_e,_e=null):Pt=_e.sibling;var qe=H(L,_e,q[be],Z);if(qe===null){_e===null&&(_e=Pt);break}n&&_e&&qe.alternate===null&&r(L,_e),M=d(qe,M,be),je===null?pe=qe:je.sibling=qe,je=qe,_e=Pt}if(be===q.length)return a(L,_e),Fe&&Ds(L,be),pe;if(_e===null){for(;be<q.length;be++)_e=te(L,q[be],Z),_e!==null&&(M=d(_e,M,be),je===null?pe=_e:je.sibling=_e,je=_e);return Fe&&Ds(L,be),pe}for(_e=l(_e);be<q.length;be++)Pt=$(_e,L,be,q[be],Z),Pt!==null&&(n&&Pt.alternate!==null&&_e.delete(Pt.key===null?be:Pt.key),M=d(Pt,M,be),je===null?pe=Pt:je.sibling=Pt,je=Pt);return n&&_e.forEach(function(Pr){return r(L,Pr)}),Fe&&Ds(L,be),pe}function Te(L,M,q,Z){if(q==null)throw Error(s(151));for(var pe=null,je=null,_e=M,be=M=0,Pt=null,qe=q.next();_e!==null&&!qe.done;be++,qe=q.next()){_e.index>be?(Pt=_e,_e=null):Pt=_e.sibling;var Pr=H(L,_e,qe.value,Z);if(Pr===null){_e===null&&(_e=Pt);break}n&&_e&&Pr.alternate===null&&r(L,_e),M=d(Pr,M,be),je===null?pe=Pr:je.sibling=Pr,je=Pr,_e=Pt}if(qe.done)return a(L,_e),Fe&&Ds(L,be),pe;if(_e===null){for(;!qe.done;be++,qe=q.next())qe=te(L,qe.value,Z),qe!==null&&(M=d(qe,M,be),je===null?pe=qe:je.sibling=qe,je=qe);return Fe&&Ds(L,be),pe}for(_e=l(_e);!qe.done;be++,qe=q.next())qe=$(_e,L,be,qe.value,Z),qe!==null&&(n&&qe.alternate!==null&&_e.delete(qe.key===null?be:qe.key),M=d(qe,M,be),je===null?pe=qe:je.sibling=qe,je=qe);return n&&_e.forEach(function(TA){return r(L,TA)}),Fe&&Ds(L,be),pe}function Ze(L,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var pe=q.key;M!==null;){if(M.key===pe){if(pe=q.type,pe===O){if(M.tag===7){a(L,M.sibling),Z=f(M,q.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&By(pe)===M.type){a(L,M.sibling),Z=f(M,q.props),pl(Z,q),Z.return=L,L=Z;break e}a(L,M);break}else r(L,M);M=M.sibling}q.type===O?(Z=Cs(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=Wu(q.type,q.key,q.props,null,L.mode,Z),pl(Z,q),Z.return=L,L=Z)}return E(L);case k:e:{for(pe=q.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),Z=f(M,q.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else r(L,M);M=M.sibling}Z=Of(q,L.mode,Z),Z.return=L,L=Z}return E(L);case R:return pe=q._init,q=pe(q._payload),Ze(L,M,q,Z)}if(it(q))return Ae(L,M,q,Z);if(P(q)){if(pe=P(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),Te(L,M,q,Z)}if(typeof q.then=="function")return Ze(L,M,mc(q),Z);if(q.$$typeof===ee)return Ze(L,M,tc(L,q),Z);pc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),Z=f(M,q),Z.return=L,L=Z):(a(L,M),Z=Df(q,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,M)}return function(L,M,q,Z){try{ml=0;var pe=Ze(L,M,q,Z);return La=null,pe}catch(_e){if(_e===sl||_e===ic)throw _e;var je=gn(29,_e,null,L.mode);return je.lanes=Z,je.return=L,je}finally{}}}var Ua=qy(!0),Fy=qy(!1),jn=ie(null),mi=null;function br(n){var r=n.alternate;re(Ot,Ot.current&1),re(jn,n),mi===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(mi=n)}function Hy(n){if(n.tag===22){if(re(Ot,Ot.current),re(jn,n),mi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(mi=n)}}else Sr()}function Sr(){re(Ot,Ot.current),re(jn,jn.current)}function Qi(n){le(jn),mi===n&&(mi=null),le(Ot)}var Ot=ie(0);function gc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=vr(l);f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,l),r!==null&&(Tn(r,n,l),ol(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=vr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,l),r!==null&&(Tn(r,n,l),ol(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(n,l,a),r!==null&&(Tn(r,n,a),ol(r,n,a))}};function Gy(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(f,d):!0}function Qy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&hd.enqueueReplaceState(r,r.state,null)}function Ps(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var yc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function $y(n){yc(n)}function Ky(n){console.error(n)}function Yy(n){yc(n)}function _c(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(n,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,r)},a}function Wy(n){return n=vr(n),n.tag=3,n}function Zy(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Xy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Xy(r,a,l),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Tw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&nl(r,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 13:return mi===null?Vd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ld(n,l,f)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ld(n,l,f)),!1}throw Error(s(435,a.tag))}return Ld(n,l,f),Vd(),!1}if(Fe)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==kf&&(n=Error(s(422),{cause:l}),tl(xn(n,a)))):(l!==kf&&(r=Error(s(423),{cause:l}),tl(xn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=xn(l,a),f=fd(n.stateNode,l,f),Hf(n,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),bl===null?bl=[d]:bl.push(d),mt!==4&&(mt=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=fd(a.stateNode,l,n),Hf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Zy(f,n,a,l),Hf(a,f),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),Mt=!1;function Ft(n,r,a,l){r.child=n===null?Fy(r,null,a,l):Ua(r,n.child,a,l)}function e_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ks(r),l=Yf(n,r,a,E,d,f),T=Xf(),n!==null&&!Mt?(Wf(n,r,f),$i(n,r,f)):(Fe&&T&&Nf(r),r.flags|=1,Ft(n,r,l,f),r.child)}function t_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,n_(n,r,d,l,f)):(n=Wu(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Ed(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(E,l)&&n.ref===r.ref)return $i(n,r,f)}return r.flags|=1,n=zi(d,l),n.ref=r.ref,n.return=r,r.child=n}function n_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Wo(d,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,Ed(n,f))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,$i(n,r,f)}return dd(n,r,a,l,f)}function i_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return r_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&nc(r,d!==null?d.cachePool:null),d!==null?ny(r,d):Qf(),Hy(r);else return r.lanes=r.childLanes=536870912,r_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(nc(r,d.cachePool),ny(r,d),Sr(),r.memoizedState=null):(n!==null&&nc(r,null),Qf(),Sr());return Ft(n,r,f,a),r.child}function r_(n,r,a,l){var f=zf();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&nc(r,null),Qf(),Hy(r),n!==null&&nl(n,r,l,!0),null}function vc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function dd(n,r,a,l,f){return ks(r),a=Yf(n,r,a,l,void 0,f),l=Xf(),n!==null&&!Mt?(Wf(n,r,f),$i(n,r,f)):(Fe&&l&&Nf(r),r.flags|=1,Ft(n,r,a,f),r.child)}function s_(n,r,a,l,f,d){return ks(r),r.updateQueue=null,a=ry(r,l,a,f),iy(n),l=Xf(),n!==null&&!Mt?(Wf(n,r,d),$i(n,r,d)):(Fe&&l&&Nf(r),r.flags|=1,Ft(n,r,a,d),r.child)}function a_(n,r,a,l,f){if(ks(r),r.stateNode===null){var d=xa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):xa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(cd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&hd.enqueueReplaceState(d,d.state,null),ul(r,l,d,f),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=Ps(a,T);d.props=C;var F=d.context,W=a.contextType;E=xa,typeof W=="object"&&W!==null&&(E=Xt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&Qy(r,d,l,E),_r=!1;var H=r.memoizedState;d.state=H,ul(r,l,d,f),ll(),F=r.memoizedState,T||H!==F||_r?(typeof te=="function"&&(cd(r,a,te,l),F=r.memoizedState),(C=_r||Gy(r,a,C,l,H,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ff(n,r),E=r.memoizedProps,W=Ps(a,E),d.props=W,te=r.pendingProps,H=d.context,F=a.contextType,C=xa,typeof F=="object"&&F!==null&&(C=Xt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||H!==C)&&Qy(r,d,l,C),_r=!1,H=r.memoizedState,d.state=H,ul(r,l,d,f),ll();var $=r.memoizedState;E!==te||H!==$||_r||n!==null&&n.dependencies!==null&&ec(n.dependencies)?(typeof T=="function"&&(cd(r,a,T,l),$=r.memoizedState),(W=_r||Gy(r,a,W,l,H,$,C)||n!==null&&n.dependencies!==null&&ec(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,vc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ua(r,n.child,null,f),r.child=Ua(r,null,a,f)):Ft(n,r,a,f),r.memoizedState=d.state,n=r.child):n=$i(n,r,f),n}function o_(n,r,a,l){return el(),r.flags|=256,Ft(n,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(n){return{baseLanes:n,cachePool:Kg()}}function gd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=kn),n}function l_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?br(r):Sr(),Fe){var T=dt,C;if(C=T){e:{for(C=T,T=di;C.nodeType!==8;){if(!T){T=null;break e}if(C=Qn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,an=r,dt=null,C=!0):C=!1}C||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Jd(T)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return T=l.children,l=l.fallback,f?(Sr(),f=r.mode,T=Ec({mode:"hidden",children:T},f),l=Cs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=pd(a),f.childLanes=gd(n,E,a),r.memoizedState=md,l):(br(r),yd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(br(r),r.flags&=-257,r=_d(n,r,a)):r.memoizedState!==null?(Sr(),r.child=n.child,r.flags|=128,r=null):(Sr(),f=l.fallback,T=r.mode,l=Ec({mode:"visible",children:l.children},T),f=Cs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ua(r,n.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(n,E,a),r.memoizedState=md,r=f);else if(br(r),Jd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,tl({value:l,source:null,stack:null}),r=_d(n,r,a)}else if(Mt||nl(n,r,a,!1),E=(a&n.childLanes)!==0,Mt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ca(n,l),Tn(E,n,l),Jy;T.data==="$?"||Vd(),r=_d(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,dt=Qn(T.nextSibling),an=r,Fe=!0,Os=null,di=!1,n!==null&&(On[Nn++]=Bi,On[Nn++]=qi,On[Nn++]=xs,Bi=n.id,qi=n.overflow,xs=r),r=yd(r,l.children),r.flags|=4096);return r}return f?(Sr(),f=l.fallback,T=r.mode,C=n.child,F=C.sibling,l=zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=zi(F,f):(f=Cs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=pd(a):(C=T.cachePool,C!==null?(F=Dt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=Kg(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=gd(n,E,a),r.memoizedState=md,l):(br(r),a=n.child,n=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function yd(n,r){return r=Ec({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ec(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function _d(n,r,a){return Ua(r,n.child,null,a),n=yd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function u_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Vf(n.return,r,a)}function vd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function c_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ft(n,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u_(n,a,r);else if(n.tag===19)u_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(Ot,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&gc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&gc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}vd(r,!0,a,null,d);break;case"together":vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(nl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=zi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=zi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ec(n)))}function bw(n,r,a){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),yr(r,Dt,n.memoizedState.cache),el();break;case 27:case 5:lt(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l_(n,r,a):(br(r),n=$i(n,r,a),n!==null?n.sibling:null);br(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(nl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return c_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,i_(n,r,a);case 24:yr(r,Dt,n.memoizedState.cache)}return $i(n,r,a)}function h_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Ed(n,a)&&(r.flags&128)===0)return Mt=!1,bw(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,Fe&&(r.flags&1048576)!==0&&Bg(r,Ju,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")xf(l)?(n=Ps(l,n),r.tag=1,r=a_(null,r,l,n,a)):(r.tag=0,r=dd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){r.tag=11,r=e_(null,r,l,n,a);break e}else if(f===x){r.tag=14,r=t_(null,r,l,n,a);break e}}throw r=ht(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ps(l,r.pendingProps),a_(n,r,l,f,a);case 3:e:{if(Ce(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Ff(n,r),ul(r,l,null,a);var E=r.memoizedState;if(l=E.cache,yr(r,Dt,l),l!==d.cache&&Pf(r,[Dt],a,!0),ll(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(n,r,l,a);break e}else if(l!==f){f=xn(Error(s(424)),r),tl(f),r=o_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=Qn(n.firstChild),an=r,Fe=!0,Os=null,di=!0,a=Fy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===f){r=$i(n,r,a);break e}Ft(n,r,l,a)}r=r.child}return r;case 26:return vc(n,r),n===null?(a=pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=kc(he.current).createElement(a),l[It]=r,l[Et]=n,Gt(l,a,n),pt(l),r.stateNode=l):r.memoizedState=pv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return lt(r),n===null&&Fe&&(l=r.stateNode=fv(r.type,r.pendingProps,he.current),an=r,di=!0,f=dt,Nr(r.type)?(em=f,dt=Qn(l.firstChild)):dt=f),Ft(n,r,r.pendingProps.children,a),vc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((f=l=dt)&&(l=Xw(l,r.type,r.pendingProps,di),l!==null?(r.stateNode=l,an=r,dt=Qn(l.firstChild),di=!1,f=!0):f=!1),f||Ns(r)),lt(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Xd(f,d)?l=null:E!==null&&Xd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Yf(n,r,mw,null,null,a),Ol._currentValue=f),vc(n,r),Ft(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=dt)&&(a=Ww(a,r.pendingProps,di),a!==null?(r.stateNode=a,an=r,dt=null,n=!0):n=!1),n||Ns(r)),null;case 13:return l_(n,r,a);case 4:return Ce(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ua(r,null,l,a):Ft(n,r,l,a),r.child;case 11:return e_(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),Ft(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ks(r),f=Xt(f),l=l(f),r.flags|=1,Ft(n,r,l,a),r.child;case 14:return t_(n,r,r.type,r.pendingProps,a);case 15:return n_(n,r,r.type,r.pendingProps,a);case 19:return c_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Ec(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=zi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return i_(n,r,a);case 24:return ks(r),l=Xt(Dt),n===null?(f=zf(),f===null&&(f=nt,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},qf(r),yr(r,Dt,f)):((n.lanes&a)!==0&&(Ff(n,r),ul(r,null,null,a),ll()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,Dt,l)):(l=d.cache,yr(r,Dt,l),l!==f.cache&&Pf(r,[Dt],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ki(n){n.flags|=4}function f_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ev(r)){if(r=jn.current,r!==null&&((ze&4194048)===ze?mi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==mi))throw al=Bf,Yg;n.flags|=8192}}function Tc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?jo():536870912,n.lanes|=r,Fa|=r)}function gl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Sw(n,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(Dt),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Jo(r)?Ki(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hg())),ut(r),null;case 26:return a=r.memoizedState,n===null?(Ki(r),a!==null?(ut(r),f_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Ki(r),ut(r),f_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&Ki(r),ut(r),r.flags&=-16777217),null;case 27:on(r),a=he.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=ye.current,Jo(r)?qg(r):(n=fv(f,l,a),r.stateNode=n,Ki(r))}return ut(r),null;case 5:if(on(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=ye.current,Jo(r))qg(r);else{switch(f=kc(he.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[It]=r,n[Et]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Gt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ki(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=he.current,Jo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[It]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(n.nodeValue,a)),n||Ns(r)}else n=kc(n).createTextNode(l),n[It]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Jo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=Hg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Tc(r,r.updateQueue),ut(r),null;case 4:return Je(),n===null&&Gd(r.stateNode.containerInfo),ut(r),null;case 10:return Hi(r.type),ut(r),null;case 19:if(le(Ot),f=r.memoizedState,f===null)return ut(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)gl(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=gc(n),d!==null){for(r.flags|=128,gl(f,!1),n=d.updateQueue,r.updateQueue=n,Tc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)zg(a,n),a=a.sibling;return re(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&Sn()>wc&&(r.flags|=128,l=!0,gl(f,!1),r.lanes=4194304)}else{if(!l)if(n=gc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Tc(r,n),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(r),null}else 2*Sn()-f.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,l=!0,gl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,n=Ot.current,re(Ot,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return Qi(r),$f(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Tc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&le(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hi(Dt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ww(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Hi(Dt),Je(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return on(r),null;case 13:if(Qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return le(Ot),null;case 4:return Je(),null;case 10:return Hi(r.type),null;case 22:case 23:return Qi(r),$f(),n!==null&&le(Ms),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Hi(Dt),null;case 25:return null;default:return null}}function d_(n,r){switch(jf(r),r.tag){case 3:Hi(Dt),Je();break;case 26:case 27:case 5:on(r);break;case 4:Je();break;case 13:Qi(r);break;case 19:le(Ot);break;case 10:Hi(r.type);break;case 22:case 23:Qi(r),$f(),n!==null&&le(Ms);break;case 24:Hi(Dt)}}function yl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){et(r,r.return,T)}}function wr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,F=T;try{F()}catch(W){et(f,C,W)}}}l=l.next}while(l!==d)}}catch(W){et(r,r.return,W)}}function m_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ty(r,a)}catch(l){et(n,n.return,l)}}}function p_(n,r,a){a.props=Ps(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){et(n,r,l)}}function _l(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){et(n,r,f)}}function pi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,r,f)}else a.current=null}function g_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function Td(n,r,a){try{var l=n.stateNode;Gw(l,n.type,a,r),l[Et]=r}catch(f){et(n,n.return,f)}}function y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Sd(n,r,a),n=n.sibling;n!==null;)Sd(n,r,a),n=n.sibling}function bc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(bc(n,r,a),n=n.sibling;n!==null;)bc(n,r,a),n=n.sibling}function __(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[It]=n,r[Et]=a}catch(d){et(n,n.return,d)}}var Yi=!1,yt=!1,wd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Aw(n,r){if(n=n.containerInfo,Kd=zc,n=Dg(n),bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,F=0,W=0,te=n,H=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(T=E+f),te!==d||l!==0&&te.nodeType!==3||(C=E+l),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)H=te,te=$;for(;;){if(te===n)break t;if(H===a&&++F===f&&(T=E),H===d&&++W===l&&(C=E),($=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=$}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:n,selectionRange:a},zc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ps(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Te){et(a,a.return,Te)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Zd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}}function E_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(n,a),l&4&&yl(5,a);break;case 1:if(Ar(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){et(a,a.return,E)}else{var f=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&m_(a),l&512&&_l(a,a.return);break;case 3:if(Ar(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(n,r)}catch(E){et(a,a.return,E)}}break;case 27:r===null&&l&4&&__(a);case 26:case 5:Ar(n,a),r===null&&l&4&&g_(a),l&512&&_l(a,a.return);break;case 12:Ar(n,a);break;case 13:Ar(n,a),l&4&&S_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=kw.bind(null,a),Zw(n,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){r=r!==null&&r.memoizedState!==null||yt,f=Yi;var d=yt;Yi=l,(yt=r)&&!d?Rr(n,a,(a.subtreeFlags&8772)!==0):Ar(n,a),Yi=f,yt=d}break;case 30:break;default:Ar(n,a)}}function T_(n){var r=n.alternate;r!==null&&(n.alternate=null,T_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,un=!1;function Xi(n,r,a){for(a=a.child;a!==null;)b_(n,r,a),a=a.sibling}function b_(n,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||pi(a,r),Xi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||pi(a,r);var l=at,f=un;Nr(a.type)&&(at=a.stateNode,un=!1),Xi(n,r,a),Il(a.stateNode),at=l,un=f;break;case 5:yt||pi(a,r);case 6:if(l=at,f=un,at=null,Xi(n,r,a),at=l,un=f,at!==null)if(un)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:at!==null&&(un?(n=at,cv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ml(n)):cv(at,a.stateNode));break;case 4:l=at,f=un,at=a.stateNode.containerInfo,un=!0,Xi(n,r,a),at=l,un=f;break;case 0:case 11:case 14:case 15:yt||wr(2,a,r),yt||wr(4,a,r),Xi(n,r,a);break;case 1:yt||(pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,r,l)),Xi(n,r,a);break;case 21:Xi(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Xi(n,r,a),yt=l;break;default:Xi(n,r,a)}}function S_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ml(n)}catch(a){et(r,r.return,a)}}function Rw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new v_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new v_),r;default:throw Error(s(435,n.tag))}}function Ad(n,r){var a=Rw(n);r.forEach(function(l){var f=Mw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){at=T.stateNode,un=!1;break e}break;case 5:at=T.stateNode,un=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(at===null)throw Error(s(160));b_(d,E,f),at=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)w_(r,n),r=r.sibling}var Gn=null;function w_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(wr(3,n,n.return),yl(3,n),wr(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(yt||a===null||pi(a,a.return)),l&64&&Yi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(yn(r,n),_n(n),l&512&&(yt||a===null||pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fs]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[It]=n,pt(d),l=d;break e;case"link":var E=_v("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=_v("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=n,pt(d),l=d}n.stateNode=l}else vv(f,n.type,n.stateNode);else n.stateNode=yv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(f,n.type,n.stateNode):yv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Td(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(yt||a===null||pi(a,a.return)),a!==null&&l&4&&Td(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(yt||a===null||pi(a,a.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch($){et(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Td(n,f,a!==null?a.memoizedProps:f)),l&1024&&(wd=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){et(n,n.return,$)}}break;case 3:if(Pc=null,f=Gn,Gn=Mc(r.containerInfo),yn(r,n),Gn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch($){et(n,n.return,$)}wd&&(wd=!1,A_(n));break;case 4:l=Gn,Gn=Mc(n.stateNode.containerInfo),yn(r,n),_n(n),Gn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,F=Yi,W=yt;if(Yi=F||f,yt=W||C,yn(r,n),yt=W,Yi=F,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Yi||yt||Ls(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var te=C.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch($){et(C,C.return,$)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch($){et(C,C.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=bd(n);bc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(An(E,""),a.flags&=-33);var T=bd(n);bc(n,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,F=bd(n);Sd(n,F,C);break;default:throw Error(s(161))}}catch(W){et(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function A_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;A_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ar(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)E_(n,r.alternate,r),r=r.sibling}function Ls(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Ls(r);break;case 1:pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),Ls(r);break;case 27:Il(r.stateNode);case 26:case 5:pi(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}n=n.sibling}}function Rr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(f,d,a),yl(4,d);break;case 1:if(Rr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){et(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ey(C[f],T)}catch(F){et(l,l.return,F)}}a&&E&64&&m_(d),_l(d,d.return);break;case 27:__(d);case 26:case 5:Rr(f,d,a),a&&l===null&&E&4&&g_(d),_l(d,d.return);break;case 12:Rr(f,d,a);break;case 13:Rr(f,d,a),a&&E&4&&S_(f,d);break;case 22:d.memoizedState===null&&Rr(f,d,a),_l(d,d.return);break;case 30:break;default:Rr(f,d,a)}r=r.sibling}}function Rd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&il(a))}function Id(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n))}function gi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(n,r,a,l),r=r.sibling}function R_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(n,r,a,l),f&2048&&yl(9,r);break;case 1:gi(n,r,a,l);break;case 3:gi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n)));break;case 12:if(f&2048){gi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){et(r,r.return,C)}}else gi(n,r,a,l);break;case 13:gi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?gi(n,r,a,l):vl(n,r):d._visibility&2?gi(n,r,a,l):(d._visibility|=2,za(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Rd(E,r);break;case 24:gi(n,r,a,l),f&2048&&Id(r.alternate,r);break;default:gi(n,r,a,l)}}function za(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,T,C,f),yl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?za(d,E,T,C,f):vl(d,E):(W._visibility|=2,za(d,E,T,C,f)),f&&F&2048&&Rd(E.alternate,E);break;case 24:za(d,E,T,C,f),f&&F&2048&&Id(E.alternate,E);break;default:za(d,E,T,C,f)}r=r.sibling}}function vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Rd(l.alternate,l);break;case 24:vl(a,l),f&2048&&Id(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ba(n){if(n.subtreeFlags&El)for(n=n.child;n!==null;)I_(n),n=n.sibling}function I_(n){switch(n.tag){case 26:Ba(n),n.flags&El&&n.memoizedState!==null&&hA(Gn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n);break;case 3:case 4:var r=Gn;Gn=Mc(n.stateNode.containerInfo),Ba(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ba(n),El=r):Ba(n));break;default:Ba(n)}}function C_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Tl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,D_(l,n)}C_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)x_(n),n=n.sibling}function x_(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&wr(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Sc(n)):Tl(n);break;default:Tl(n)}}function Sc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,D_(l,n)}C_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(r));break;default:Sc(r)}n=n.sibling}}function D_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(T_(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var Iw={getCacheForType:function(n){var r=Xt(Dt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Cw=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,ke=null,ze=0,Ke=0,vn=null,Ir=!1,qa=!1,Cd=!1,Wi=0,mt=0,Cr=0,Us=0,xd=0,kn=0,Fa=0,bl=null,cn=null,Dd=!1,Od=0,wc=1/0,Ac=null,xr=null,Ht=0,Dr=null,Ha=null,Ga=0,Nd=0,jd=null,O_=null,Sl=0,kd=null;function En(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(Y.T!==null){var n=Na;return n!==0?n:Bd()}return hr()}function N_(){kn===0&&(kn=(ze&536870912)===0||Fe?No():536870912);var n=jn.current;return n!==null&&(n.flags|=32),kn}function Tn(n,r,a){(n===nt&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Qa(n,0),Or(n,ze,kn,!1)),xi(n,a),(($e&2)===0||n!==nt)&&(n===nt&&(($e&2)===0&&(Us|=a),mt===4&&Or(n,ze,kn,!1)),yi(n))}function j_(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||hs(n,r),f=l?Ow(n,r):Pd(n,r,!0),d=l;do{if(f===0){qa&&!l&&Or(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!xw(a)){f=Pd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=bl;var C=T.current.memoizedState.isDehydrated;if(C&&(Qa(T,E).flags|=256),E=Pd(T,E,!1),E!==2){if(Cd&&!C){T.errorRecoveryDisabledLanes|=d,Us|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Qa(n,0),Or(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,kn,!Ir);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Od+300-Sn(),10<f)){if(Or(l,r,kn,!Ir),ua(l,0,!0)!==0)break e;l.timeoutHandle=lv(k_.bind(null,l,a,cn,Ac,Dd,r,kn,Us,Fa,Ir,d,2,-0,0),f);break e}k_(l,a,cn,Ac,Dd,r,kn,Us,Fa,Ir,d,0,-0,0)}}break}while(!0);yi(n)}function k_(n,r,a,l,f,d,E,T,C,F,W,te,H,$){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:cA},I_(r),te=fA(),te!==null)){n.cancelPendingCommit=te(B_.bind(null,n,r,d,a,l,f,E,T,C,W,1,H,$)),Or(n,d,E,!F);return}B_(n,r,d,a,l,f,E,T,C)}function xw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(n,r,a,l){r&=~xd,r&=~Us,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Yt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&ni(n,a,r)}function Rc(){return($e&6)===0?(wl(0),!1):!0}function Md(){if(ke!==null){if(Ke===0)var n=ke.return;else n=ke,Fi=js=null,Zf(n),La=null,ml=0,n=ke;for(;n!==null;)d_(n.alternate,n),n=n.return;ke=null}}function Qa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,$w(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Md(),nt=n,ke=a=zi(n.current,null),ze=r,Ke=0,vn=null,Ir=!1,qa=hs(n,r),Cd=!1,Fa=kn=xd=Us=Cr=mt=0,cn=bl=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Yt(l),d=1<<f;r|=n[f],l&=~d}return Wi=r,Ku(),a}function M_(n,r){Oe=null,Y.H=dc,r===sl||r===ic?(r=Zg(),Ke=3):r===Yg?(r=Zg(),Ke=4):Ke=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,ke===null&&(mt=1,_c(n,xn(r,n.current)))}function V_(){var n=Y.H;return Y.H=dc,n===null?dc:n}function P_(){var n=Y.A;return Y.A=Iw,n}function Vd(){mt=4,Ir||(ze&4194048)!==ze&&jn.current!==null||(qa=!0),(Cr&134217727)===0&&(Us&134217727)===0||nt===null||Or(nt,ze,kn,!1)}function Pd(n,r,a){var l=$e;$e|=2;var f=V_(),d=P_();(nt!==n||ze!==r)&&(Ac=null,Qa(n,r)),r=!1;var E=mt;e:do try{if(Ke!==0&&ke!==null){var T=ke,C=vn;switch(Ke){case 8:Md(),E=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var F=Ke;if(Ke=0,vn=null,$a(n,T,C,F),a&&qa){E=0;break e}break;default:F=Ke,Ke=0,vn=null,$a(n,T,C,F)}}Dw(),E=mt;break}catch(W){M_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Fi=js=null,$e=l,Y.H=f,Y.A=d,ke===null&&(nt=null,ze=0,Ku()),E}function Dw(){for(;ke!==null;)L_(ke)}function Ow(n,r){var a=$e;$e|=2;var l=V_(),f=P_();nt!==n||ze!==r?(Ac=null,wc=Sn()+500,Qa(n,r)):qa=hs(n,r);e:do try{if(Ke!==0&&ke!==null){r=ke;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,$a(n,r,d,1);break;case 2:case 9:if(Xg(d)){Ke=0,vn=null,U_(r);break}r=function(){Ke!==2&&Ke!==9||nt!==n||(Ke=7),yi(n)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Xg(d)?(Ke=0,vn=null,U_(r)):(Ke=0,vn=null,$a(n,r,d,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var T=ke;if(!E||Ev(E)){Ke=0,vn=null;var C=T.sibling;if(C!==null)ke=C;else{var F=T.return;F!==null?(ke=F,Ic(F)):ke=null}break t}}Ke=0,vn=null,$a(n,r,d,5);break;case 6:Ke=0,vn=null,$a(n,r,d,6);break;case 8:Md(),mt=6;break e;default:throw Error(s(462))}}Nw();break}catch(W){M_(n,W)}while(!0);return Fi=js=null,Y.H=l,Y.A=f,$e=a,ke!==null?0:(nt=null,ze=0,Ku(),mt)}function Nw(){for(;ke!==null&&!Co();)L_(ke)}function L_(n){var r=h_(n.alternate,n,Wi);n.memoizedProps=n.pendingProps,r===null?Ic(n):ke=r}function U_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=s_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=s_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Zf(r);default:d_(a,r),r=ke=zg(r,Wi),r=h_(a,r,Wi)}n.memoizedProps=n.pendingProps,r===null?Ic(n):ke=r}function $a(n,r,a,l){Fi=js=null,Zf(r),La=null,ml=0;var f=r.return;try{if(Tw(n,f,r,a,ze)){mt=1,_c(n,xn(a,n.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;mt=1,_c(n,xn(a,n.current)),ke=null;return}r.flags&32768?(Fe||l===1?n=!0:qa||(ze&536870912)!==0?n=!1:(Ir=n=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),z_(r,n)):Ic(r)}function Ic(n){var r=n;do{if((r.flags&32768)!==0){z_(r,Ir);return}n=r.return;var a=Sw(r.alternate,r,Wi);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=n}while(r!==null);mt===0&&(mt=5)}function z_(n,r){do{var a=ww(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);mt=6,ke=null}function B_(n,r,a,l,f,d,E,T,C){n.cancelPendingCommit=null;do Cc();while(Ht!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=If,ko(n,a,d,E,T,C),n===nt&&(ke=nt=null,ze=0),Ha=r,Dr=n,Ga=a,Nd=d,jd=f,O_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Vw(os,function(){return Q_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ae.p,ae.p=2,E=$e,$e|=4;try{Aw(n,r,a)}finally{$e=E,ae.p=f,Y.T=l}}Ht=1,q_(),F_(),H_()}}function q_(){if(Ht===1){Ht=0;var n=Dr,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{w_(r,n);var d=Yd,E=Dg(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(C!==null&&bf(T)){var F=C.start,W=C.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var te=T.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var $=H.getSelection(),Ae=T.textContent.length,Te=Math.min(C.start,Ae),Ze=C.end===void 0?Te:Math.min(C.end,Ae);!$.extend&&Te>Ze&&(E=Ze,Ze=Te,Te=E);var L=Cg(T,Te),M=Cg(T,Ze);if(L&&M&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=te.createRange();q.setStart(L.node,L.offset),$.removeAllRanges(),Te>Ze?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}zc=!!Kd,Yd=Kd=null}finally{$e=f,ae.p=l,Y.T=a}}n.current=r,Ht=2}}function F_(){if(Ht===2){Ht=0;var n=Dr,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{E_(n,r.alternate,r)}finally{$e=f,ae.p=l,Y.T=a}}Ht=3}}function H_(){if(Ht===4||Ht===3){Ht=0,Su();var n=Dr,r=Ha,a=Ga,l=O_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Ha=Dr=null,G_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(xr=null),ca(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=ae.p,ae.p=2,Y.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,ae.p=f}}(Ga&3)!==0&&Cc(),yi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===kd?Sl++:(Sl=0,kd=n):Sl=0,wl(0)}}function G_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,il(r)))}function Cc(n){return q_(),F_(),H_(),Q_()}function Q_(){if(Ht!==5)return!1;var n=Dr,r=Nd;Nd=0;var a=ca(Ga),l=Y.T,f=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=jd,jd=null;var d=Dr,E=Ga;if(Ht=0,Ha=Dr=null,Ga=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,x_(d.current),R_(d,d.current,E,a),$e=T,wl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ae.p=f,Y.T=l,G_(n,r)}}function $_(n,r,a){r=xn(a,r),r=fd(n.stateNode,r,2),n=Er(n,r,2),n!==null&&(xi(n,2),yi(n))}function et(n,r,a){if(n.tag===3)$_(n,n,a);else for(;r!==null;){if(r.tag===3){$_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){n=xn(a,n),a=Wy(2),l=Er(r,a,2),l!==null&&(Zy(a,l,r,n),xi(l,2),yi(l));break}}r=r.return}}function Ld(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Cw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Cd=!0,f.add(a),n=jw.bind(null,n,r,a),r.then(n,n))}function jw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(ze&a)===a&&(mt===4||mt===3&&(ze&62914560)===ze&&300>Sn()-Od?($e&2)===0&&Qa(n,0):xd|=a,Fa===ze&&(Fa=0)),yi(n)}function K_(n,r){r===0&&(r=jo()),n=Ca(n,r),n!==null&&(xi(n,r),yi(n))}function kw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),K_(n,a)}function Mw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),K_(n,a)}function Vw(n,r){return ss(n,r)}var xc=null,Ka=null,Ud=!1,Dc=!1,zd=!1,zs=0;function yi(n){n!==Ka&&n.next===null&&(Ka===null?xc=Ka=n:Ka=Ka.next=n),Dc=!0,Ud||(Ud=!0,Lw())}function wl(n,r){if(!zd&&Dc){zd=!0;do for(var a=!1,l=xc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z_(l,d))}else d=ze,d=ua(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hs(l,d)||(a=!0,Z_(l,d));l=l.next}while(a);zd=!1}}function Pw(){Y_()}function Y_(){Dc=Ud=!1;var n=0;zs!==0&&(Qw()&&(n=zs),zs=0);for(var r=Sn(),a=null,l=xc;l!==null;){var f=l.next,d=X_(l,r);d===0?(l.next=null,a===null?xc=f:a.next=f,f===null&&(Ka=a)):(a=l,(n!==0||(d&3)!==0)&&(Dc=!0)),l=f}wl(n)}function X_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Yt(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Oo(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=nt,a=ze,a=ua(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||hs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&as(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=os;break;case 268435456:a=la;break;default:a=os}return l=W_.bind(null,n),a=ss(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&as(l),n.callbackPriority=2,n.callbackNode=null,2}function W_(n,r){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Cc()&&n.callbackNode!==a)return null;var l=ze;return l=ua(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(j_(n,l,r),X_(n,Sn()),n.callbackNode!=null&&n.callbackNode===a?W_.bind(null,n):null)}function Z_(n,r){if(Cc())return null;j_(n,r,!0)}function Lw(){Kw(function(){($e&6)!==0?ss(xo,Pw):Y_()})}function Bd(){return zs===0&&(zs=No()),zs}function J_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ga(""+n)}function ev(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Uw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=J_((f[Et]||null).action),E=l.submitter;E&&(r=(r=E[Et]||null)?J_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ya("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var C=E?ev(f,E):new FormData(f);od(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?ev(f,E):new FormData(f),od(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var qd=0;qd<Rf.length;qd++){var Fd=Rf[qd],zw=Fd.toLowerCase(),Bw=Fd[0].toUpperCase()+Fd.slice(1);Hn(zw,"on"+Bw)}Hn(jg,"onAnimationEnd"),Hn(kg,"onAnimationIteration"),Hn(Mg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(rw,"onTransitionRun"),Hn(sw,"onTransitionStart"),Hn(aw,"onTransitionCancel"),Hn(Vg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function tv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(W){yc(W)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,F=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(W){yc(W)}f.currentTarget=null,d=C}}}}function Me(n,r){var a=r[Vo];a===void 0&&(a=r[Vo]=new Set);var l=n+"__bubble";a.has(l)||(nv(r,n,2,!1),a.add(l))}function Hd(n,r,a){var l=0;r&&(l|=4),nv(a,n,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Oc]){n[Oc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(qw.has(a)||Hd(a,!1,n),Hd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Hd("selectionchange",!1,r))}}function nv(n,r,a,l){switch(Rv(r)){case 2:var f=pA;break;case 8:f=gA;break;default:f=sm}a=f.bind(null,r,a,n),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Qd(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Di(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}ju(function(){var F=d,W=Rn(a),te=[];e:{var H=Pg.get(n);if(H!==void 0){var $=ya,Ae=n;switch(n){case"keypress":if(li(a)===0)break e;case"keydown":case"keyup":$=Sa;break;case"focusin":Ae="focus",$=Ea;break;case"focusout":Ae="blur",$=Ea;break;case"beforeblur":case"afterblur":$=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Bu;break;case jg:case kg:case Mg:$=Ta;break;case Vg:$=Fu;break;case"scroll":case"scrollend":$=ku;break;case"wheel":$=wa;break;case"copy":case"cut":case"paste":$=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yo;break;case"toggle":case"beforetoggle":$=Gu}var Te=(r&4)!==0,Ze=!Te&&(n==="scroll"||n==="scrollend"),L=Te?H!==null?H+"Capture":null:H;Te=[];for(var M=F,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=vs(M,L),Z!=null&&Te.push(Rl(M,Z,q))),Ze)break;M=M.return}0<Te.length&&(H=new $(H,Ae,null,a,W),te.push({event:H,listeners:Te}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",H&&a!==ki&&(Ae=a.relatedTarget||a.fromElement)&&(Di(Ae)||Ae[wn]))break e;if(($||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,$?(Ae=a.relatedTarget||a.toElement,$=F,Ae=Ae?Di(Ae):null,Ae!==null&&(Ze=u(Ae),Te=Ae.tag,Ae!==Ze||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):($=null,Ae=F),$!==Ae)){if(Te=Cn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Yo,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Ze=$==null?H:ri($),q=Ae==null?H:ri(Ae),H=new Te(Z,M+"leave",$,a,W),H.target=Ze,H.relatedTarget=q,Z=null,Di(W)===F&&(Te=new Te(L,M+"enter",Ae,a,W),Te.target=q,Te.relatedTarget=Ze,Z=Te),Ze=Z,$&&Ae)t:{for(Te=$,L=Ae,M=0,q=Te;q;q=Ya(q))M++;for(q=0,Z=L;Z;Z=Ya(Z))q++;for(;0<M-q;)Te=Ya(Te),M--;for(;0<q-M;)L=Ya(L),q--;for(;M--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=Ya(Te),L=Ya(L)}Te=null}else Te=null;$!==null&&iv(te,H,$,Te,!1),Ae!==null&&Ze!==null&&iv(te,Ze,Ae,Te,!0)}}e:{if(H=F?ri(F):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var pe=bg;else if(xt(H))if(Sg)pe=tw;else{pe=JS;var je=ZS}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&qo(F.elementType)&&(pe=bg):pe=ew;if(pe&&(pe=pe(n,F))){Ui(te,pe,a,W);break e}je&&je(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&pr(H,"number",H.value)}switch(je=F?ri(F):window,n){case"focusin":(xt(je)||je.contentEditable==="true")&&(Aa=je,Sf=F,Zo=null);break;case"focusout":Zo=Sf=Aa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Og(te,a,W);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":Og(te,a,W)}var _e;if(hi)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?K(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(_e=Ho()):(oi=W,gr="value"in oi?oi.value:oi.textContent,Le=!0)),je=Nc(F,be),0<je.length&&(be=new $o(be,n,null,a,W),te.push({event:be,listeners:je}),_e?be.data=_e:(_e=se(a),_e!==null&&(be.data=_e)))),(_e=y?Ct(n,a):Ue(n,a))&&(be=Nc(F,"onBeforeInput"),0<be.length&&(je=new $o("onBeforeInput","beforeinput",null,a,W),te.push({event:je,listeners:be}),je.data=_e)),Uw(te,n,F,a,W)}tv(te,r)})}function Rl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Nc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=vs(n,a),f!=null&&l.unshift(Rl(n,f,d)),f=vs(n,r),f!=null&&l.push(Rl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ya(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function iv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,F=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||F===null||(C=F,f?(F=vs(a,d),F!=null&&E.unshift(Rl(a,F,C))):f||(F=vs(a,d),F!=null&&E.push(Rl(a,F,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var Fw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function rv(n){return(typeof n=="string"?n:""+n).replace(Fw,`
`).replace(Hw,"")}function sv(n,r){return r=rv(r),rv(n)===r}function jc(){}function We(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(n,""+l);break;case"className":si(n,"class",l);break;case"tabIndex":si(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":si(n,a,l);break;case"style":Bo(n,l,d);break;case"data":if(r!=="object"){si(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ga(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ga(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=jc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ga(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),mr(n,"popover",l);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,mr(n,a,l))}}function $d(n,r,a,l,f,d){switch(a){case"style":Bo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?An(n,l):(typeof l=="number"||typeof l=="bigint")&&An(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):mr(n,a,l)}}}function Gt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,E,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=E=f=null,C=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:We(n,r,l,W,a,null)}}gs(n,d,T,C,F,E,f,!1),pa(n);return;case"select":Me("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?ji(n,!!l,r,!1):a!=null&&ji(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,E,T,a,null)}ys(n,l,f,d),pa(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,C,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<Al.length;l++)Me(Al[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,F,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&$d(n,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,r,T,l,a,null))}function Gw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,F=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty($)||We(n,r,$,null,l,te)}}for(var H in l){var $=l[H];if(te=a[H],l.hasOwnProperty(H)&&($!=null||te!=null))switch(H){case"type":d=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":E=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&We(n,r,H,$,l,te)}}mn(n,E,T,C,F,W,d,f);return;case"select":$=E=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||We(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&We(n,r,f,d,l,C)}r=T,a=E,l=$,H!=null?ji(n,!!a,H,!1):!!l!=!!a&&(r!=null?ji(n,!!a,r,!0):ji(n,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,r,E,f,l,d)}Ye(n,H,$);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:We(n,r,Ae,null,l,H)}for(C in l)if(H=l[C],$=a[C],l.hasOwnProperty(C)&&H!==$&&(H!=null||$!=null))switch(C){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(n,r,C,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te)&&We(n,r,Te,null,l,H);for(F in l)if(H=l[F],$=a[F],l.hasOwnProperty(F)&&H!==$&&(H!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:We(n,r,F,H,l,$)}return;default:if(qo(r)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&$d(n,r,Ze,void 0,l,H);for(W in l)H=l[W],$=a[W],!l.hasOwnProperty(W)||H===$||H===void 0&&$===void 0||$d(n,r,W,H,l,$);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&We(n,r,L,null,l,H);for(te in l)H=l[te],$=a[te],!l.hasOwnProperty(te)||H===$||H==null&&$==null||We(n,r,te,H,l,$)}var Kd=null,Yd=null;function kc(n){return n.nodeType===9?n:n.ownerDocument}function av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Xd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Qw(){var n=window.event;return n&&n.type==="popstate"?n===Wd?!1:(Wd=n,!0):(Wd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,$w=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(n){return uv.resolve(null).then(n).catch(Yw)}:lv;function Yw(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function cv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Il(E.documentElement),a&2&&Il(E.body),a&4)for(a=E.head,Il(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[fs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),Ml(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function Zd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Xw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[fs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Qn(n.nextSibling),n===null)break}return null}function Ww(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Qn(n.nextSibling),n===null))return null;return n}function Jd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Zw(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Qn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var em=null;function hv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function fv(n,r,a){switch(r=kc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Il(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dr(n)}var Mn=new Map,dv=new Set;function Mc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=ae.d;ae.d={f:Jw,r:eA,D:tA,C:nA,L:iA,m:rA,X:aA,S:sA,M:oA};function Jw(){var n=Zi.f(),r=Rc();return n||r}function eA(n){var r=ii(n);r!==null&&r.tag===5&&r.type==="form"?jy(r):Zi.r(n)}var Xa=typeof document>"u"?null:document;function mv(n,r,a){var l=Xa;if(l&&typeof r=="string"&&r){var f=Tt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),dv.has(f)||(dv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",n),pt(r),l.head.appendChild(r)))}}function tA(n){Zi.D(n),mv("dns-prefetch",n,null)}function nA(n,r){Zi.C(n,r),mv("preconnect",n,r)}function iA(n,r,a){Zi.L(n,r,a);var l=Xa;if(l&&n&&r){var f='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var d=f;switch(r){case"style":d=Wa(n);break;case"script":d=Za(n)}Mn.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Mn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),Gt(r,"link",n),pt(r),l.head.appendChild(r)))}}function rA(n,r){Zi.m(n,r);var a=Xa;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(n)}if(!Mn.has(d)&&(n=v({rel:"modulepreload",href:n},r),Mn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Gt(l,"link",n),pt(l),a.head.appendChild(l)}}}function sA(n,r,a){Zi.S(n,r,a);var l=Xa;if(l&&n){var f=nn(l).hoistableStyles,d=Wa(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Cl(d)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Mn.get(d))&&tm(n,a);var C=E=l.createElement("link");pt(C),Gt(C,"link",n),C._p=new Promise(function(F,W){C.onload=F,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function aA(n,r){Zi.X(n,r);var a=Xa;if(a&&n){var l=nn(a).hoistableScripts,f=Za(n),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(n=v({src:n,async:!0},r),(r=Mn.get(f))&&nm(n,r),d=a.createElement("script"),pt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oA(n,r){Zi.M(n,r);var a=Xa;if(a&&n){var l=nn(a).hoistableScripts,f=Za(n),d=l.get(f);d||(d=a.querySelector(xl(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=Mn.get(f))&&nm(n,r),d=a.createElement("script"),pt(d),Gt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pv(n,r,a,l){var f=(f=he.current)?Mc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=nn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Wa(a.href);var d=nn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Cl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(n,a),d||lA(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Za(a),a=nn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Wa(n){return'href="'+Tt(n)+'"'}function Cl(n){return'link[rel="stylesheet"]['+n+"]"}function gv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function lA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),pt(r),n.head.appendChild(r))}function Za(n){return'[src="'+Tt(n)+'"]'}function xl(n){return"script[async]"+n}function yv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Gt(l,"style",f),Vc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Wa(a.href);var d=n.querySelector(Cl(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=gv(a),(f=Mn.get(f))&&tm(l,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Gt(d,"link",l),r.state.loading|=4,Vc(d,a.precedence,n),r.instance=d;case"script":return d=Za(a.src),(f=n.querySelector(xl(d)))?(r.instance=f,pt(f),f):(l=a,(f=Mn.get(d))&&(l=v({},a),nm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Gt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vc(l,a.precedence,n));return r.instance}function Vc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Pc=null;function _v(n,r,a){if(Pc===null){var l=new Map,f=Pc=new Map;f.set(a,l)}else f=Pc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[fs]||d[It]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function vv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function uA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dl=null;function cA(){}function hA(n,r,a){if(Dl===null)throw Error(s(475));var l=Dl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Wa(a.href),d=n.querySelector(Cl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Lc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=gv(a),(f=Mn.get(f))&&tm(a,f),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Gt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Lc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function fA(){if(Dl===null)throw Error(s(475));var n=Dl;return n.stylesheets&&n.count===0&&im(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&im(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Uc=null;function im(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Uc=new Map,r.forEach(dA,n),Uc=null,Lc.call(n))}function dA(n,r){if(!(r.state.loading&4)){var a=Uc.get(n);if(a)var l=a.get(null);else{a=new Map,Uc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Lc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ol={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function mA(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Tv(n,r,a,l,f,d,E,T,C,F,W,te){return n=new mA(n,r,a,E,T,C,F,te),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Lf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),n}function bv(n){return n?(n=xa,n):xa}function Sv(n,r,a,l,f,d){f=bv(f),l.context===null?l.context=f:l.pendingContext=f,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(n,l,r),a!==null&&(Tn(a,n,r),ol(a,n,r))}function wv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function rm(n,r){wv(n,r),(n=n.alternate)&&wv(n,r)}function Av(n){if(n.tag===13){var r=Ca(n,67108864);r!==null&&Tn(r,n,67108864),rm(n,67108864)}}var zc=!0;function pA(n,r,a,l){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,sm(n,r,a,l)}finally{ae.p=d,Y.T=f}}function gA(n,r,a,l){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,sm(n,r,a,l)}finally{ae.p=d,Y.T=f}}function sm(n,r,a,l){if(zc){var f=am(l);if(f===null)Qd(n,r,l,Bc,a),Iv(n,l);else if(_A(f,n,r,a,l))l.stopPropagation();else if(Iv(n,l),r&4&&-1<yA.indexOf(n)){for(;f!==null;){var d=ii(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Bn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Yt(E);T.entanglements[1]|=C,E&=~C}yi(d),($e&6)===0&&(wc=Sn()+500,wl(0))}}break;case 13:T=Ca(d,2),T!==null&&Tn(T,d,2),Rc(),rm(d,2)}if(d=am(l),d===null&&Qd(n,r,l,Bc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Qd(n,r,l,null,a)}}function am(n){return n=Rn(n),om(n)}var Bc=null;function om(n){if(Bc=null,n=Di(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Bc=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case xo:return 2;case oa:return 8;case os:case hf:return 32;case la:return 268435456;default:return 32}default:return 32}}var lm=!1,jr=null,kr=null,Mr=null,Nl=new Map,jl=new Map,Vr=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(n,r){switch(n){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function kl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ii(r),r!==null&&Av(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function _A(n,r,a,l,f){switch(r){case"focusin":return jr=kl(jr,n,r,a,l,f),!0;case"dragenter":return kr=kl(kr,n,r,a,l,f),!0;case"mouseover":return Mr=kl(Mr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Nl.set(d,kl(Nl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,jl.set(d,kl(jl.get(d)||null,n,r,a,l,f)),!0}return!1}function Cv(n){var r=Di(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Ru(n.priority,function(){if(a.tag===13){var l=En();l=cr(l);var f=Ca(a,l);f!==null&&Tn(f,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ki=l,a.target.dispatchEvent(l),ki=null}else return r=ii(a),r!==null&&Av(r),n.blockedOn=a,!1;r.shift()}return!0}function xv(n,r,a){qc(n)&&a.delete(r)}function vA(){lm=!1,jr!==null&&qc(jr)&&(jr=null),kr!==null&&qc(kr)&&(kr=null),Mr!==null&&qc(Mr)&&(Mr=null),Nl.forEach(xv),jl.forEach(xv)}function Fc(n,r){n.blockedOn===r&&(n.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vA)))}var Hc=null;function Dv(n){Hc!==n&&(Hc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===n&&(Hc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=ii(a);d!==null&&(n.splice(r,3),r-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ml(n){function r(C){return Fc(C,n)}jr!==null&&Fc(jr,n),kr!==null&&Fc(kr,n),Mr!==null&&Fc(Mr,n),Nl.forEach(r),jl.forEach(r);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&Vr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Et]||null;if(typeof d=="function")E||Dv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Et]||null)T=E.formAction;else if(om(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Dv(a)}}}function um(n){this._internalRoot=n}Gc.prototype.render=um.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Sv(a,l,n,r,null,null)},Gc.prototype.unmount=um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Sv(n.current,2,null,n,null,null),Rc(),r[wn]=null}};function Gc(n){this._internalRoot=n}Gc.prototype.unstable_scheduleHydration=function(n){if(n){var r=hr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Vr.length&&r!==0&&r<Vr[a].priority;a++);Vr.splice(a,0,n),a===0&&Cv(n)}};var Ov=e.version;if(Ov!=="19.1.0")throw Error(s(527,Ov,"19.1.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var EA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{ft=Qc.inject(EA),Qe=Qc}catch{}}return Pl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=$y,d=Ky,E=Yy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Tv(n,1,!1,null,null,a,l,f,d,E,T,null),n[wn]=r.current,Gd(n),new um(r)},Pl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=$y,E=Ky,T=Yy,C=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Tv(n,1,!0,r,a??null,l,f,d,E,T,C,F),r.context=bv(null),a=r.current,l=En(),l=cr(l),f=vr(l),f.callback=null,Er(a,f,l),a=l,r.current.lanes=a,xi(r,a),yi(r),n[wn]=r.current,Gd(n),new Gc(r)},Pl.version="19.1.0",Pl}var Bv;function OA(){if(Bv)return hm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=DA(),hm.exports}var NA=OA(),U=up();const Ut=bA(U);var Ll={},qv;function jA(){if(qv)return Ll;qv=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=h,Ll.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,k){const O=new u,G=S.length;if(G<2)return O;const z=(k==null?void 0:k.decode)||v;let Q=0;do{const X=S.indexOf("=",Q);if(X===-1)break;const ee=S.indexOf(";",Q),oe=ee===-1?G:ee;if(X>oe){Q=S.lastIndexOf(";",X-1)+1;continue}const ce=m(S,Q,X),ue=p(S,X,ce),x=S.slice(ce,ue);if(O[x]===void 0){let R=m(S,X+1,oe),I=p(S,oe,R);const j=z(S.slice(R,I));O[x]=j}Q=oe+1}while(Q<G);return O}function m(S,k,O){do{const G=S.charCodeAt(k);if(G!==32&&G!==9)return k}while(++k<O);return O}function p(S,k,O){for(;k>O;){const G=S.charCodeAt(--k);if(G!==32&&G!==9)return k+1}return O}function g(S,k,O){const G=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=G(k);if(!e.test(z))throw new TypeError(`argument val is invalid: ${k}`);let Q=S+"="+z;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Ll}jA();var Fv="popstate";function kA(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return km("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Jl(o)}return VA(e,t,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function Hv(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:t,key:e&&e.key||s||MA()}}function Jl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function go(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function VA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let z=v(),Q=z==null?null:z-g;g=z,p&&p({action:m,location:G.location,delta:Q})}function S(z,Q){m="PUSH";let X=km(G.location,z,Q);g=v()+1;let ee=Hv(X,g),oe=G.createHref(X);try{h.pushState(ee,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}u&&p&&p({action:m,location:G.location,delta:1})}function k(z,Q){m="REPLACE";let X=km(G.location,z,Q);g=v();let ee=Hv(X,g),oe=G.createHref(X);h.replaceState(ee,"",oe),u&&p&&p({action:m,location:G.location,delta:0})}function O(z){return PA(z)}let G={get action(){return m},get location(){return i(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,b),p=z,()=>{o.removeEventListener(Fv,b),p=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let Q=O(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:k,go(z){return h.go(z)}};return G}function PA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function UE(i,e,t="/"){return LA(i,e,t,!1)}function LA(i,e,t,s){let o=typeof e=="string"?go(e):e,u=rr(o.pathname||"/",t);if(u==null)return null;let h=zE(i);UA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=XA(u);m=KA(h[p],g,s)}return m}function zE(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=tr([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:QA(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of BE(u.path))o(u,h,p)}),e}function BE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=BE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function UA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:$A(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var zA=/^:[\w-]+$/,BA=3,qA=2,FA=1,HA=10,GA=-2,Gv=i=>i==="*";function QA(i,e){let t=i.split("/"),s=t.length;return t.some(Gv)&&(s+=GA),e&&(s+=qA),t.filter(o=>!Gv(o)).reduce((o,u)=>o+(zA.test(u)?BA:u===""?FA:HA),s)}function $A(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function KA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:tr([u,b.pathname]),pathnameBase:e1(tr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=tr([u,b.pathnameBase]))}return h}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=YA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},S)=>{if(v==="*"){let O=m[S]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const k=m[S];return b&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function YA(i,e=!1,t=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function XA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function rr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function WA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:t?t.startsWith("/")?t:ZA(t,e):e,search:t1(s),hash:n1(o)}}function ZA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cp(i){let e=JA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function hp(i,e,t,s=!1){let o;typeof i=="string"?o=go(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=WA(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var tr=i=>i.join("/").replace(/\/\/+/g,"/"),e1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,n1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function i1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var r1=["GET",...qE];new Set(r1);var yo=U.createContext(null);yo.displayName="DataRouter";var Vh=U.createContext(null);Vh.displayName="DataRouterState";var FE=U.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var s1=U.createContext(new Map);s1.displayName="Fetchers";var a1=U.createContext(null);a1.displayName="Await";var ei=U.createContext(null);ei.displayName="Navigation";var cu=U.createContext(null);cu.displayName="Location";var Ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var fp=U.createContext(null);fp.displayName="RouteError";function o1(i,{relative:e}={}){ot(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(ei),{hash:o,pathname:u,search:h}=hu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:tr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function _o(){return U.useContext(cu)!=null}function ur(){return ot(_o(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(cu).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(i){U.useContext(ei).static||U.useLayoutEffect(i)}function Ph(){let{isDataRoute:i}=U.useContext(Ii);return i?E1():l1()}function l1(){ot(_o(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(yo),{basename:e,navigator:t}=U.useContext(ei),{matches:s}=U.useContext(Ii),{pathname:o}=ur(),u=JSON.stringify(cp(s)),h=U.useRef(!1);return GE(()=>{h.current=!0}),U.useCallback((p,g={})=>{if(Wn(h.current,HE),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=hp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:tr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}U.createContext(null);function hu(i,{relative:e}={}){let{matches:t}=U.useContext(Ii),{pathname:s}=ur(),o=JSON.stringify(cp(t));return U.useMemo(()=>hp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function u1(i,e){return QE(i,e)}function QE(i,e,t,s){var Q;ot(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(ei),{matches:u}=U.useContext(Ii),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let X=v&&v.path||"";$E(p,!v||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=ur(),S;if(e){let X=typeof e=="string"?go(e):e;ot(g==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=b;let k=S.pathname||"/",O=k;if(g!=="/"){let X=g.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let G=UE(i,{pathname:O});Wn(v||G!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Wn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=m1(G&&G.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:tr([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:tr([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,t,s);return e&&z?U.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function c1(){let i=v1(),e=i1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var h1=U.createElement(c1,null),f1=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(Ii.Provider,{value:this.props.routeContext},U.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d1({routeContext:i,match:e,children:t}){let s=U.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ii.Provider,{value:i},t)}function m1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,S=!1,k=null,O=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||h1,h&&(m<0&&v===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===v&&(S=!0,O=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,v+1)),z=()=>{let Q;return b?Q=k:S?Q=O:g.route.Component?Q=U.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,U.createElement(d1,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?U.createElement(f1,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):z()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(i){let e=U.useContext(yo);return ot(e,dp(i)),e}function g1(i){let e=U.useContext(Vh);return ot(e,dp(i)),e}function y1(i){let e=U.useContext(Ii);return ot(e,dp(i)),e}function mp(i){let e=y1(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function _1(){return mp("useRouteId")}function v1(){var s;let i=U.useContext(fp),e=g1("useRouteError"),t=mp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function E1(){let{router:i}=p1("useNavigate"),e=mp("useNavigate"),t=U.useRef(!1);return GE(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Wn(t.current,HE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Qv={};function $E(i,e,t){!e&&!Qv[i]&&(Qv[i]=!0,Wn(!1,t))}U.memo(T1);function T1({routes:i,future:e,state:t}){return QE(i,void 0,t,e)}function b1({to:i,replace:e,state:t,relative:s}){ot(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ei);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Ii),{pathname:h}=ur(),m=Ph(),p=hp(i,cp(u),h,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Bs(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=go(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:S="default"}=t,k=U.useMemo(()=>{let O=rr(p,h);return O==null?null:{location:{pathname:O,search:g,hash:v,state:b,key:S},navigationType:s}},[h,p,g,v,b,S,s]);return Wn(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:U.createElement(ei.Provider,{value:m},U.createElement(cu.Provider,{children:e,value:k}))}function w1({children:i,location:e}){return u1(Mm(i),e)}function Mm(i,e=[]){let t=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,Mm(s.props.children,u));return}ot(s.type===Bs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Mm(s.props.children,u)),t.push(h)}),t}var eh="get",th="application/x-www-form-urlencoded";function Lh(i){return i!=null&&typeof i.tagName=="string"}function A1(i){return Lh(i)&&i.tagName.toLowerCase()==="button"}function R1(i){return Lh(i)&&i.tagName.toLowerCase()==="form"}function I1(i){return Lh(i)&&i.tagName.toLowerCase()==="input"}function C1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function x1(i,e){return i.button===0&&(!e||e==="_self")&&!C1(i)}var $c=null;function D1(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var O1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!O1.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):i}function N1(i,e){let t,s,o,u,h;if(R1(i)){let m=i.getAttribute("action");s=m?rr(m,e):null,t=i.getAttribute("method")||eh,o=ym(i.getAttribute("enctype"))||th,u=new FormData(i)}else if(A1(i)||I1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||eh,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||th,u=new FormData(m,i),!D1()){let{name:g,type:v,value:b}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Lh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=eh,s=null,o=th,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function j1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function M1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await j1(u,t);return h.links?h.links():[]}return[]}));return U1(s.flat(1).filter(k1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function V1(i,e,{includeHydrateFallback:t}={}){return P1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function P1(i){return[...new Set(i)]}function L1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function U1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(L1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z1=new Set([100,101,204,205]);function B1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&rr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function KE(){let i=U.useContext(yo);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function q1(){let i=U.useContext(Vh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=U.createContext(void 0);gp.displayName="FrameworkContext";function YE(){let i=U.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function F1(i,e){let t=U.useContext(gp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,S=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=Q=>{Q.forEach(X=>{h(X.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let k=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ul(m,k),onBlur:Ul(p,O),onMouseEnter:Ul(g,k),onMouseLeave:Ul(v,O),onTouchStart:Ul(b,k)}]:[!1,S,{}]}function Ul(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function H1({page:i,...e}){let{router:t}=KE(),s=U.useMemo(()=>UE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?U.createElement(Q1,{page:i,matches:s,...e}):null}function G1(i){let{manifest:e,routeModules:t}=YE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return M1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function Q1({page:i,matches:e,...t}){let s=ur(),{manifest:o,routeModules:u}=YE(),{basename:h}=KE(),{loaderData:m,matches:p}=q1(),g=U.useMemo(()=>$v(i,e,p,o,s,"data"),[i,e,p,o,s]),v=U.useMemo(()=>$v(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,G=!1;if(e.forEach(Q=>{var ee;let X=o.routes[Q.route.id];!X||!X.hasLoader||(!g.some(oe=>oe.route.id===Q.route.id)&&Q.route.id in m&&((ee=u[Q.route.id])!=null&&ee.shouldRevalidate)||X.hasClientLoader?G=!0:O.add(Q.route.id))}),O.size===0)return[];let z=B1(i,h);return G&&O.size>0&&z.searchParams.set("_routes",e.filter(Q=>O.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[z.pathname+z.search]},[h,m,s,o,g,e,i,u]),S=U.useMemo(()=>V1(v,o),[v,o]),k=G1(v);return U.createElement(U.Fragment,null,b.map(O=>U.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>U.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),k.map(({key:O,link:G})=>U.createElement("link",{key:O,...G})))}function $1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.6.3")}catch{}function K1({basename:i,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=kA({window:t,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(S1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...S},k){let{basename:O}=U.useContext(ei),G=typeof g=="string"&&WE.test(g),z,Q=!1;if(typeof g=="string"&&G&&(z=g,XE))try{let I=new URL(window.location.href),j=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=rr(j.pathname,O);j.origin===I.origin&&V!=null?g=V+j.search+j.hash:Q=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=o1(g,{relative:o}),[ee,oe,ce]=F1(s,S),ue=Z1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||ue(I)}let R=U.createElement("a",{...S,...ce,href:z||X,onClick:Q||u?e:x,ref:$1(k,oe),target:p,"data-discover":!G&&t==="render"?"true":void 0});return ee&&!G?U.createElement(U.Fragment,null,R,U.createElement(H1,{page:X})):R});io.displayName="Link";var Y1=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let b=hu(h,{relative:g.relative}),S=ur(),k=U.useContext(Vh),{navigator:O,basename:G}=U.useContext(ei),z=k!=null&&iR(b)&&m===!0,Q=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,X=S.pathname,ee=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(X=X.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&G&&(ee=rr(ee,G)||ee);const oe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ce=X===Q||!o&&X.startsWith(Q)&&X.charAt(oe)==="/",ue=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),x={isActive:ce,isPending:ue,isTransitioning:z},R=ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,ce?"active":null,ue?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(x):u;return U.createElement(io,{...g,"aria-current":R,className:I,ref:v,style:j,to:h,viewTransition:m},typeof p=="function"?p(x):p)});Y1.displayName="NavLink";var X1=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=eh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...S},k)=>{let O=tR(),G=nR(m,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&WE.test(m),X=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let oe=ee.nativeEvent.submitter,ce=(oe==null?void 0:oe.getAttribute("formmethod"))||h;O(oe||ee.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return U.createElement("form",{ref:k,method:z,action:G,onSubmit:s?p:X,...S,"data-discover":!Q&&i==="render"?"true":void 0})});X1.displayName="Form";function W1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(i){let e=U.useContext(yo);return ot(e,W1(i)),e}function Z1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Ph(),p=ur(),g=hu(i,{relative:u});return U.useCallback(v=>{if(x1(v,e)){v.preventDefault();let b=t!==void 0?t:Jl(p)===Jl(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var J1=0,eR=()=>`__${String(++J1)}__`;function tR(){let{router:i}=ZE("useSubmit"),{basename:e}=U.useContext(ei),t=_1();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=N1(s,e);if(o.navigate===!1){let v=o.fetcherKey||eR();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function nR(i,{relative:e}={}){let{basename:t}=U.useContext(ei),s=U.useContext(Ii);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},h=ur();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:tr([t,u.pathname])),Jl(u)}function iR(i,e={}){let t=U.useContext(FE);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=rr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=rr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return fh(o.pathname,h)!=null||fh(o.pathname,u)!=null}[...z1];const rR=()=>A.jsxs("header",{className:"app-header",children:[A.jsx("img",{src:"/Massage-Therapy-FIREBASE-PRO/icon-512x512.png",alt:"App Icon",className:"app-header__icon"}),A.jsxs("div",{className:"app-header__titles",children:[A.jsx("span",{className:"app-header__title-bold",children:"Massage Therapy"}),A.jsx("span",{className:"app-header__title-regular",children:"Smart Study PRO"})]})]}),sR=()=>A.jsx("nav",{className:"navbar",role:"navigation","aria-label":"Main navigation",children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(io,{to:"/quiz","aria-label":"Go to Quiz page",role:"link",children:"Quiz"})}),A.jsx("li",{children:A.jsx(io,{to:"/achievements","aria-label":"Go to Achievements page",role:"link",children:"Achievements"})}),A.jsx("li",{children:A.jsx(io,{to:"/analytics","aria-label":"Go to Analytics page",role:"link",children:"Analytics"})}),A.jsx("li",{children:A.jsx(io,{to:"/profile","aria-label":"Go to Profile page",role:"link",children:"Profile"})})]})}),aR=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(S=64)),s.push(t[v],t[b],t[S],t[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(JE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new lR;const S=u<<2|m>>4;if(s.push(S),g!==64){const k=m<<4&240|g>>2;if(s.push(k),b!==64){const O=g<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uR=function(i){const e=JE(i);return eT.encodeByteArray(e,!0)},dh=function(i){return uR(i).replace(/\./g,"")},tT=function(i){try{return eT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=()=>cR().__FIREBASE_DEFAULTS__,fR=()=>{if(typeof process>"u"||typeof Kv>"u")return;const i=Kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tT(i[1]);return e&&JSON.parse(e)},Uh=()=>{try{return aR()||hR()||fR()||dR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nT=i=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},mR=i=>{const e=nT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},iT=()=>{var i;return(i=Uh())===null||i===void 0?void 0:i.config},rT=i=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[dh(JSON.stringify(t)),dh(JSON.stringify(h)),""].join(".")}const Ql={};function yR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?i.emulator.push(e):i.prod.push(e);return i}function _R(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Yv=!1;function aT(i,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Ql[i]===e||Ql[i]||Yv)return;Ql[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Yv=!0,h()},S}function v(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=_R(s),k=t("text"),O=document.getElementById(k)||document.createElement("span"),G=t("learnmore"),z=document.getElementById(G)||document.createElement("a"),Q=t("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;m(ee),v(z,G);const oe=g();p(X,Q),ee.append(X,O,z,oe),document.body.appendChild(ee)}u?(O.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ER(){var i;const e=(i=Uh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SR(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function wR(){return!ER()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _p(){try{return typeof indexedDB=="object"}catch{return!1}}function vp(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function oT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FirebaseError";class ti extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=AR,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?RR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ti(o,m,s)}}function RR(i,e){return i.replace(IR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IR=/\{\$([^}]+)}/g;function CR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Kr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Xv(u)&&Xv(h)){if(!Kr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Xv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function xR(i,e){const t=new DR(i,e);return t.subscribe.bind(t)}class DR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");OR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1e3,jR=2,kR=4*60*60*1e3,MR=.5;function Wv(i,e=NR,t=jR){const s=e*Math.pow(t,i),o=Math.round(MR*s*(Math.random()-.5)*2);return Math.min(kR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i){return i&&i._delegate?i._delegate:i}class Zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new pR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LR(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(i){return i===qs?void 0:i}function LR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const zR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},BR=Ve.INFO,qR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},FR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=qR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zh{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=FR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const HR=(i,e)=>e.some(t=>i instanceof t);let Zv,Jv;function GR(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Vm=new WeakMap,uT=new WeakMap,vm=new WeakMap,Ep=new WeakMap;function $R(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Fr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&lT.set(t,i)}).catch(()=>{}),Ep.set(e,i),e}function KR(i){if(Vm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Vm.set(i,e)}let Pm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function YR(i){Pm=i(Pm)}function XR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Em(this),e,...t);return uT.set(s,e.sort?e.sort():[e]),Fr(s)}:QR().includes(i)?function(...e){return i.apply(Em(this),e),Fr(lT.get(this))}:function(...e){return Fr(i.apply(Em(this),e))}}function WR(i){return typeof i=="function"?XR(i):(i instanceof IDBTransaction&&KR(i),HR(i,GR())?new Proxy(i,Pm):i)}function Fr(i){if(i instanceof IDBRequest)return $R(i);if(vm.has(i))return vm.get(i);const e=WR(i);return e!==i&&(vm.set(i,e),Ep.set(e,i)),e}const Em=i=>Ep.get(i);function cT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Fr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Fr(h.result),p.oldVersion,p.newVersion,Fr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],Tm=new Map;function e0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=JR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Tm.set(e,u),u}YR(i=>({...i,get:(e,t,s)=>e0(e,t)||i.get(e,t,s),has:(e,t)=>!!e0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function tI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",t0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new zh("@firebase/app"),nI="@firebase/app-compat",iI="@firebase/analytics-compat",rI="@firebase/analytics",sI="@firebase/app-check-compat",aI="@firebase/app-check",oI="@firebase/auth",lI="@firebase/auth-compat",uI="@firebase/database",cI="@firebase/data-connect",hI="@firebase/database-compat",fI="@firebase/functions",dI="@firebase/functions-compat",mI="@firebase/installations",pI="@firebase/installations-compat",gI="@firebase/messaging",yI="@firebase/messaging-compat",_I="@firebase/performance",vI="@firebase/performance-compat",EI="@firebase/remote-config",TI="@firebase/remote-config-compat",bI="@firebase/storage",SI="@firebase/storage-compat",wI="@firebase/firestore",AI="@firebase/ai",RI="@firebase/firestore-compat",II="firebase",CI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",xI={[Lm]:"fire-core",[nI]:"fire-core-compat",[rI]:"fire-analytics",[iI]:"fire-analytics-compat",[aI]:"fire-app-check",[sI]:"fire-app-check-compat",[oI]:"fire-auth",[lI]:"fire-auth-compat",[uI]:"fire-rtdb",[cI]:"fire-data-connect",[hI]:"fire-rtdb-compat",[fI]:"fire-fn",[dI]:"fire-fn-compat",[mI]:"fire-iid",[pI]:"fire-iid-compat",[gI]:"fire-fcm",[yI]:"fire-fcm-compat",[_I]:"fire-perf",[vI]:"fire-perf-compat",[EI]:"fire-rc",[TI]:"fire-rc-compat",[bI]:"fire-gcs",[SI]:"fire-gcs-compat",[wI]:"fire-fst",[RI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,DI=new Map,zm=new Map;function n0(i,e){try{i.container.addComponent(e)}catch(t){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ai(i){const e=i.name;if(zm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const t of eu.values())n0(t,i);for(const t of DI.values())n0(t,i);return!0}function ea(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Js("app","Firebase",OI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=CI;function Tp(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Um,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(t||(t=iT()),!t)throw Hr.create("no-options");const u=eu.get(o);if(u){if(Kr(t,u.options)&&Kr(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const h=new UR(o);for(const p of zm.values())h.addComponent(p);const m=new NI(t,s,h);return eu.set(o,m),m}function bp(i=Um){const e=eu.get(i);if(!e&&i===Um&&iT())return Tp();if(!e)throw Hr.create("no-app",{appName:i});return e}function i0(){return Array.from(eu.values())}function Un(i,e,t){var s;let o=(s=xI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(m.join(" "));return}Ai(new Zn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",kI=1,tu="firebase-heartbeat-store";let bm=null;function hT(){return bm||(bm=cT(jI,kI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),bm}async function MI(i){try{const t=(await hT()).transaction(tu),s=await t.objectStore(tu).get(fT(i));return await t.done,s}catch(e){if(e instanceof ti)sr.warn(e.message);else{const t=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(t.message)}}}async function r0(i,e){try{const s=(await hT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,fT(i)),await s.done}catch(t){if(t instanceof ti)sr.warn(t.message);else{const s=Hr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});sr.warn(s.message)}}}function fT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1024,PI=30;class LI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=s0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PI){const h=BI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s0(),{heartbeatsToSend:s,unsentEntries:o}=UI(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return sr.warn(t),""}}}function s0(){return new Date().toISOString().substring(0,10)}function UI(i,e=VI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),a0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),a0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class zI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _p()?vp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a0(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function BI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){Ai(new Zn("platform-logger",e=>new eI(e),"PRIVATE")),Ai(new Zn("heartbeat",e=>new LI(e),"PRIVATE")),Un(Lm,t0,i),Un(Lm,t0,"esm2017"),Un("fire-js","")}qI("");var FI="firebase",HI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(FI,HI,"app");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,dT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(j,V,P){for(var D=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)D[ht-2]=arguments[ht];return R.prototype[V].apply(j,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var j=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)j[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)j[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],V=x.g[2];var P=x.g[3],D=R+(P^I&(V^P))+j[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=P+(V^R&(I^V))+j[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=V+(I^P&(R^I))+j[2]+606105819&4294967295,V=P+(D<<17&4294967295|D>>>15),D=I+(R^V&(P^R))+j[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(P^I&(V^P))+j[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(V^R&(I^V))+j[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=V+(I^P&(R^I))+j[6]+2821735955&4294967295,V=P+(D<<17&4294967295|D>>>15),D=I+(R^V&(P^R))+j[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(P^I&(V^P))+j[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(V^R&(I^V))+j[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=V+(I^P&(R^I))+j[10]+4294925233&4294967295,V=P+(D<<17&4294967295|D>>>15),D=I+(R^V&(P^R))+j[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(P^I&(V^P))+j[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(V^R&(I^V))+j[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=V+(I^P&(R^I))+j[14]+2792965006&4294967295,V=P+(D<<17&4294967295|D>>>15),D=I+(R^V&(P^R))+j[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(V^P&(I^V))+j[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^V&(R^I))+j[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(P^R))+j[11]+643717713&4294967295,V=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(V^P))+j[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^P&(I^V))+j[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^V&(R^I))+j[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(P^R))+j[15]+3634488961&4294967295,V=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(V^P))+j[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^P&(I^V))+j[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^V&(R^I))+j[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(P^R))+j[3]+4107603335&4294967295,V=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(V^P))+j[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^P&(I^V))+j[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^V&(R^I))+j[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(P^R))+j[7]+1735328473&4294967295,V=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(V^P))+j[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(I^V^P)+j[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^V)+j[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=V+(P^R^I)+j[11]+1839030562&4294967295,V=P+(D<<16&4294967295|D>>>16),D=I+(V^P^R)+j[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^P)+j[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^V)+j[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=V+(P^R^I)+j[7]+4139469664&4294967295,V=P+(D<<16&4294967295|D>>>16),D=I+(V^P^R)+j[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^P)+j[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^V)+j[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=V+(P^R^I)+j[3]+3572445317&4294967295,V=P+(D<<16&4294967295|D>>>16),D=I+(V^P^R)+j[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^P)+j[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^V)+j[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=V+(P^R^I)+j[15]+530742520&4294967295,V=P+(D<<16&4294967295|D>>>16),D=I+(V^P^R)+j[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(V^(I|~P))+j[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~V))+j[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=V+(R^(P|~I))+j[14]+2878612391&4294967295,V=P+(D<<15&4294967295|D>>>17),D=I+(P^(V|~R))+j[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~P))+j[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~V))+j[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=V+(R^(P|~I))+j[10]+4293915773&4294967295,V=P+(D<<15&4294967295|D>>>17),D=I+(P^(V|~R))+j[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~P))+j[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~V))+j[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=V+(R^(P|~I))+j[6]+2734768916&4294967295,V=P+(D<<15&4294967295|D>>>17),D=I+(P^(V|~R))+j[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~P))+j[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~V))+j[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=V+(R^(P|~I))+j[2]+718787259&4294967295,V=P+(D<<15&4294967295|D>>>17),D=I+(P^(V|~R))+j[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,j=this.B,V=this.h,P=0;P<R;){if(V==0)for(;P<=I;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(j[V++]=x.charCodeAt(P++),V==this.blockSize){o(this,j),V=0;break}}else for(;P<R;)if(j[V++]=x[P++],V==this.blockSize){o(this,j),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var j=0;32>j;j+=8)x[I++]=this.g[R]>>>j&255;return x};function u(x,R){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function h(x,R){this.h=R;for(var I=[],j=!0,V=x.length-1;0<=V;V--){var P=x[V]|0;j&&P==R||(I[V]=P,j=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new h([R|0],0>R?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return z(g(-x));for(var R=[],I=1,j=0;x>=I;j++)R[j]=x/I|0,I*=4294967296;return new h(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return z(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),j=b,V=0;V<x.length;V+=8){var P=Math.min(8,x.length-V),D=parseInt(x.substring(V,V+P),R);8>P?(P=g(Math.pow(R,P)),j=j.j(P).add(g(D))):(j=j.j(I),j=j.add(g(D)))}return j}var b=p(0),S=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-z(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var j=this.i(I);x+=(0<=j?j:4294967296+j)*R,R*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(G(this))return"-"+z(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,j="";;){var V=oe(I,R).g;I=Q(I,V.j(R));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,O(I))return P+j;for(;6>P.length;)P="0"+P;j=P+j}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function G(x){return x.h==-1}i.l=function(x){return x=Q(this,x),G(x)?-1:O(x)?0:1};function z(x){for(var R=x.g.length,I=[],j=0;j<R;j++)I[j]=~x.g[j];return new h(I,~x.h).add(S)}i.abs=function(){return G(this)?z(this):this},i.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],j=0,V=0;V<=R;V++){var P=j+(this.i(V)&65535)+(x.i(V)&65535),D=(P>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);j=D>>>16,P&=65535,D&=65535,I[V]=D<<16|P}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Q(x,R){return x.add(z(R))}i.j=function(x){if(O(this)||O(x))return b;if(G(this))return G(x)?z(this).j(z(x)):z(z(this).j(x));if(G(x))return z(this.j(z(x)));if(0>this.l(k)&&0>x.l(k))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],j=0;j<2*R;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var V=0;V<x.g.length;V++){var P=this.i(j)>>>16,D=this.i(j)&65535,ht=x.i(V)>>>16,it=x.i(V)&65535;I[2*j+2*V]+=D*it,X(I,2*j+2*V),I[2*j+2*V+1]+=P*it,X(I,2*j+2*V+1),I[2*j+2*V+1]+=D*ht,X(I,2*j+2*V+1),I[2*j+2*V+2]+=P*ht,X(I,2*j+2*V+2)}for(j=0;j<R;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=R;j<2*R;j++)I[j]=0;return new h(I,0)};function X(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ee(x,R){this.g=x,this.h=R}function oe(x,R){if(O(R))throw Error("division by zero");if(O(x))return new ee(b,b);if(G(x))return R=oe(z(x),R),new ee(z(R.g),z(R.h));if(G(R))return R=oe(x,z(R)),new ee(z(R.g),R.h);if(30<x.g.length){if(G(x)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,j=R;0>=j.l(x);)I=ce(I),j=ce(j);var V=ue(I,1),P=ue(j,1);for(j=ue(j,2),I=ue(I,2);!O(j);){var D=P.add(j);0>=D.l(x)&&(V=V.add(I),P=D),j=ue(j,1),I=ue(I,1)}return R=Q(x,V.j(R)),new ee(V,R)}for(V=b;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),P=g(I),D=P.j(R);G(D)||0<D.l(x);)I-=j,P=g(I),D=P.j(R);O(P)&&(P=S),V=V.add(P),x=Q(x,D)}return new ee(V,x)}i.A=function(x){return oe(this,x).h},i.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)&x.i(j);return new h(I,this.h&x.h)},i.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)|x.i(j);return new h(I,this.h|x.h)},i.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],j=0;j<R;j++)I[j]=this.i(j)^x.i(j);return new h(I,this.h^x.h)};function ce(x){for(var R=x.g.length+1,I=[],j=0;j<R;j++)I[j]=x.i(j)<<1|x.i(j-1)>>>31;return new h(I,x.h)}function ue(x,R){var I=R>>5;R%=32;for(var j=x.g.length-I,V=[],P=0;P<j;P++)V[P]=0<R?x.i(P+I)>>>R|x.i(P+I+1)<<32-R:x.i(P+I);return new h(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Gr=h}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,ql,pT,nh,Bm,gT,yT,_T;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in _))break e;_=_[B]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,B={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,B,K){for(var se=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];return y.prototype[B].apply(w,se)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const B=c.length||0,K=w.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=w[se]}else c.push(w)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ue(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)c[_]=w[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ht{constructor(){this.h=this.g=null}add(y,_){const w=it.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var it=new Q(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,De=new ht,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function me(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{oe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&me.aa.h.call(this)}}O(me,re);var he={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Je(c,y,_,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++Ce,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function on(c){this.src=c,this.g={},this.h=0}on.prototype.add=function(c,y,_,w,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=ss(c,y,w,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Je(y,this.src,K,!!w,B),y.fa=_,c.push(y)),y};function rs(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(w,B,1),K&&(lt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ss(c,y,_,w){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return B}return-1}var as="closure_lm_"+(1e6*Math.random()|0),Co={};function Su(c,y,_,w,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Su(c,y[K],_,w,B);return null}return _=wu(_),c&&c[Ee]?c.K(y,_,g(w)?!!w.capture:!1,B):Sn(c,y,_,!1,w,B)}function Sn(c,y,_,w,B,K){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Le=la(c);if(Le||(c[as]=Le=new on(c)),_=Le.add(y,_,w,se,K),_.proxy)return _;if(w=cf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ye||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(os(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cf(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function xo(c,y,_,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)xo(c,y[K],_,w,B);else w=g(w)?!!w.capture:!!w,_=wu(_),c&&c[Ee]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ss(K,_,w,B),-1<_&&(lt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ss(y,_,w,B)),(_=-1<c?y[c]:null)&&oa(_))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ee])rs(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(os(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=la(y))?(rs(_,c),_.h==0&&(_.src=null,y[as]=null)):lt(c)}}}function os(c){return c in Co?Co[c]:Co[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new me(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&oa(c),c=_.call(w,y)}return c}function la(c){return c=c[as],c instanceof on?c:null}var Do="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function ft(){le.call(this),this.i=new on(this),this.M=this,this.F=null}O(ft,le),ft.prototype[Ee]=!0,ft.prototype.removeEventListener=function(c,y,_,w){xo(this,c,y,_,w)};function Qe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(w,c),j(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];B=dn(se,w,!0,y)&&B}if(se=y.g=c,B=dn(se,w,!0,y)&&B,B=dn(se,w,!1,y)&&B,_)for(K=0;K<_.length;K++)se=y.g=_[K],B=dn(se,w,!1,y)&&B}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)lt(_[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ft.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function dn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Le=se.listener,Ct=se.ha||se.src;se.fa&&rs(c.i,se),B=Le.call(Ct,w)!==!1&&B}}return B&&!w.defaultPrevented}function Yt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Au(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){le.call(this),this.h=c,this.g={}}O(ls,le);var us=[];function cs(c){ue(c.g,function(y,_){this.g.hasOwnProperty(_)&&oa(y)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,ua=m.JSON.parse,hs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Oo(){}Oo.prototype.h=null;function No(c){return c.h||(c.h=c.i())}function jo(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){re.call(this,"d")}O(xi,re);function ko(){re.call(this,"c")}O(ko,re);var ni={},Mo=null;function cr(){return Mo=Mo||new ft}ni.La="serverreachability";function ca(c){re.call(this,ni.La,c)}O(ca,re);function hr(c){const y=cr();Qe(y,new ca(y))}ni.STAT_EVENT="statevent";function Ru(c,y){re.call(this,ni.STAT_EVENT,c),this.stat=y}O(Ru,re);function st(c){const y=cr();Qe(y,new Ru(y,c))}ni.Ma="timingevent";function It(c,y){re.call(this,ni.Ma,c),this.size=y}O(It,re);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Vo(c,y,_,w,B,K){c.info(function(){if(c.g)if(K)for(var se="",Le=K.split("&"),Ct=0;Ct<Le.length;Ct++){var Ue=Le[Ct].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var xt=kt.split("_");se=2<=xt.length&&xt[1]=="type"?se+(kt+"="+Ue+"&"):se+(kt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function df(c,y,_,w,B,K,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+se})}function fr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fs(c,_)+(w?" "+w:"")})}function Iu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function fs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Bn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function ri(){}O(ri,Oo),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ii=new ri;function nn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Po={},ha={};function qn(c,y,_){c.L=1,c.v=ys(mn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),ds(c),c.A=mn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Fo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(us[0]=B.toString()),B=us);for(var K=0;K<B.length;K++){var se=Su(_,B[K],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Cn(this.g);var y=this.g.Ba();const Ui=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Ui?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;t:if(Cu(this)){var w=Mu(this.g);c="";var B=w.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),si(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,df(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ct=this.g;if((Le=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,_);else{this.o=!1,this.s=3,st(12),Bt(this),si(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=xu(this,se),qt==ha){xt==4&&(this.s=4,st(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Po){this.s=4,st(15),fr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,qt,null),ms(this,qt);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||se.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,se,"[Invalid Chunked Response]"),Bt(this),si(this);else if(0<se.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),As(kt),kt.M=!0,st(11))}}else fr(this.i,this.l,se,null),ms(this,se);xt==4&&Bt(this),this.o&&!this.J&&(xt==4?zu(this.j,this):(this.o=!1,ds(this)))}else _f(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),si(this)}}}catch{}finally{}};function Cu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ha:(_=Number(y.substring(_,w)),isNaN(_)?Po:(w+=1,w+_>y.length?ha:(y=y.slice(w,w+_),c.C=w+_,y)))}nn.prototype.cancel=function(){this.J=!0,Bt(this)};function ds(c){c.S=Date.now()+c.I,Du(c,c.I)}function Du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Iu(this.i,this.A),this.L!=2&&(hr(),st(17)),Bt(this),this.s=2,si(this)):Du(this,this.S-c)};function si(c){c.j.G==0||c.J||zu(c.j,c)}function Bt(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ms(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Lo(_.h,c))){if(!c.K&&Lo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),Ta(_);else break e;Ko(_),st(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(S(_.Za,_),6e3));if(1>=da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&Sa(_),!X(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ue=B[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const kt=Ue[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const xt=Ue[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Ui=Ue[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(w=1.5*Ui,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const qt=c.g;if(qt){const fi=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var K=w.h;K.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ma(K,K.h),K.h=null))}if(w.D){const Xo=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(w.ya=Xo,Ye(w.I,w.D,Xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=qu(w,w.J?w.ia:null,w.W),se.K){rn(w.h,se);var Le=se,Ct=w.L;Ct&&(Le.I=Ct),Le.B&&(mr(Le),ds(Le)),w.g=se}else Lu(w);0<_.i.length&&ba(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Li(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Li(_,7):Qo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}hr(4)}catch{}}var Ou=class{constructor(c,y){this.g=c,this.map=y}};function Ni(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pa(c),w=mf(c),B=w.length,K=0;K<B;K++)y.call(void 0,w[K],_&&_[K],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),B=null;if(0<=w){var K=c[_].substring(0,w);B=c[_].substring(w+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new ki;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ji(this,_),this.m=c.m}else c&&(y=String(c).match(ps))?(this.h=!1,gs(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),pr(this,y[4]),this.l=An(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_s(y,Bo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_s(y,Bo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_s(_,_.charAt(0)=="/"?gf:qo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_s(_,ga)),c.join("")};function mn(c){return new Tt(c)}function gs(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ji(c,y,_){y instanceof ki?(c.i=y,ju(c.i,c.h)):(_||(y=_s(y,yf)),c.i=new ki(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function ys(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,qo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,ga=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ki.prototype,i.add=function(c,y){Rn(this),this.i=null,c=ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Mi(c,y){Rn(c),y=ai(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return Rn(c),y=ai(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(_,w){_.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=c[w];for(let K=0;K<B.length;K++)_.push(y[w])}return _},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=ai(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,_){Mi(c,y),0<_.length&&(c.i=null,c.g.set(ai(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var B=K;se[w]!==""&&(B+="="+encodeURIComponent(String(se[w]))),c.push(B)}}return this.i=c.join("&")};function ai(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(Mi(this,w),Fo(this,B,_))},c)),c.j=y}function vs(c,y){const _=new wn;if(m.Image){const w=new Image;w.onload=k(In,_,"TestLoadImage: loaded",!0,y,w),w.onerror=k(In,_,"TestLoadImage: error",!1,y,w),w.onabort=k(In,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=k(In,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Fn(c,y){const _=new wn,w=new AbortController,B=setTimeout(()=>{w.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Es(){this.g=new hs}function oi(c,y,_){const w=_||"";try{zo(c,function(B,K){let se=B;g(B)&&(se=Bn(B)),y.push(w+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(gr,Oo),gr.prototype.g=function(){return new Pi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Pi,ft),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ui(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?li(this):ui(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,li(this))},i.Qa=function(c){this.g&&(this.response=c,li(this))},i.ga=function(){this.g&&li(this)};function li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ui(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ui(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return ue(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function jt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Go(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function He(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(He,ft);var ya=/^https?$/i,Ts=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?No(this.o):No(ii),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ku(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ku(this,K)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),ci(c)}function _a(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ci(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},i.bb=function(){va(this)};function va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Yt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=se===0){var B=String(c.D).match(ps)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!ya.test(B?B.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var K=2<Cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",_a(c)}}finally{ci(c)}}}}function ci(c,y){if(c.g){bs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(X(c[w]))continue;var _=V(c[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ea.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){st(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=qu(this,null,this.W),ba(this)};function Qo(c){if(Vu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),ws(c,_),y=new nn(c,c.j,y),y.L=2,y.v=ys(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ds(y)}Bu(c)}function Ta(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Vu(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ba(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||N(),ge||(ae(),ge=!0),De.add(y,c),c.B=0}}function vf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),Yo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new nn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),j(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Pu(this,B,y),_=mn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),ws(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Go(K)))+"&"+y:this.m&&jt(_,this.m,K)),ma(this.h,B),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),B.T=!0,qn(B,_,null)):qn(B,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||fa(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const w=mn(c.I);Ye(w,"SID",c.K),Ye(w,"RID",_),Ye(w,"AID",c.T),ws(c,w),c.m&&c.o&&jt(w,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),qn(_,w,y)}function ws(c,y){c.H&&ue(c.H,function(_,w){Ye(y,w,_)}),c.l&&zo({},function(_,w){Ye(y,w,_)})}function Pu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Le=!0;for(let Ct=0;Ct<_;Ct++){let Ue=B[Ct].g;const kt=B[Ct].map;if(Ue-=K,0>Ue)K=Math.max(0,B[Ct].g-100),Le=!1;else try{oi(kt,se,"req"+Ue+"_")}catch{w&&w(kt)}}if(Le){w=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Lu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||N(),ge||(ae(),ge=!0),De.add(y,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),Yo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ta(this),Uu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&jt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(mn(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ta(this),Ko(this),st(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function zu(c,y){var _=null;if(c.g==y){Sa(c),As(c),c.g=null;var w=2}else if(Lo(c.h,y))_=y.D,rn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=cr(),Qe(w,new It(w,_)),ba(c)}else Lu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&vf(c,y)||w==2&&Ko(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Yo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const B=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(w,"https"),ys(w),B?vs(w.toString(),_):Fn(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),Bu(c),Vu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,_){var w=_ instanceof Tt?mn(_):new Tt(_);if(w.g!="")y&&(w.g=y+"."+w.g),pr(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Tt(null);w&&gs(K,w),y&&(K.g=y),B&&pr(K,B),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&Ye(w,_,y),Ye(w,"VER",c.la),ws(c,w),w}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new gr({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}i=Hu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ft.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hi(this)}O(sn,ft),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Qo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new Ou(y.Ya++,c)),y.G==3&&ba(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,sn.aa.N.call(this)};function Gu(c){xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Gu,xi);function Qu(){ko.call(this),this.status=1}O(Qu,ko);function hi(c){this.g=c}O(hi,Hu),hi.prototype.ua=function(){Qe(this.g,"a")},hi.prototype.ta=function(c){Qe(this.g,new Gu(c))},hi.prototype.sa=function(c){Qe(this.g,new Qu)},hi.prototype.ra=function(){Qe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,_T=function(){return new wa},yT=function(){return cr()},gT=ni,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,nh=dr,Di.COMPLETE="complete",pT=Di,jo.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ql=jo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,mT=He}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new zh("@firebase/firestore");function Ja(){return Ks.logLevel}function de(i,...e){if(Ks.logLevel<=Ve.DEBUG){const t=e.map(Sp);Ks.debug(`Firestore (${To}): ${i}`,...t)}}function ar(i,...e){if(Ks.logLevel<=Ve.ERROR){const t=e.map(Sp);Ks.error(`Firestore (${To}): ${i}`,...t)}}function Yr(i,...e){if(Ks.logLevel<=Ve.WARN){const t=e.map(Sp);Ks.warn(`Firestore (${To}): ${i}`,...t)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,vT(i,s,t)}function vT(i,e,t){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ar(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||vT(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class QI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $I{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class KI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new c0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=WI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function qm(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=TT(),h=ZI(u.encode(h0(i,t)),u.encode(h0(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(i.length,e.length)}function h0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function ZI(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ne(i[t],e[t]);return Ne(i.length,e.length)}function lo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class _i{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=_i.isNumericId(e),o=_i.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(t)):qm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class tt extends _i{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const JI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends _i{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return JI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new $t([f0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(tt.fromString(e))}static fromName(e){return new ve(tt.fromString(e).popFirst(5))}static empty(){return new ve(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i,e,t){if(!t)throw new fe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eC(i,e,t,s){if(e===!0&&s===!0)throw new fe(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function d0(i){if(!ve.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m0(i){if(ve.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(i);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const t={typeString:i};return e&&(t.value=e),t}function du(i,e){if(!bT(i))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new fe(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,g0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*g0);return new rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<p0)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Rt("string",rt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new rt(0,0))}static max(){return new Re(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function tC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new rt(t+1,0):new rt(t,s));return new Xr(o,ve.empty(),e)}function nC(i){return new Xr(i.readTime,i.key,nu)}class Xr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xr(Re.min(),ve.empty(),nu)}static max(){return new Xr(Re.max(),ve.empty(),nu)}}function iC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==rC)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function aC(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Fh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function oC(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function lC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=y0(e)),e=uC(i.get(t),e);return y0(e)}function uC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case ST:t+="";break;default:t+=u}}return t}function y0(i){return i+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function wT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Nt($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=cC.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",IT="__type__",CT="__previous_value__",xT="__local_write_time__";function Ip(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||t===void 0?void 0:t.stringValue)===RT}function Hh(i){const e=i.mapValue.fields[CT];return Ip(e)?Hh(e):e}function iu(i){const e=Wr(i.mapValue.fields[xT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const ph="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||ph}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",fC="__max__",Xc={mapValue:{}},OT="__vector__",gh="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:mC(i)?9007199254740991:dC(i)?10:11:we(28295,{value:i})}function Ri(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Wr(o.timestampValue),m=Wr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Zr(o.bytesValue).isEqual(Zr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?mh(h)===mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_0(h)!==_0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ri(h[p],m[p])))return!1;return!0}(i,e);default:return we(52216,{left:i})}}function su(i,e){return(i.values||[]).find(t=>Ri(t,e))!==void 0}function uo(i,e){if(i===e)return 0;const t=Jr(i),s=Jr(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return E0(i.timestampValue,e.timestampValue);case 4:return E0(iu(i),iu(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Zr(u),p=Zr(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ne(m[g],p[g]);if(v!==0)return v}return Ne(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(_t(u.latitude),_t(h.latitude));return m!==0?m:Ne(_t(u.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return T0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const b=u.fields||{},S=h.fields||{},k=(m=b[gh])===null||m===void 0?void 0:m.arrayValue,O=(p=S[gh])===null||p===void 0?void 0:p.arrayValue,G=Ne(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:T0(k,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xc.mapValue&&h===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(h===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=qm(p[b],v[b]);if(S!==0)return S;const k=uo(m[p[b]],g[v[b]]);if(k!==0)return k}return Ne(p.length,v.length)}(i.mapValue,e.mapValue);default:throw we(23264,{le:t})}}function E0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=Wr(i),s=Wr(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function T0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=uo(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function co(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Zr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Fm(t.fields[h])}`;return o+"}"}(i.mapValue):we(61005,{value:i})}function ih(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(i);return e?16+ih(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ta(s.fields,(u,h)=>{o+=u.length+ih(h)}),o}(i.mapValue);default:throw we(13486,{value:i})}}function b0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hm(i){return!!i&&"integerValue"in i}function Cp(i){return!!i&&"arrayValue"in i}function S0(i){return!!i&&"nullValue"in i}function w0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rh(i){return!!i&&"mapValue"in i}function dC(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||t===void 0?void 0:t.stringValue)===OT}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=$l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(i.arrayValue.values[t]);return e}return Object.assign({},i)}function mC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=$l(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ta(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Pn($l(this.value))}}function NT(i){const e=[];return ta(i.fields,(t,s)=>{const o=new $t([t]);if(rh(s)){const u=NT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),Pn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Re.min(),Re.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Re.min(),Re.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.position=e,this.inclusive=t}}function A0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=uo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ri(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t="asc"){this.field=e,this.dir=t}}function pC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class At extends jT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new yC(e,t,s):t==="array-contains"?new EC(e,s):t==="in"?new TC(e,s):t==="not-in"?new bC(e,s):t==="array-contains-any"?new SC(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _C(e,s):new vC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(uo(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends jT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Jn(e,t)}matches(e){return kT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kT(i){return i.op==="and"}function MT(i){return gC(i)&&kT(i)}function gC(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Gm(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+co(i.value);if(MT(i))return i.filters.map(e=>Gm(e)).join(",");{const e=i.filters.map(t=>Gm(t)).join(",");return`${i.op}(${e})`}}function VT(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&VT(h,o.filters[m]),!0):!1}(i,e):void we(19439)}function PT(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${co(t.value)}`}(i):i instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(PT).join(" ,")+"}"}(i):"Filter"}class yC extends At{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class _C extends At{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vC extends At{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class EC extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&su(t.arrayValue,this.value)}}class TC extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class bC extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class SC extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function I0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new wC(i,e,t,s,o,u,h)}function xp(i){const e=Ie(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Gm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>co(s)).join(",")),e.Pe=t}return e.Pe}function Dp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!pC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!VT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!R0(i.startAt,e.startAt)&&R0(i.endAt,e.endAt)}function Qm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function AC(i,e,t,s,o,u,h,m){return new wo(i,e,t,s,o,u,h,m)}function Gh(i){return new wo(i)}function C0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function UT(i){return i.collectionGroup!==null}function Kl(i){const e=Ie(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Nt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new _h(u,s))}),t.has($t.keyField().canonicalString())||e.Te.push(new _h($t.keyField(),s))}return e.Te}function Ei(i){const e=Ie(i);return e.Ie||(e.Ie=RC(e,Kl(i))),e.Ie}function RC(i,e){if(i.limitType==="F")return I0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)});const t=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return I0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function $m(i,e){const t=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,t){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Qh(i,e){return Dp(Ei(i),Ei(e))&&i.limitType===e.limitType}function zT(i){return`${xp(Ei(i))}|lt:${i.limitType}`}function eo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>PT(o)).join(", ")}]`),Fh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(Ei(i))}; limitType=${i.limitType})`}function $h(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=A0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(h,m,p){const g=A0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(i,e)}function IC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function BT(i){return(e,t)=>{let s=!1;for(const o of Kl(i)){const u=CC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CC(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):we(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new ct(ve.comparator);function or(){return xC}const qT=new ct(ve.comparator);function Fl(...i){let e=qT;for(const t of i)e=e.insert(t.key,t);return e}function FT(i){let e=qT;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Fs(){return Yl()}function HT(){return Yl()}function Yl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const DC=new ct(ve.comparator),OC=new Nt(ve.comparator);function Pe(...i){let e=OC;for(const t of i)e=e.add(t);return e}const NC=new Nt(Ne);function jC(){return NC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function GT(i){return{integerValue:""+i}}function kC(i,e){return oC(e)?GT(e):Op(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function MC(i,e,t){return i instanceof vh?function(o,u){const h={fields:{[IT]:{stringValue:RT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Hh(u)),u&&(h.fields[CT]=u),{mapValue:h}}(t,e):i instanceof au?$T(i,e):i instanceof ou?KT(i,e):function(o,u){const h=QT(o,u),m=x0(h)+x0(o.Ee);return Hm(h)&&Hm(o.Ee)?GT(m):Op(o.serializer,m)}(i,e)}function VC(i,e,t){return i instanceof au?$T(i,e):i instanceof ou?KT(i,e):t}function QT(i,e){return i instanceof Eh?function(s){return Hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vh extends Kh{}class au extends Kh{constructor(e){super(),this.elements=e}}function $T(i,e){const t=YT(e);for(const s of i.elements)t.some(o=>Ri(o,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends Kh{constructor(e){super(),this.elements=e}}function KT(i,e){let t=YT(e);for(const s of i.elements)t=t.filter(o=>!Ri(o,s));return{arrayValue:{values:t}}}class Eh extends Kh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function x0(i){return _t(i.integerValue||i.doubleValue)}function YT(i){return Cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?lo(s.elements,o.elements,Ri):s instanceof Eh&&o instanceof Eh?Ri(s.Ee,o.Ee):s instanceof vh&&o instanceof vh}(i.transform,e.transform)}class LC{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yh{}function XT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ZT(i.key,ir.none()):new mu(i.key,i.data,ir.none());{const t=i.data,s=Pn.empty();let o=new Nt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ia(i.key,s,new $n(o.toArray()),ir.none())}}function UC(i,e,t){i instanceof mu?function(o,u,h){const m=o.value.clone(),p=O0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ia?function(o,u,h){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=O0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(WT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Xl(i,e,t,s){return i instanceof mu?function(u,h,m,p){if(!sh(u.precondition,h))return m;const g=u.value.clone(),v=N0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ia?function(u,h,m,p){if(!sh(u.precondition,h))return m;const g=N0(u.fieldTransforms,p,h),v=h.data;return v.setAll(WT(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,m){return sh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function zC(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(t===null&&(t=Pn.empty()),t.set(s.field,u))}return t||null}function D0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,h)=>PC(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class mu extends Yh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends Yh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function O0(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,VC(h,m,t[o]))}return s}function N0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,MC(u,h,e))}return s}class ZT extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UC(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=HT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=XT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(t,s)=>D0(t,s))&&lo(this.baseMutations,e.baseMutations,(t,s)=>D0(t,s))}}class Np{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return DC}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Np(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function GC(i){switch(i){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function JT(i){if(i===void 0)return ar("GRPC error has no .code"),J.UNKNOWN;switch(i){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:i})}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Gr([4294967295,4294967295],0);function j0(i){const e=TT().encode(i),t=new dT;return t.update(e),new Uint8Array(t.digest())}function k0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([t,s],0),new Gr([o,u],0)]}class jp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Gr.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Gr.fromNumber(s)));return o.compare(QC)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=j0(e),[s,o]=k0(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new jp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=j0(e),[s,o]=k0(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xh(Re.min(),o,new ct(Ne),or(),Pe())}}class pu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class eb{constructor(e,t){this.targetId=e,this.De=t}}class tb{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class M0{constructor(){this.ve=0,this.Ce=V0(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pe(),t=Pe(),s=Pe();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new pu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=V0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $C{constructor(e){this.We=e,this.Ge=new Map,this.ze=or(),this.je=Wc(),this.Je=Wc(),this.He=new ct(Ne)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(Qm(u))if(s===0){const h=new ve(u.path);this.Xe(t,h,en.newNoDocument(h,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Zr(s).toUint8Array()}catch(p){if(p instanceof AT)return Yr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(h,o,u)}catch(p){return Yr(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Qm(m.target)){const p=new ve(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,en.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Pe();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Xh(e,t,this.He,this.ze,s);return this.ze=or(),this.je=Wc(),this.Je=Wc(),this.He=new ct(Ne),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new M0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Nt(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Nt(Ne),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new M0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Wc(){return new ct(ve.comparator)}function V0(){return new ct(ve.comparator)}const KC={asc:"ASCENDING",desc:"DESCENDING"},YC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XC={and:"AND",or:"OR"};class WC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ym(i,e){return i.useProto3Json||Fh(e)?e:{value:e}}function Th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZC(i,e){return Th(i,e.toTimestamp())}function Ti(i){return Ge(!!i,49232),Re.fromTimestamp(function(t){const s=Wr(t);return new rt(s.seconds,s.nanos)}(i))}function kp(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function ib(i){const e=tt.fromString(i);return Ge(lb(e),10190,{key:e.toString()}),e}function Wm(i,e){return kp(i.databaseId,e.path)}function Sm(i,e){const t=ib(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(sb(t))}function rb(i,e){return kp(i.databaseId,e)}function JC(i){const e=ib(i);return e.length===4?tt.emptyPath():sb(e)}function Zm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sb(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function P0(i,e,t){return{name:Wm(i,e),fields:t.value.mapValue.fields}}function e2(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Kt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Kt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?J.UNKNOWN:JT(g.code);return new fe(v,g.message||"")}(h);t=new tb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),u=Ti(s.document.updateTime),h=s.document.createTime?Ti(s.document.createTime):Re.min(),m=new Pn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new ah(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(i,s.document),u=s.readTime?Ti(s.readTime):Re.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];t=new ah([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(i,s.document),u=s.removedTargetIds||[];t=new ah([],u,o,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new HC(o,u),m=s.targetId;t=new eb(m,h)}}return t}function t2(i,e){let t;if(e instanceof mu)t={update:P0(i,e.key,e.value)};else if(e instanceof ZT)t={delete:Wm(i,e.key)};else if(e instanceof ia)t={update:P0(i,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof BC))return we(16599,{Rt:e.type});t={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw we(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(i,e.precondition)),t}function n2(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Ti(o.updateTime):Ti(u);return h.isEqual(Re.min())&&(h=Ti(u)),new LC(h,o.transformResults||[])}(t,e))):[]}function i2(i,e){return{documents:[rb(i,e.path)]}}function r2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rb(i,o);const u=function(g){if(g.length!==0)return ob(Jn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:to(S.field),direction:o2(S.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Ym(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function s2(i){let e=JC(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(b){const S=ab(b);return S instanceof Jn&&MT(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(S=>function(O){return new _h(no(O.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Fh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,k=b.values||[];return new yh(k,S)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const S=!b.before,k=b.values||[];return new yh(k,S)}(t.endAt)),AC(e,o,h,u,m,"F",p,g)}function a2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ab(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=no(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(i):i.fieldFilter!==void 0?function(t){return At.create(no(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>ab(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(i):we(30097,{filter:i})}function o2(i){return KC[i]}function l2(i){return YC[i]}function u2(i){return XC[i]}function to(i){return{fieldPath:i.canonicalString()}}function no(i){return $t.fromServerFormat(i.fieldPath)}function ob(i){return i instanceof At?function(t){if(t.op==="=="){if(w0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NAN"}};if(S0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(w0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NAN"}};if(S0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(t.field),op:l2(t.op),value:t.value}}}(i):i instanceof Jn?function(t){const s=t.getFilters().map(o=>ob(o));return s.length===1?s[0]:{compositeFilter:{op:u2(t.op),filters:s}}}(i):we(54877,{filter:i})}function c2(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,s,o,u=Re.min(),h=Re.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.gt=e}}function f2(i){const e=s2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Dn=new m2}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Xr.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class m2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(ub,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ho(0)}static ur(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",p2=1048576;function z0([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class g2{constructor(e){this.Tr=e,this.buffer=new Nt(z0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();z0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(U0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){So(t)?de(U0,"Ignoring IndexedDB error during garbage collection: ",t):await bo(t)}await this.Rr(3e5)})}}class _2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(qh.ue);const s=new g2(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(L0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Ja()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function v2(i,e){return new _2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.changes=new na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Xl(s.mutation,o,$n.empty(),rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=Fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Fl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Fs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=or();const h=Yl(),m=function(){return Yl()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ia)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Xl(v.mutation,g,v.mutation.getFieldMask(),rt.now())):h.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var b;return m.set(g,new T2(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new ct((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||$n.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=HT();v.forEach(S=>{if(!u.has(S)){const k=XT(t.get(S),s.get(S));k!==null&&b.set(S,k),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Fs());let m=nu,p=u;return h.next(g=>ne.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(v=>({batchId:m,changes:FT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(b,S){return new wo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,en.newInvalidDocument(v)))});let m=Fl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Xl(v.mutation,g,$n.empty(),rt.now()),$h(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:f2(o.bundledQuery),readTime:Ti(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new ct(ve.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Fs();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Fs(),u=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Fs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ne.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new FC(t,s));let u=this.kr.get(t);u===void 0&&(u=Pe(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.qr=new Nt(Lt.Qr),this.$r=new Nt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ve(new tt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ve(new tt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Pe();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ve.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Nt(Lt.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qC(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Rp:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(Ne);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ne.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ve(u),0);let m=new Nt(Ne);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),ne.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.ni=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=or();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=or();const h=t.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||iC(nC(v),s)<=0||(o.has(v.key)||$h(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ri(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new C2(this)}getSize(e){return ne.resolve(this.size)}}class C2 extends E2{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.ii=new na(t=>xp(t),Dp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new Mp,this.targetCount=0,this._i=ho.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ho(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.ai={},this.overlays={},this.ui=new qh(0),this.ci=!1,this.ci=!0,this.li=new A2,this.referenceDelegate=e(this),this.hi=new x2(this),this.indexManager=new d2,this.remoteDocumentCache=function(o){return new I2(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new h2(t),this.Ti=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new R2(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new D2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class D2 extends sC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ai=new Mp,this.Ri=null}static Vi(e){return new Vp(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,s=>{const o=ve.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.gi=new na(s=>lC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=v2(this,t)}static Vi(e,t){return new bh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}Sr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return wR()?8:aC(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new O2;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(Ja()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ja()<=Ve.DEBUG&&de("QueryEngine","Query:",eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ja()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(t))):ne.resolve())}ps(e,t){if(C0(t))return ne.resolve(null);let s=Ei(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Km(t,null,"F"),s=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,h,p.readTime)?this.ps(e,Km(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return C0(t)||o.isEqual(Re.min())?ne.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?ne.resolve(null):(Ja()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(t)),this.vs(e,h,t,tC(o,nu)).next(m=>m))})}bs(e,t){let s=new Nt(BT(e));return t.forEach((o,u)=>{$h(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return Ja()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",eo(t)),this.gs.getDocumentsMatchingQuery(e,t,Xr.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",j2=3e8;class k2{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ct(Ne),this.Ms=new na(u=>xp(u),Dp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function M2(i,e,t,s){return new k2(i,e,t,s)}async function hb(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function V2(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,S=b.keys();let k=ne.resolve();return S.forEach(O=>{k=k.next(()=>v.getEntry(p,O)).next(G=>{const z=g.docVersions.get(O);Ge(z!==null,48541),G.version.compareTo(z)<0&&(b.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fb(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function P2(i,e){const t=Ie(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((v,b)=>{const S=o.get(b);if(!S)return;m.push(t.hi.removeMatchingKeys(u,v.removedDocuments,b).next(()=>t.hi.addMatchingKeys(u,v.addedDocuments,b)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,s)),o=o.insert(b,k),function(G,z,Q){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=j2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,k,v)&&m.push(t.hi.updateTargetData(u,k))});let p=or(),g=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(L2(u,h,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!s.isEqual(Re.min())){const v=t.hi.getLastRemoteSnapshotVersion(u).next(b=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function L2(i,e,t){let s=Pe(),o=Pe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=or();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function U2(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Rp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function z2(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Jm(i,e,t){const s=Ie(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!So(h))throw h;de(Lp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function B0(i,e,t){const s=Ie(i);let o=Re.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Ie(p),S=b.Ms.get(v);return S!==void 0?ne.resolve(b.Fs.get(S)):b.hi.getTargetData(g,v)}(s,h,Ei(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:Pe())).next(m=>(B2(s,IC(e),m),{documents:m,qs:u})))}function B2(i,e,t){let s=i.xs.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class q0{constructor(){this.activeTargetIds=jC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q2{constructor(){this.Fo=new q0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new q0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class H0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(F0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function ep(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=ep(),m=this.Go(e,t.toUriEncodedString());de(wm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=vo(g);return this.jo(e,m,p,s,v).then(b=>(de(wm,`Received RPC '${e}' ${h}: `,b),b),b=>{throw Yr(wm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=H2[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class $2 extends G2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=ep();return new Promise((m,p)=>{const g=new mT;g.setWithCredentials(!0),g.listenOnce(pT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nh.NO_ERROR:const b=g.getResponseJson();de(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case nh.TIMEOUT:de(Zt,`RPC '${e}' ${h} timed out`),p(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=g.getStatus();if(de(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k==null?void 0:k.error;if(O&&O.status&&O.message){const G=function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN}(O.status);p(new fe(G,O.message))}else p(new fe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{de(Zt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);de(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)})}P_(e,t,s){const o=ep(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_T(),m=yT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");de(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.T_(b);let S=!1,k=!1;const O=new Q2({Ho:z=>{k?de(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(de(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),de(Zt,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Yo:()=>b.close()}),G=(z,Q,X)=>{z.listen(Q,ee=>{try{X(ee)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(b,ql.EventType.OPEN,()=>{k||(de(Zt,`RPC '${e}' stream ${o} transport opened.`),O.s_())}),G(b,ql.EventType.CLOSE,()=>{k||(k=!0,de(Zt,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(b))}),G(b,ql.EventType.ERROR,z=>{k||(k=!0,Yr(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),O.__(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),G(b,ql.EventType.MESSAGE,z=>{var Q;if(!k){const X=z.data[0];Ge(!!X,16349);const ee=X,oe=(ee==null?void 0:ee.error)||((Q=ee[0])===null||Q===void 0?void 0:Q.error);if(oe){de(Zt,`RPC '${e}' stream ${o} received error:`,oe);const ce=oe.status;let ue=function(I){const j=wt[I];if(j!==void 0)return JT(j)}(ce),x=oe.message;ue===void 0&&(ue=J.INTERNAL,x="Unknown error status: "+ce+" with message "+oe.message),k=!0,O.__(new fe(ue,x)),b.close()}else de(Zt,`RPC '${e}' stream ${o} received:`,X),O.a_(X)}}),G(m,gT.STAT_EVENT,z=>{z.stat===Bm.PROXY?de(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Bm.NOPROXY&&de(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){return new WC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class mb{constructor(e,t,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new db(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(de(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K2 extends mb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=e2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Ti(h.readTime):Re.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Zm(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Qm(p)?{documents:i2(u,p)}:{query:r2(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=nb(u,h.resumeToken);const g=Ym(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Th(u,h.snapshotVersion.toTimestamp());const g=Ym(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=a2(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Zm(this.serializer),t.removeTarget=e,this.k_(t)}}class Y2 extends mb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=n2(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Zm(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>t2(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class W2 extends X2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Xm(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Xm(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(J.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Z2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ar(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class J2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{ra(this)&&(de(Ys,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.Ia.add(4),await gu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Zh(g)}(this))})}),this.Aa=new Z2(s,o)}}async function Zh(i){if(ra(i))for(const e of i.da)await e(!0)}async function gu(i){for(const e of i.da)await e(!1)}function pb(i,e){const t=Ie(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),qp(t)?Bp(t):Ao(t).x_()&&zp(t,e))}function Up(i,e){const t=Ie(i),s=Ao(t);t.Ta.delete(e),s.x_()&&gb(t,e),t.Ta.size===0&&(s.x_()?s.B_():ra(t)&&t.Aa.set("Unknown"))}function zp(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ao(i).H_(e)}function gb(i,e){i.Ra.$e(e),Ao(i).Y_(e)}function Bp(i){i.Ra=new $C({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.Aa.aa()}function qp(i){return ra(i)&&!Ao(i).M_()&&i.Ta.size>0}function ra(i){return Ie(i).Ia.size===0}function yb(i){i.Ra=void 0}async function ex(i){i.Aa.set("Online")}async function tx(i){i.Ta.forEach((e,t)=>{zp(i,e)})}async function nx(i,e){yb(i),qp(i)?(i.Aa.la(e),Bp(i)):i.Aa.set("Unknown")}async function ix(i,e,t){if(i.Aa.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){de(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(i,s)}else if(e instanceof ah?i.Ra.Ye(e):e instanceof eb?i.Ra.it(e):i.Ra.et(e),!t.isEqual(Re.min()))try{const s=await fb(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),gb(u,p);const b=new qr(v.target,p,g,v.sequenceNumber);zp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){de(Ys,"Failed to raise snapshot:",s),await Sh(i,s)}}async function Sh(i,e,t){if(!So(e))throw e;i.Ia.add(1),await gu(i),i.Aa.set("Offline"),t||(t=()=>fb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(Ys,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await Zh(i)})}function _b(i,e){return e().catch(t=>Sh(i,t,e))}async function Jh(i){const e=Ie(i),t=es(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Rp;for(;rx(e);)try{const o=await U2(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,sx(e,o)}catch(o){await Sh(e,o)}vb(e)&&Eb(e)}function rx(i){return ra(i)&&i.Pa.length<10}function sx(i,e){i.Pa.push(e);const t=es(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function vb(i){return ra(i)&&!es(i).M_()&&i.Pa.length>0}function Eb(i){es(i).start()}async function ax(i){es(i).na()}async function ox(i){const e=es(i);for(const t of i.Pa)e.X_(t.mutations)}async function lx(i,e,t){const s=i.Pa.shift(),o=Np.from(s,e,t);await _b(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jh(i)}async function ux(i,e){e&&es(i).Z_&&await async function(s,o){if(function(h){return GC(h)&&h!==J.ABORTED}(o.code)){const u=s.Pa.shift();es(s).N_(),await _b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(s)}}(i,e),vb(i)&&Eb(i)}async function Q0(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),de(Ys,"RemoteStore received new credentials");const s=ra(t);t.Ia.add(3),await gu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Zh(t)}async function cx(i,e){const t=Ie(i);e?(t.Ia.delete(2),await Zh(t)):e||(t.Ia.add(2),await gu(t),t.Aa.set("Unknown"))}function Ao(i){return i.Va||(i.Va=function(t,s,o){const u=Ie(t);return u.ia(),new K2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:ex.bind(null,i),e_:tx.bind(null,i),n_:nx.bind(null,i),J_:ix.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),qp(i)?Bp(i):i.Aa.set("Unknown")):(await i.Va.stop(),yb(i))})),i.Va}function es(i){return i.ma||(i.ma=function(t,s,o){const u=Ie(t);return u.ia(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:ax.bind(null,i),n_:ux.bind(null,i),ea:ox.bind(null,i),ta:lx.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await Jh(i)):(await i.ma.stop(),i.Pa.length>0&&(de(Ys,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new Fp(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(i,e){if(ar("AsyncQueue",`${e}: ${i}`),So(i))return new fe(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.fa=new ct(ve.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):we(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class fo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new fo(e,t,ro.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fx{constructor(){this.queries=K0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=K0(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function K0(){return new na(i=>zT(i),Qh)}async function Gp(i,e){const t=Ie(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new hx,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Hp(h,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&$p(t)}async function Qp(i,e){const t=Ie(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function dx(i,e){const t=Ie(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&$p(t)}function mx(i,e,t){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function $p(i){i.Da.forEach(e=>{e.next()})}var tp,Y0;(Y0=tp||(tp={})).Fa="default",Y0.Cache="cache";class Kp{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class px{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pe(),this.mutatedKeys=Pe(),this.Xa=BT(e),this.eu=new ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new $0,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const S=o.get(v),k=$h(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),G=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;S&&k?S.data.isEqual(k.data)?O!==G&&(s.track({type:3,doc:k}),z=!0):this.iu(S,k)||(s.track({type:2,doc:k}),z=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),z=!0):S&&!k&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(k?(h=h.add(k),u=G?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,b)=>function(k,O){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:z})}};return G(k)-G(O)}(v.type,b.type)||this.Xa(v.doc,b.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new fo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Pe(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new bb(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new Tb(s))}),t}uu(e){this.Ha=e.qs,this.Za=Pe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Yp="SyncEngine";class gx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yx{constructor(e){this.key=e,this.lu=!1}}class _x{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new na(m=>zT(m),Qh),this.Tu=new Map,this.Iu=new Set,this.du=new ct(ve.comparator),this.Eu=new Map,this.Au=new Mp,this.Ru={},this.Vu=new Map,this.mu=ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function vx(i,e,t=!0){const s=Cb(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Sb(s,e,t,!0),o}async function Ex(i,e){const t=Cb(i);await Sb(t,e,!0,!1)}async function Sb(i,e,t,s){const o=await z2(i.localStore,Ei(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Tx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&pb(i.remoteStore,o),m}async function Tx(i,e,t,s,o){i.gu=(b,S,k)=>async function(G,z,Q,X){let ee=z.view.nu(Q);ee.Ds&&(ee=await B0(G.localStore,z.query,!1).then(({documents:x})=>z.view.nu(x,ee)));const oe=X&&X.targetChanges.get(z.targetId),ce=X&&X.targetMismatches.get(z.targetId)!=null,ue=z.view.applyChanges(ee,G.isPrimaryClient,oe,ce);return W0(G,z.targetId,ue._u),ue.snapshot}(i,b,S,k);const u=await B0(i.localStore,e,!0),h=new px(e,u.qs),m=h.nu(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);W0(i,t,g._u);const v=new gx(e,t,h);return i.Pu.set(e,v),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),g.snapshot}async function bx(i,e,t){const s=Ie(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!Qh(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Up(s.remoteStore,o.targetId),np(s,o.targetId)}).catch(bo)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function Sx(i,e){const t=Ie(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Up(t.remoteStore,s.targetId))}async function wx(i,e,t){const s=Ox(i);try{const o=await function(h,m){const p=Ie(h),g=rt.now(),v=m.reduce((k,O)=>k.add(O.key),Pe());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=or(),G=Pe();return p.Os.getEntries(k,v).next(z=>{O=z,O.forEach((Q,X)=>{X.isValidDocument()||(G=G.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(z=>{b=z;const Q=[];for(const X of m){const ee=zC(X,b.get(X.key).overlayedDocument);ee!=null&&Q.push(new ia(X.key,ee,NT(ee.value.mapValue),ir.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Q,m)}).next(z=>{S=z;const Q=z.applyToLocalDocumentSet(b,G);return p.documentOverlayCache.saveOverlays(k,z.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:FT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await yu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");t.reject(u)}}async function wb(i,e){const t=Ie(i);try{const s=await P2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ge(h.lu,14607):o.removedDocuments.size>0&&(Ge(h.lu,42227),h.lu=!1))}),await yu(t,s,e)}catch(s){await bo(s)}}function X0(i,e,t){const s=Ie(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ie(h);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const S of b.wa)S.va(m)&&(g=!0)}),g&&$p(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ax(i,e,t){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ct(ve.comparator);h=h.insert(u,en.newNoDocument(u,Re.min()));const m=Pe().add(u),p=new Xh(Re.min(),new Map,new ct(Ne),h,m);await wb(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Xp(s)}else await Jm(s.localStore,e,!1).then(()=>np(s,e,t)).catch(bo)}async function Rx(i,e){const t=Ie(i),s=e.batch.batchId;try{const o=await V2(t.localStore,e);Rb(t,s,null),Ab(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await yu(t,o)}catch(o){await bo(o)}}async function Ix(i,e,t){const s=Ie(i);try{const o=await function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ge(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Rb(s,e,t),Ab(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await yu(s,o)}catch(o){await bo(o)}}function Ab(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function Rb(i,e,t){const s=Ie(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function np(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||Ib(i,s)})}function Ib(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Up(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Xp(i))}function W0(i,e,t){for(const s of t)s instanceof Tb?(i.Au.addReference(s.key,e),Cx(i,s)):s instanceof bb?(de(Yp,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||Ib(i,s.key)):we(19791,{yu:s})}function Cx(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(de(Yp,"New document in limbo: "+t),i.Iu.add(s),Xp(i))}function Xp(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new ve(tt.fromString(e)),s=i.mu.next();i.Eu.set(s,new yx(t)),i.du=i.du.insert(t,s),pb(i.remoteStore,new qr(Ei(Gh(t.path)),s,"TargetPurposeLimboResolution",qh.ue))}}async function yu(i,e,t){const s=Ie(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Pp.Es(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,S=>ne.forEach(S.Is,k=>v.persistence.referenceDelegate.addReference(b,S.targetId,k)).next(()=>ne.forEach(S.ds,k=>v.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))}catch(b){if(!So(b))throw b;de(Lp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const k=v.Fs.get(S),O=k.snapshotVersion,G=k.withLastLimboFreeSnapshotVersion(O);v.Fs=v.Fs.insert(S,G)}}}(s.localStore,u))}async function xx(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){de(Yp,"User change. New user:",e.toKey());const s=await hb(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new fe(J.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(t,s.Bs)}}function Dx(i,e){const t=Ie(i),s=t.Eu.get(e);if(s&&s.lu)return Pe().add(s.key);{let o=Pe();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function Cb(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,e),e.hu.J_=dx.bind(null,e.eventManager),e.hu.pu=mx.bind(null,e.eventManager),e}function Ox(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ix.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return M2(this.persistence,new N2,e.initialUser,this.serializer)}Du(e){return new cb(Vp.Vi,this.serializer)}bu(e){return new q2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class Nx extends wh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ge(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new y2(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new cb(s=>bh.Vi(s,t),this.serializer)}}class ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xx.bind(null,this.syncEngine),await cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fx}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),s=function(u){return new $2(u)}(e.databaseInfo);return function(u,h,m,p){return new W2(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new J2(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>X0(this.syncEngine,t,0),function(){return H0.C()?new H0:new F2}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,v){const b=new _x(o,u,h,m,p,g);return v&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ie(o);de(Ys,"RemoteStore shutting down."),u.Ia.add(5),await gu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class jx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Hp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rm(i,e){i.asyncQueue.verifyOperationInProgress(),de(ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Yr("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Yr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function Z0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await kx(i);de(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>Q0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Q0(e.remoteStore,o)),i._onlineComponents=e}async function kx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(ts,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Yr("Error using user provided cache. Falling back to memory cache: "+t),await Rm(i,new wh)}}else de(ts,"Using default OfflineComponentProvider"),await Rm(i,new Nx(void 0));return i._offlineComponents}async function xb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(ts,"Using user provided OnlineComponentProvider"),await Z0(i,i._uninitializedComponentsProvider._online)):(de(ts,"Using default OnlineComponentProvider"),await Z0(i,new ip))),i._onlineComponents}function Mx(i){return xb(i).then(e=>e.syncEngine)}async function Ah(i){const e=await xb(i),t=e.eventManager;return t.onListen=vx.bind(null,e.syncEngine),t.onUnlisten=bx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ex.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Sx.bind(null,e.syncEngine),t}function Vx(i,e,t={}){const s=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Wp({next:S=>{v.Ou(),h.enqueueAndForget(()=>Qp(u,b));const k=S.docs.has(m);!k&&S.fromCache?g.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Kp(Gh(m.path),v,{includeMetadataChanges:!0,ka:!0});return Gp(u,b)}(await Ah(i),i.asyncQueue,e,t,s)),s.promise}function Px(i,e,t={}){const s=new nr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Wp({next:S=>{v.Ou(),h.enqueueAndForget(()=>Qp(u,b)),S.fromCache&&p.source==="server"?g.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Kp(m,v,{includeMetadataChanges:!0,ka:!0});return Gp(u,b)}(await Ah(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",eE=!0;class tE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=eE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p2)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _u{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=J0.get(t);s&&(de("ComponentProvider","Removing Datastore"),J0.delete(t),s.terminate())}(this),Promise.resolve()}}function Lx(i,e,t,s={}){var o;i=Yn(i,_u);const u=vo(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(sT(`https://${p}`),aT("Firestore",!0)),h.host!==Ob&&h.host!==p&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Kr(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=Jt.MOCK_USER;else{v=gR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jt(S)}i._authCredentials=new QI(new ET(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(du(t,vt._jsonSchema))return new vt(e,s||null,new ve(tt.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Rt("string",vt._jsonSchemaVersion),referencePath:Rt("string")};class Qr extends ns{constructor(e,t,s){super(e,t,Gh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Ux(i,e,...t){if(i=zt(i),Ap("collection","path",e),i instanceof _u){const s=tt.fromString(e,...t);return m0(s),new Qr(i,null,s)}{if(!(i instanceof vt||i instanceof Qr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return m0(s),new Qr(i.firestore,null,s)}}function zx(i,e){if(i=Yn(i,_u),Ap("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(i,null,function(s){return new wo(tt.emptyPath(),s)}(e))}function Rh(i,e,...t){if(i=zt(i),arguments.length===1&&(e=wp.newId()),Ap("doc","path",e),i instanceof _u){const s=tt.fromString(e,...t);return d0(s),new vt(i,null,new ve(s))}{if(!(i instanceof vt||i instanceof Qr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return d0(s),new vt(i.firestore,i instanceof Qr?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new db(this,"async_queue_retry"),this.oc=()=>{const s=Am();s&&de(nE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Am();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Am();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!So(e))throw e;de(nE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ar("INTERNAL UNHANDLED ERROR: ",rE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Fp.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&we(47125,{hc:rE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function rE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class mo extends _u{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new iE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function Nb(i,e){const t=typeof i=="object"?i:bp(),s=typeof i=="string"?i:ph,o=ea(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mR("firestore");u&&Lx(o,...u)}return o}function ef(i){if(i._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Bx(i),i._firestoreClient}function Bx(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new hC(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Db(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new jx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(t){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Rt("string",Ln._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(du(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Rt("string",bi._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Si(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Rt("string",Si._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=/^__.*__$/;class Fx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new mu(e,this.data,t,this.fieldTransforms)}}function kb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:i})}}class Jp{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ih(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kb(this.Ec)&&qx.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Wh(e)}Dc(e,t,s,o=!1){return new Jp({Ec:e,methodName:t,bc:s,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(i){const e=i._freezeSettings(),t=Wh(i._databaseId);return new Hx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Gx(i,e,t,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);Lb("Data must be an object, but it was:",h,s);const m=Vb(s,h);let p,g;if(u.merge)p=new $n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=$x(e,b,t);if(!h.contains(S))throw new fe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Yx(v,S)||v.push(S)}p=new $n(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new Fx(new Pn(m),p,g)}function Qx(i,e,t,s=!1){return eg(t,i.Dc(s?4:3,e))}function eg(i,e){if(Pb(i=zt(i)))return Lb("Unsupported field value:",e,i),Vb(i,e);if(i instanceof jb)return function(s,o){if(!kb(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=eg(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:nb(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Si)return function(h,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[gh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Op(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Bh(s)}`)}(i,e)}function Vb(i,e){const t={};return wT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,(s,o)=>{const u=eg(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Pb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof bi||i instanceof Ln||i instanceof vt||i instanceof jb||i instanceof Si)}function Lb(i,e,t){if(!Pb(t)||!bT(t)){const s=Bh(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function $x(i,e,t){if((e=zt(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return Ub(i,e);throw Ih("Field path arguments must be of type string or ",i,!1,void 0,t)}const Kx=new RegExp("[~\\*/\\[\\]]");function Ub(i,e,t){if(e.search(Kx)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Zp(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ih(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(J.INVALID_ARGUMENT,m+i+p)}function Yx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Xx extends zb{data(){return super.data()}}function tg(i,e){return typeof e=="string"?Ub(i,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class Wx extends ng{}function Zx(i,e,...t){let s=[];e instanceof ng&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof ig).length,m=u.filter(p=>p instanceof tf).length;if(h>1||h>0&&m>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class tf extends Wx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new tf(e,t,s)}_apply(e){const t=this._parse(e);return qb(e._query,t),new ns(e.firestore,e.converter,$m(e._query,t))}_parse(e){const t=Mb(e.firestore);return function(u,h,m,p,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){oE(b,v);const O=[];for(const G of b)O.push(aE(p,u,G));S={arrayValue:{values:O}}}else S=aE(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||oE(b,v),S=Qx(m,h,b,v==="in"||v==="not-in");return At.create(g,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jx(i,e,t){const s=e,o=tg("where",i);return tf._create(o,s,t)}class ig extends ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)qb(h,p),h=$m(h,p)}(e._query,t),new ns(e.firestore,e.converter,$m(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aE(i,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&t.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ve.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(i,new ve(s))}if(t instanceof vt)return b0(i,t._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function oE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eD{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ta(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[gh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Si(u)}convertGeoPoint(e){return new bi(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ge(lb(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends zb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Rt("string",Qs._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class oh extends Qs{data(e={}){return super.data(e)}}class $s{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new oh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:nD(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(i){i=Yn(i,vt);const e=Yn(i.firestore,mo);return Vx(ef(e),i._key).then(t=>Hb(e,i,t))}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Rt("string",$s._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class rg extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function Fb(i){i=Yn(i,ns);const e=Yn(i.firestore,mo),t=ef(e),s=new rg(e);return Bb(i._query),Px(t,i._query).then(o=>new $s(e,s,i,o))}function rD(i,e,t){i=Yn(i,vt);const s=Yn(i.firestore,mo),o=tD(i.converter,e,t);return sD(s,[Gx(Mb(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,ir.none())])}function lE(i,...e){var t,s,o;i=zt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||sE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sE(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,v;if(i instanceof vt)g=Yn(i.firestore,mo),v=Gh(i._key.path),p={next:b=>{e[h]&&e[h](Hb(g,i,b))},error:e[h+1],complete:e[h+2]};else{const b=Yn(i,ns);g=Yn(b.firestore,mo),v=b._query;const S=new rg(g);p={next:k=>{e[h]&&e[h](new $s(g,S,b,k))},error:e[h+1],complete:e[h+2]},Bb(i._query)}return function(S,k,O,G){const z=new Wp(G),Q=new Kp(k,z,O);return S.asyncQueue.enqueueAndForget(async()=>Gp(await Ah(S),Q)),()=>{z.Ou(),S.asyncQueue.enqueueAndForget(async()=>Qp(await Ah(S),Q))}}(ef(g),v,m,p)}function sD(i,e){return function(s,o){const u=new nr;return s.asyncQueue.enqueueAndForget(async()=>wx(await Mx(s),o,u)),u.promise}(ef(i),e)}function Hb(i,e,t){const s=t.docs.get(e._key),o=new rg(i);return new Qs(i,o,e._key,s,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){To=o})(Eo),Ai(new Zn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new mo(new $I(s.getProvider("auth-internal")),new XI(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Un(l0,u0,e),Un(l0,u0,"esm2017")})();const Gb="@firebase/installations",sg="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1e4,$b=`w:${sg}`,Kb="FIS_v2",aD="https://firebaseinstallations.googleapis.com/v1",oD=60*60*1e3,lD="installations",uD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new Js(lD,uD,cD);function Yb(i){return i instanceof ti&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb({projectId:i}){return`${aD}/projects/${i}/installations`}function Wb(i){return{token:i.token,requestStatus:2,expiresIn:fD(i.expiresIn),creationTime:Date.now()}}async function Zb(i,e){const s=(await e.json()).error;return Xs.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Jb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function hD(i,{refreshToken:e}){const t=Jb(i);return t.append("Authorization",dD(e)),t}async function eS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function fD(i){return Number(i.replace("s","000"))}function dD(i){return`${Kb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=Xb(i),o=Jb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:Kb,appId:i.appId,sdkVersion:$b},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await eS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Wb(g.authToken)}}else throw await Zb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^[cdef][\w-]{21}$/,rp="";function yD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=_D(i);return gD.test(t)?t:rp}catch{return rp}}function _D(i){return pD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function iS(i,e){const t=nf(i);rS(t,e),vD(t,e)}function rS(i,e){const t=nS.get(i);if(t)for(const s of t)s(e)}function vD(i,e){const t=ED();t&&t.postMessage({key:i,fid:e}),TD()}let Hs=null;function ED(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=i=>{rS(i.data.key,i.data.fid)}),Hs}function TD(){nS.size===0&&Hs&&(Hs.close(),Hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebase-installations-database",SD=1,Ws="firebase-installations-store";let Im=null;function ag(){return Im||(Im=cT(bD,SD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ws)}}})),Im}async function Ch(i,e){const t=nf(i),o=(await ag()).transaction(Ws,"readwrite"),u=o.objectStore(Ws),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&iS(i,e.fid),e}async function sS(i){const e=nf(i),s=(await ag()).transaction(Ws,"readwrite");await s.objectStore(Ws).delete(e),await s.done}async function rf(i,e){const t=nf(i),o=(await ag()).transaction(Ws,"readwrite"),u=o.objectStore(Ws),h=await u.get(t),m=e(h);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!h||h.fid!==m.fid)&&iS(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(i){let e;const t=await rf(i.appConfig,s=>{const o=wD(s),u=AD(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===rp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function wD(i){const e=i||{fid:yD(),registrationStatus:0};return aS(e)}function AD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RD(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ID(i)}:{installationEntry:e}}async function RD(i,e){try{const t=await mD(i,e);return Ch(i.appConfig,t)}catch(t){throw Yb(t)&&t.customData.serverCode===409?await sS(i.appConfig):await Ch(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ID(i){let e=await uE(i.appConfig);for(;e.registrationStatus===1;)await tS(100),e=await uE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await og(i);return s||t}return e}function uE(i){return rf(i,e=>{if(!e)throw Xs.create("installation-not-found");return aS(e)})}function aS(i){return CD(i)?{fid:i.fid,registrationStatus:0}:i}function CD(i){return i.registrationStatus===1&&i.registrationTime+Qb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD({appConfig:i,heartbeatServiceProvider:e},t){const s=DD(i,t),o=hD(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:$b,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await eS(()=>fetch(s,m));if(p.ok){const g=await p.json();return Wb(g)}else throw await Zb("Generate Auth Token",p)}function DD(i,{fid:e}){return`${Xb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(i,e=!1){let t;const s=await rf(i.appConfig,u=>{if(!oS(u))throw Xs.create("not-registered");const h=u.authToken;if(!e&&jD(h))return u;if(h.requestStatus===1)return t=OD(i,e),u;{if(!navigator.onLine)throw Xs.create("app-offline");const m=MD(u);return t=ND(i,m),m}});return t?await t:s.authToken}async function OD(i,e){let t=await cE(i.appConfig);for(;t.authToken.requestStatus===1;)await tS(100),t=await cE(i.appConfig);const s=t.authToken;return s.requestStatus===0?lg(i,e):s}function cE(i){return rf(i,e=>{if(!oS(e))throw Xs.create("not-registered");const t=e.authToken;return VD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ND(i,e){try{const t=await xD(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Ch(i.appConfig,s),t}catch(t){if(Yb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sS(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ch(i.appConfig,s)}throw t}}function oS(i){return i!==void 0&&i.registrationStatus===2}function jD(i){return i.requestStatus===2&&!kD(i)}function kD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+oD}function MD(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function VD(i){return i.requestStatus===1&&i.requestTime+Qb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(i){const e=i,{installationEntry:t,registrationPromise:s}=await og(e);return s?s.catch(console.error):lg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(i,e=!1){const t=i;return await UD(t),(await lg(t,e)).token}async function UD(i){const{registrationPromise:e}=await og(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i){if(!i||!i.options)throw Cm("App Configuration");if(!i.name)throw Cm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Cm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Cm(i){return Xs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="installations",BD="installations-internal",qD=i=>{const e=i.getProvider("app").getImmediate(),t=zD(e),s=ea(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},FD=i=>{const e=i.getProvider("app").getImmediate(),t=ea(e,lS).getImmediate();return{getId:()=>PD(t),getToken:o=>LD(t,o)}};function HD(){Ai(new Zn(lS,qD,"PUBLIC")),Ai(new Zn(BD,FD,"PRIVATE"))}HD();Un(Gb,sg);Un(Gb,sg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="analytics",GD="firebase_id",QD="origin",$D=60*1e3,KD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Js("analytics","Analytics",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(i){if(!i.startsWith(ug)){const e=bn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function uS(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function WD(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function ZD(i,e){const t=WD("firebase-js-sdk-policy",{createScriptURL:XD}),s=document.createElement("script"),o=`${ug}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function JD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function eO(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await uS(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){fn.error(m)}i("config",o,u)}async function tO(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await uS(t);for(const p of h){const g=m.find(b=>b.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){fn.error(u)}}function nO(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await tO(i,e,t,m,p)}else if(u==="config"){const[m,p]=h;await eO(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){fn.error(m)}}return o}function iO(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=nO(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function rO(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ug)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=30,aO=1e3;class oO{constructor(e={},t=aO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cS=new oO;function lO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function uO(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:lO(s)},u=KD.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function cO(i,e=cS,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw bn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new dO;return setTimeout(async()=>{m.abort()},$D),hS({appId:s,apiKey:o,measurementId:u},h,m,e)}async function hS(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=cS){var u;const{appId:h,measurementId:m}=i;try{await hO(s,e)}catch(p){if(m)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw p}try{const p=await uO(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!fO(g)){if(o.deleteThrottleMetadata(h),m)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Wv(t,o.intervalMillis,sO):Wv(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(h,b),fn.debug(`Calling attemptFetch again in ${v} millis`),hS(i,b,s,o)}}function hO(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fO(i){if(!(i instanceof ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class dO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mO(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(){if(_p())try{await vp()}catch(i){return fn.warn(bn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return fn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gO(i,e,t,s,o,u,h){var m;const p=cO(i);p.then(k=>{t[k.measurementId]=k.appId,i.options.measurementId&&k.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>fn.error(k)),e.push(p);const g=pO().then(k=>{if(k)return s.getId()}),[v,b]=await Promise.all([p,g]);rO(u)||ZD(u,v.measurementId),o("js",new Date);const S=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return S[QD]="firebase",S.update=!0,b!=null&&(S[GD]=b),o("config",v.measurementId,S),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.app=e}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},hE=[];const fE={};let xm="dataLayer",_O="gtag",dE,fS,mE=!1;function vO(){const i=[];if(yp()&&i.push("This is a browser extension environment."),oT()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}function EO(i,e,t){vO();const s=i.options.appId;if(!s)throw bn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Wl[s]!=null)throw bn.create("already-exists",{id:s});if(!mE){JD(xm);const{wrappedGtag:u,gtagCore:h}=iO(Wl,hE,fE,xm,_O);fS=u,dE=h,mE=!0}return Wl[s]=gO(i,hE,fE,e,dE,xm,t),new yO(i)}function TO(i=bp()){i=zt(i);const e=ea(i,xh);return e.isInitialized()?e.getImmediate():bO(i)}function bO(i,e={}){const t=ea(i,xh);if(t.isInitialized()){const o=t.getImmediate();if(Kr(e,t.getOptions()))return o;throw bn.create("already-initialized")}return t.initialize({options:e})}async function SO(){if(yp()||!oT()||!_p())return!1;try{return await vp()}catch{return!1}}function dS(i,e,t,s){i=zt(i),mO(fS,Wl[i.app.options.appId],e,t,s).catch(o=>fn.error(o))}const pE="@firebase/analytics",gE="0.10.17";function wO(){Ai(new Zn(xh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EO(s,o,t)},"PUBLIC")),Ai(new Zn("analytics-internal",i,"PRIVATE")),Un(pE,gE),Un(pE,gE,"esm2017");function i(e){try{const t=e.getProvider(xh).getImmediate();return{logEvent:(s,o,u)=>dS(t,s,o,u)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}}}wO();function cg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AO=mS,pS=new Js("auth","Firebase",mS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new zh("@firebase/auth");function RO(i,...e){Dh.logLevel<=Ve.WARN&&Dh.warn(`Auth (${Eo}): ${i}`,...e)}function lh(i,...e){Dh.logLevel<=Ve.ERROR&&Dh.error(`Auth (${Eo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(i,...e){throw fg(i,...e)}function Xn(i,...e){return fg(i,...e)}function hg(i,e,t){const s=Object.assign(Object.assign({},AO()),{[e]:t});return new Js("auth","Firebase",s).create(e,{appName:i.name})}function $r(i){return hg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IO(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&zn(i,"argument-error"),hg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return pS.create(i,...e)}function Se(i,e,...t){if(!i)throw fg(e,...t)}function Ji(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lh(e),new Error(e)}function lr(i,e){i||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function CO(){return yE()==="http:"||yE()==="https:"}function yE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CO()||yp()||"connection"in navigator)?navigator.onLine:!0}function DO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=vR()||bR()}get(){return xO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){lr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jO=new vu(3e4,6e4);function sa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function is(i,e,t,s,o={}){return yS(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=fu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return TR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&vo(i.emulatorConfig.host)&&(g.credentials="include"),gS.fetch()(await _S(i,i.config.apiHost,t,m),g)})}async function yS(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},OO),e);try{const o=new MO(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Jc(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hg(i,v,g);zn(i,v)}}catch(o){if(o instanceof ti)throw o;zn(i,"network-request-failed",{message:String(o)})}}async function sf(i,e,t,s,o={}){const u=await is(i,e,t,s,o);return"mfaPendingCredential"in u&&zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function _S(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?dg(i.config,o):`${i.config.apiScheme}://${o}`;return NO.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function kO(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),jO.get())})}}function Jc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Xn(i,e,s);return o.customData._tokenResponse=t,o}function _E(i){return i!==void 0&&i.enterprise!==void 0}class VO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PO(i,e){return is(i,"GET","/v2/recaptchaConfig",sa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(i,e){return is(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return is(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UO(i,e=!1){const t=zt(i),s=await t.getIdToken(e),o=mg(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(Dm(o.auth_time)),issuedAtTime:Zl(Dm(o.iat)),expirationTime:Zl(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(i){return Number(i)*1e3}function mg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(t);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vE(i){const e=mg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ti&&zO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await lu(i,Oh(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?vS(u.providerUserInfo):[],m=FO(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ap(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function qO(i){const e=zt(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vS(i){return i.map(e=>{var{providerId:t}=e,s=cg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(i,e){const t=await yS(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await _S(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&vo(i.emulatorConfig.host)&&(p.credentials="include"),gS.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GO(i,e){return is(i,"POST","/v2/accounts:revokeToken",sa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=vE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await HO(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new so;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UO(this,e)}reload(){return qO(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await lu(this,LO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,k=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,G=(m=t.tenantId)!==null&&m!==void 0?m:void 0,z=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ee,emailVerified:oe,isAnonymous:ce,providerData:ue,stsTokenManager:x}=t;Se(ee&&x,e,"internal-error");const R=so.fromJSON(this.name,x);Se(typeof ee=="string",e,"internal-error"),Lr(b,e.name),Lr(S,e.name),Se(typeof oe=="boolean",e,"internal-error"),Se(typeof ce=="boolean",e,"internal-error"),Lr(k,e.name),Lr(O,e.name),Lr(G,e.name),Lr(z,e.name),Lr(Q,e.name),Lr(X,e.name);const I=new Kn({uid:ee,auth:e,email:S,emailVerified:oe,displayName:b,isAnonymous:ce,photoURL:O,phoneNumber:k,tenantId:G,stsTokenManager:R,createdAt:Q,lastLoginAt:X});return ue&&Array.isArray(ue)&&(I.providerData=ue.map(j=>Object.assign({},j))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new so;o.updateFromServerResponse(t);const u=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function er(i){lr(i instanceof Function,"Expected a class definition");let e=EE.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,EE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ES.type="NONE";const TE=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i,e,t){return`firebase:${i}:${e}:${t}`}class ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Oh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ao(er(TE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||er(TE);const h=uh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const S=await Oh(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Kn._fromGetAccountInfoResponse(e,S,v)}else b=Kn._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RS(e))return"Blackberry";if(IS(e))return"Webos";if(bS(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TS(i=tn()){return/firefox\//i.test(i)}function bS(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(i=tn()){return/crios\//i.test(i)}function wS(i=tn()){return/iemobile/i.test(i)}function AS(i=tn()){return/android/i.test(i)}function RS(i=tn()){return/blackberry/i.test(i)}function IS(i=tn()){return/webos/i.test(i)}function pg(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function QO(i=tn()){var e;return pg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $O(){return SR()&&document.documentMode===10}function CS(i=tn()){return pg(i)||AS(i)||IS(i)||RS(i)||/windows phone/i.test(i)||wS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(i,e=[]){let t;switch(i){case"Browser":t=bE(tn());break;case"Worker":t=`${bE(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(i,e={}){return is(i,"GET","/v2/passwordPolicy",sa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=6;class WO{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:XO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new KO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Oh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject($r(this));const t=e?zt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YO(this),t=new WO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await GO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&er(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function aa(i){return zt(i)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JO(i){af=i}function DS(i){return af.loadJS(i)}function eN(){return af.recaptchaEnterpriseScript}function tN(){return af.gapiScript}function nN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class iN{constructor(){this.enterprise=new rN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sN="recaptcha-enterprise",OS="NO_RECAPTCHA";class aN{constructor(e){this.type=sN,this.auth=aa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{PO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new VO(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(OS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&_E(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eN();p.length!==0&&(p+=m),DS(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function wE(i,e,t,s=!1,o=!1){const u=new aN(i);let h;if(o)h=OS;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function AE(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await wE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await wE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i,e){const t=ea(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Kr(u,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function lN(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function uN(i,e,t){const s=aa(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NS(e),{host:h,port:m}=cN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Kr(g,s.config.emulator)&&Kr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,vo(h)?(sT(`${u}//${h}${p}`),aT("Auth",!0)):hN()}function NS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function cN(i){const e=NS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:RE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:RE(h)}}}function RE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,t){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function fN(i,e){return is(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(i,e){return sf(i,"POST","/v1/accounts:signInWithPassword",sa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(i,e){return sf(i,"POST","/v1/accounts:signInWithEmailLink",sa(i,e))}async function pN(i,e){return sf(i,"POST","/v1/accounts:signInWithEmailLink",sa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends gg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new uu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AE(e,t,"signInWithPassword",dN);case"emailLink":return mN(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AE(e,s,"signUpPassword",fN);case"emailLink":return pN(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,e){return sf(i,"POST","/v1/accounts:signInWithIdp",sa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class Zs extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=cg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Zs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}buildRequest(){const e={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _N(i){const e=zl(Bl(i)).link,t=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||t||e||i}class yg{constructor(e){var t,s,o,u,h,m;const p=zl(Bl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=yN((o=p.mode)!==null&&o!==void 0?o:null);Se(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=_N(e);try{return new yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=yg.parseLink(t);return Se(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends _g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Eu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vi.credential(t,s)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Eu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Eu{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Br.credential(t,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),h=IE(s);return new po({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=IE(s);return new po({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function IE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends ti{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new jh(e,t,s,o)}}function jS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,s):u})}async function vN(i,e,t=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return po._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(i,e,t=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject($r(s));const o="reauthenticate";try{const u=await lu(i,jS(s,o,e,i),t);Se(u.idToken,s,"internal-error");const h=mg(u.idToken);Se(h,s,"internal-error");const{sub:m}=h;return Se(i.uid===m,s,"user-mismatch"),po._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(i,e,t=!1){if(Vn(i.app))return Promise.reject($r(i));const s="signIn",o=await jS(i,s,e),u=await po._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function TN(i,e){return kS(aa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(i){const e=aa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SN(i,e,t){return Vn(i.app)?Promise.reject($r(i)):TN(zt(i),Ro.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bN(i),s})}function wN(i,e,t,s){return zt(i).onIdTokenChanged(e,t,s)}function AN(i,e,t){return zt(i).beforeAuthStateChanged(e,t)}function vg(i,e,t,s){return zt(i).onAuthStateChanged(e,t,s)}function RN(i){return zt(i).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1e3,CN=10;class VS extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);$O()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VS.type="LOCAL";const xN=VS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PS.type="SESSION";const LS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await DN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Eg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function NN(i){wi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function jN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function MN(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebaseLocalStorageDb",VN=1,Mh="firebaseLocalStorage",BS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lf(i,e){return i.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function PN(){const i=indexedDB.deleteDatabase(zS);return new Tu(i).toPromise()}function op(){const i=indexedDB.open(zS,VN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mh,{keyPath:BS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await PN(),e(await op()))})})}async function CE(i,e,t){const s=lf(i,!0).put({[BS]:e,value:t});return new Tu(s).toPromise()}async function LN(i,e){const t=lf(i,!1).get(e),s=await new Tu(t).toPromise();return s===void 0?null:s.value}function xE(i,e){const t=lf(i,!0).delete(e);return new Tu(t).toPromise()}const UN=800,zN=3;class qS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>zN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(MN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jN(),!this.activeServiceWorker)return;this.sender=new ON(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await CE(e,kh,"1"),await xE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>CE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>LN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qS.type="LOCAL";const BN=qS;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(i,e){return e?er(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qN(i){return kS(i.auth,new Tg(i),i.bypassAuthState)}function FN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),EN(t,new Tg(i),i.bypassAuthState)}async function HN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),vN(t,new Tg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qN;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return FN;default:zn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new vu(2e3,1e4);async function GS(i,e,t){if(Vn(i.app))return Promise.reject(Xn(i,"operation-not-supported-in-this-environment"));const s=aa(i);IO(i,e,_g);const o=FS(s,t);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends HS{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GN.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="pendingRedirect",ch=new Map;class $N extends HS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await KN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KN(i,e){const t=WN(e),s=XN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YN(i,e){ch.set(i._key(),e)}function XN(i){return er(i._redirectPersistence)}function WN(i){return uh(QN,i.config.apiKey,i.name)}async function ZN(i,e,t=!1){if(Vn(i.app))return Promise.reject($r(i));const s=aa(i),o=FS(s,e),h=await new $N(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=10*60*1e3;class ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JN&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tj(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(i,e={}){return is(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rj=/^https?/;async function sj(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nj(i);for(const t of e)try{if(aj(t))return}catch{}zn(i,"unauthorized-domain")}function aj(i){const e=sp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!rj.test(t))return!1;if(ij.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new vu(3e4,6e4);function OE(){const i=wi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function lj(i){return new Promise((e,t)=>{var s,o,u;function h(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),t(Xn(i,"network-request-failed"))},timeout:oj.get()})}if(!((o=(s=wi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wi().gapi)===null||u===void 0)&&u.load)h();else{const m=nN("iframefcb");return wi()[m]=()=>{gapi.load?h():t(Xn(i,"network-request-failed"))},DS(`${tN()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw hh=null,e})}let hh=null;function uj(i){return hh=hh||lj(i),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new vu(5e3,15e3),hj="__/auth/iframe",fj="emulator/auth/iframe",dj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pj(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?dg(e,fj):`https://${i.config.authDomain}/${hj}`,s={apiKey:e.apiKey,appName:i.name,v:Eo},o=mj.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${fu(s).slice(1)}`}async function gj(i){const e=await uj(i),t=wi().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:pj(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dj,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Xn(i,"network-request-failed"),m=wi().setTimeout(()=>{u(h)},cj.get());function p(){wi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_j=500,vj=600,Ej="_blank",Tj="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bj(i,e,t,s=_j,o=vj){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},yj),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(m=SS(g)?Ej:t),TS(g)&&(e=e||Tj,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[k,O])=>`${S}${k}=${O},`,"");if(QO(g)&&m!=="_self")return Sj(e||"",m),new NE(null);const b=window.open(e||"",m,v);Se(b,i,"popup-blocked");try{b.focus()}catch{}return new NE(b)}function Sj(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="__/auth/handler",Aj="emulator/auth/handler",Rj=encodeURIComponent("fac");async function jE(i,e,t,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Eo,eventId:o};if(e instanceof _g){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",CR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Eu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${Rj}=${encodeURIComponent(p)}`:"";return`${Ij(i)}?${fu(m).slice(1)}${g}`}function Ij({config:i}){return i.emulator?dg(i,Aj):`https://${i.authDomain}/${wj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class Cj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=ZN,this._overrideRedirectResult=YN}async _openPopup(e,t,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jE(e,t,s,sp(),o);return bj(e,h,Eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await jE(e,t,s,sp(),o);return NN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gj(e),s=new ej(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&t(!!h),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CS()||bS()||pg()}}const xj=Cj;var kE="@firebase/auth",ME="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nj(i){Ai(new Zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xS(i)},g=new ZO(s,o,u,p);return lN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ai(new Zn("auth-internal",e=>{const t=aa(e.getProvider("auth").getImmediate());return(s=>new Dj(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(kE,ME,Oj(i)),Un(kE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=5*60,kj=rT("authIdTokenMaxAge")||jj;let VE=null;const Mj=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kj)return;const o=t==null?void 0:t.token;VE!==o&&(VE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Io(i=bp()){const e=ea(i,"auth");if(e.isInitialized())return e.getImmediate();const t=oN(i,{popupRedirectResolver:xj,persistence:[BN,xN,LS]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Mj(u.toString());AN(t,h,()=>h(t.currentUser)),wN(t,m=>h(m))}}const o=nT("auth");return o&&uN(t,`http://${o}`),t}function Vj(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}JO({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Xn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Vj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nj("Browser");const Pj={apiKey:"AIzaSyANzEDUkGjM0M6L6dwZd1-TaOy1olo_6OM",authDomain:"massage-therapy-smart-st-c7f8f.firebaseapp.com",projectId:"massage-therapy-smart-st-c7f8f",storageBucket:"massage-therapy-smart-st-c7f8f.appspot.com",messagingSenderId:"278320425266",appId:"1:278320425266:web:e9c93be0473651351ccf2b",measurementId:"G-SWVWKNWDD3"},bu=Tp(Pj),uf=Nb(bu);Io(bu);let lp=null;typeof window<"u"&&SO().then(i=>{i&&(lp=TO(bu))});const $S=async()=>(await Fb(zx(uf,"questions"))).docs.map(e=>({id:e.id,...e.data()})),KS=async i=>{const e=Zx(Ux(uf,"bookmarks"),Jx("userId","==",i));return(await Fb(e)).docs.map(s=>({id:s.id,...s.data()}))},Lj=({isCorrect:i,isIncorrect:e,isSelected:t})=>i?A.jsx("span",{className:"quiz-option-indicator correct",title:"Correct",style:{marginLeft:8},children:"✔️"}):e?A.jsx("span",{className:"quiz-option-indicator incorrect",title:"Incorrect",style:{marginLeft:8},children:"❌"}):t?A.jsx("span",{className:"quiz-option-indicator selected",title:"Selected",style:{marginLeft:8},children:"•"}):null,Uj=({label:i,option:e,selected:t,disabled:s,onSelect:o,onSubmitOption:u,className:h="",inputRef:m,inputId:p,name:g,children:v,autoFocus:b=!1,isFirst:S=!1,...k})=>{const O=h.split(" "),G=String(i),z=String(e),Q=p;Ut.useEffect(()=>{typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&document.getElementById(Q)&&document.querySelectorAll(`#${CSS.escape(Q)}`).length>1},[Q]);const X=Ut.useRef(null),ee=m||X;Ut.useEffect(()=>{if(b&&!s&&ee&&typeof ee!="function"){const x=ee;x.current&&x.current.focus()}},[b,s,ee]);const oe=Ut.useRef({});Ut.useEffect(()=>{oe.current={}},[t]);const ce=()=>typeof ee=="function"?null:(ee==null?void 0:ee.current)||null,ue=t||S&&!s?0:-1;return Ut.useEffect(()=>{if(S&&!t&&!s){const x=ce();if(!x)return;const R=g?Array.from(document.querySelectorAll(`input[type='radio'][name='${g}']`)):[x],I=R.some(V=>V.checked),j=R.some(V=>V===document.activeElement);!I&&!j&&Promise.resolve().then(()=>{x.focus()})}},[S,t,s,g]),A.jsxs("div",{className:`quiz-option${h?" "+h:""}`,style:{width:"100%",cursor:s?"not-allowed":"pointer"},...k,"data-qa":"quiz-option",role:"group","aria-label":`Quiz option: ${G}. ${z}`,onClick:()=>{if(s)return;const x=ce();x&&document.activeElement!==x&&x.focus(),!t&&typeof o=="function"?o():t&&typeof u=="function"&&u()},children:[A.jsx("input",{id:Q,ref:ee,type:"radio",name:g,checked:t,onChange:()=>{},"aria-label":`Option ${G}: ${z}`,"aria-checked":t,"aria-disabled":!!s,role:"radio",style:{marginRight:12,cursor:s?"not-allowed":"pointer"},disabled:!!s,"data-disabled":!!s,tabIndex:ue,"data-quiz-radio":!0,"data-testid":"quiz-radio",onClick:x=>{x.stopPropagation(),!(s||x.currentTarget.readOnly)&&t&&typeof u=="function"&&u()},onKeyDown:x=>{s||x.currentTarget.readOnly||(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),!t&&typeof o=="function"?o():t&&typeof u=="function"&&u())}}),A.jsxs("label",{htmlFor:Q,style:{fontWeight:600,marginRight:8,cursor:s?"not-allowed":"pointer"},children:[G,"."]})," ",z,A.jsx(Lj,{isCorrect:O.includes("correct"),isIncorrect:O.includes("incorrect"),isSelected:O.includes("selected")}),v]})},zj=({shortExplanation:i,longExplanation:e,clinicalApplication:t,sourceReference:s,tags:o,keywords:u})=>A.jsxs(A.Fragment,{children:[i&&A.jsxs("div",{className:"quiz-explanation",children:["Quick Tip: ",i]}),e&&A.jsxs("div",{style:{color:"#2563eb",marginTop:8,fontSize:15},children:["More Info: ",e]}),t&&A.jsxs("div",{style:{color:"#64748b",marginTop:8,fontSize:14},children:["Clinical Application: ",t]}),s&&A.jsxs("div",{style:{color:"#a16207",marginTop:8,fontSize:13},children:["Source: ",s]}),(o||u)&&A.jsxs("div",{style:{color:"#64748b",marginTop:8,fontSize:13},children:[o&&o.length>0&&A.jsxs("span",{children:["Tags: ",o.join(", ")," "]}),u&&u.length>0&&A.jsxs("span",{children:["Keywords: ",u.join(", ")]})]})]}),Bj=({onPrev:i,onNext:e,onFinish:t,current:s,total:o,answered:u})=>A.jsxs("div",{className:"quiz-actions",role:"group","aria-label":"Quiz navigation actions",children:[A.jsx("button",{onClick:i,disabled:s===0,"aria-label":"Previous question",role:"button","aria-disabled":s===0,children:"Previous"}),A.jsx("button",{onClick:e,disabled:s>=o-1||!u,"aria-label":"Next question",role:"button","aria-disabled":s>=o-1||!u,style:{visibility:s<o-1?"visible":"hidden"},tabIndex:s<o-1?0:-1,"data-testid":"quiz-next-btn",children:"Next"}),A.jsx("button",{onClick:()=>{console.log("[QuizActions] Finish clicked",{answered:u,current:s,total:o}),t()},"aria-label":s<o-1?"Finish quiz early":"Finish quiz",role:"button","aria-disabled":!1,children:s<o-1?"Finish":"Finish Quiz"})]}),qj=({q:i,current:e,userAnswers:t,handleAnswer:s,answerFeedback:o,showExplanations:u,shuffledOptions:h,isReviewMode:m,showInstantFeedback:p,onPrev:g,onNext:v,onFinish:b,total:S,answered:k,...O})=>{const[G]=Ut.useState(()=>typeof window<"u"&&window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():Math.random().toString(36).slice(2)),z=i&&typeof i=="object"&&i.question&&Array.isArray(i.options)?i:{question:"No questions available",options:["N/A"],correctAnswer:"N/A",id:"empty"};typeof window<"u"&&(window.__LAST_QUIZ_QUESTION__=z);let Q=z.question;typeof Q=="string"&&(Q=Q.replace(/^(topic)+/i,"Topic"),Q=Q.replace(/^(Topic\s*)+/i,"Topic "),Q=Q.replace(/^\s+/,""));const X=k;return Ut.useEffect(()=>{e===0&&!m&&setTimeout(()=>{const ee=document.querySelector('input[type="radio"][data-testid="quiz-radio"]:not([disabled])');ee&&ee.focus()},0)},[e,m,i]),A.jsxs("div",{"data-testid":"quiz-question-card",children:[A.jsxs("fieldset",{style:{border:0,padding:0,margin:0},children:[A.jsx("legend",{style:{fontWeight:600,marginBottom:8},children:Q}),A.jsx("ul",{style:{listStyle:"none",padding:0},children:(h[e]||z.options).map((ee,oe)=>{const ce=t[e]===oe?X?(h[e]||z.options)[oe]===z.correctAnswer?"correct":"incorrect":"selected":"",ue=z.id||(z.question?z.question.replace(/[^a-zA-Z0-9]/g,"").slice(0,10):e),x=`quiz-option-${ue}-${oe}-${e}-${G}`,R=`quiz-question-${ue}-${e}-${G}`,I=`${x}-${X}`;return A.jsx("li",{children:A.jsx(Uj,{label:String.fromCharCode(65+oe),option:ee,selected:t[e]===oe,disabled:O.disableAllOptions||!!X,onSelect:()=>{X||s(oe)},onSubmitOption:()=>{!X&&t[e]===oe&&s(oe)},className:ce,inputId:x,name:R,autoFocus:e===0&&oe===0,isFirst:oe===0,"data-testid":"quiz-option"},I)},I)})})]}),X&&(p||m)&&A.jsx("div",{"data-testid":"quiz-feedback",className:"quiz-feedback",style:{color:o&&o.trim()!==""?o.trim()==="Correct!"?"#059669":"#ef4444":void 0,marginTop:8,fontSize:15,minHeight:20},children:o&&o.trim()!==""?o:""}),u&&A.jsx(zj,{shortExplanation:z.short_explanation,longExplanation:z.long_explanation,clinicalApplication:z.clinical_application,sourceReference:z.source_reference,tags:z.tags,keywords:z.keywords}),A.jsx(Bj,{onPrev:g,onNext:v,onFinish:b,current:e,total:S,answered:X}),m&&A.jsx("div",{"data-testid":"review-mode-indicator",style:{marginTop:16,textAlign:"center",color:"#1d4ed8",fontWeight:600},children:A.jsx("h2",{children:"Review"})})]})},Fj=({progress:i})=>A.jsxs("div",{className:"quiz-progress-bar",style:{width:"100%",margin:"1rem 0"},children:[A.jsx("div",{className:"quiz-progress-bar-inner",style:{width:`${i}%`,height:10,background:"linear-gradient(90deg, #6ee7b7, #3b82f6)",borderRadius:8,transition:"width 0.3s"},"aria-valuenow":i,"aria-valuemax":100,"aria-valuemin":0,role:"progressbar",tabIndex:0,"aria-label":`Quiz progress: ${i}%`}),A.jsxs("div",{style:{textAlign:"right",fontWeight:600,marginTop:4},children:[i," %"]})]}),Hj=({total:i,current:e,answered:t,onStep:s})=>A.jsx("div",{className:"quiz-stepper","aria-label":"Question Progress",role:"group",children:i===0?A.jsx("button",{type:"button",className:"quiz-stepper-dot","aria-current":"step","aria-label":"Current step",disabled:!0,"data-testid":"quiz-stepper-dot"}):Array.from({length:i}).map((o,u)=>A.jsx("button",{type:"button",className:"quiz-stepper-dot"+(u===e?" active":"")+(t[u]?" answered":""),"aria-current":u===e?"step":void 0,"aria-label":`Go to question ${u+1}${t[u]?" (answered)":""}${u===e?" (current)":""}`,role:"button",onClick:()=>s(u),onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),s(u))},"data-testid":"quiz-stepper-dot"},u))}),Gj=({sort:i,setSort:e})=>A.jsxs("label",{style:{marginLeft:"1rem"},children:["Sort:",A.jsxs("select",{value:i,onChange:t=>e(t.target.value),children:[A.jsx("option",{value:"default",children:"Default"}),A.jsx("option",{value:"accuracy",children:"By Accuracy"}),A.jsx("option",{value:"time",children:"By Time"}),A.jsx("option",{value:"difficulty",children:"By Difficulty"})]})]}),Qj=i=>i.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),$j=({availableTopics:i,selectedTopic:e,setSelectedTopic:t,id:s})=>A.jsxs("select",{value:e,onChange:o=>t(o.target.value),id:s,"data-testid":s,children:[A.jsx("option",{value:"",children:"Select a topic"}),i.map(o=>A.jsx("option",{value:o,children:Qj(o)},o))]}),YS=Ut.forwardRef(({quizLength:i,setQuizLength:e,maxQuizLength:t,id:s,"data-testid":o},u)=>A.jsx("div",{className:"quiz-length-input",children:A.jsxs("label",{style:{marginLeft:"1rem"},htmlFor:s,children:["Quiz Length:",A.jsx("input",{type:"number",min:1,max:t,value:i===0?"":i,onChange:h=>{let m=h.target.value===""?"":Number(h.target.value);m!==""&&!isNaN(m)&&(m=Math.max(1,Math.min(m,t))),e(m)},style:{width:60,marginLeft:4},id:s,"data-testid":o,disabled:t===0,"aria-label":"Quiz Length",ref:u})]})}));YS.displayName="QuizLengthInput";const Kj=i=>{var m,p;const{toggleState:e,setToggleState:t}=i,s=U.useRef(null),[o,u]=U.useState(null);U.useEffect(()=>{s.current&&s.current.focus()},[]);function h(){return i.selectedTopic?!i.quizLength&&i.quizLength!==0?"Please enter a valid quiz length.":i.quizLength<1?"Quiz length must be at least 1.":!i.availableTopics||i.availableTopics.length===0?"No topics available.":null:"Please select a topic."}return A.jsxs(A.Fragment,{children:[A.jsxs("form",{"data-testid":"quiz-start-form",role:"form",style:{marginBottom:"1rem"},onSubmit:g=>{g.preventDefault();const v=h();if(v){u(v);return}u(null),i.onStart({selectedTopic:i.selectedTopic,quizLength:i.quizLength,sort:i.sort,...e})},children:[A.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",marginBottom:"1rem"},children:[A.jsx("label",{htmlFor:"quiz-topic-select",children:"Topic"}),A.jsx($j,{availableTopics:i.availableTopics,selectedTopic:i.selectedTopic,setSelectedTopic:i.setSelectedTopic,id:"quiz-topic-select"}),A.jsx(YS,{quizLength:i.quizLength,setQuizLength:i.setQuizLength,maxQuizLength:i.maxQuizLength,id:"quiz-length-input","data-testid":"quiz-length-input",ref:s}),A.jsx(Gj,{sort:i.sort,setSort:i.setSort})]}),A.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",margin:"1rem 0"},children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"show-explanations-toggle",children:"Show Explanations"}),A.jsx("input",{id:"show-explanations-toggle",type:"checkbox",checked:e.showExplanations,"aria-label":"Show Explanations toggle",onChange:g=>t({...e,showExplanations:g.target.checked}),onKeyDown:g=>{(g.key===" "||g.key==="Enter")&&(g.preventDefault(),t({...e,showExplanations:!e.showExplanations}))}})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"instant-feedback-toggle",children:"Instant Feedback"}),A.jsx("input",{id:"instant-feedback-toggle",type:"checkbox",checked:e.instantFeedback,"aria-label":"Instant Feedback toggle",onChange:g=>t({...e,instantFeedback:g.target.checked}),style:{marginLeft:6}})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"randomize-questions-toggle",children:"Randomize Questions"}),A.jsx("input",{id:"randomize-questions-toggle",type:"checkbox",checked:e.randomizeQuestions,"aria-label":"Randomize Questions toggle",onChange:g=>t({...e,randomizeQuestions:g.target.checked}),style:{marginLeft:6}})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"randomize-options-toggle",children:"Randomize Options"}),A.jsx("input",{id:"randomize-options-toggle",type:"checkbox",checked:e.randomizeOptions,"aria-label":"Randomize Options toggle",onChange:g=>t({...e,randomizeOptions:g.target.checked}),style:{marginLeft:6}})]})]}),A.jsxs("label",{style:{marginLeft:"1rem"},children:["Filter:",A.jsxs("select",{value:i.filter,onChange:g=>i.setFilter(g.target.value),"aria-label":"Filter questions",children:[A.jsx("option",{value:"all",children:"All"}),A.jsx("option",{value:"incorrect",children:"Incorrect"}),A.jsx("option",{value:"unseen",children:"Unseen"}),A.jsx("option",{value:"difficulty",children:"By Difficulty"}),A.jsx("option",{value:"tag",children:"By Tag"})]})]}),i.filter==="difficulty"&&A.jsxs("label",{style:{marginLeft:"1rem"},children:["Difficulty:",A.jsxs("select",{value:i.filterValue,onChange:g=>i.setFilterValue(g.target.value),"aria-label":"Select difficulty",children:[A.jsx("option",{value:"",children:"All"}),(m=i.availableDifficulties)==null?void 0:m.map(g=>A.jsx("option",{value:g,children:g},g))]})]}),i.filter==="tag"&&A.jsxs("label",{style:{marginLeft:"1rem"},children:["Tag:",A.jsxs("select",{value:i.filterValue,onChange:g=>i.setFilterValue(g.target.value),"aria-label":"Select tag",children:[A.jsx("option",{value:"",children:"All"}),(p=i.availableTags)==null?void 0:p.map(g=>A.jsx("option",{value:g,children:g},g))]})]}),A.jsx("button",{style:{marginLeft:"1rem"},type:"submit","aria-label":"Start Quiz",disabled:i.quizLength===""||i.quizLength<1||i.maxQuizLength===0||!i.availableTopics||i.availableTopics.length===0||!i.selectedTopic,children:"Start Quiz"}),o&&A.jsx("div",{style:{color:"red",marginTop:12},"data-testid":"quiz-start-error",role:"alert",children:o})]}),i.showStartNewQuiz&&A.jsx("button",{type:"button",role:"button","data-testid":"start-new-quiz-btn","aria-label":"Start New Quiz",onClick:i.onStartNewQuiz,style:{marginLeft:"1rem",marginTop:"1rem"},children:"Start New Quiz"})]})},Yj={showExplanations:!0,instantFeedback:!0,randomizeQuestions:!0,randomizeOptions:!1};function Xj(i){const[e,t]=U.useState({...Yj,...i});return[e,t]}function Wj(){const[i,e]=U.useState(!1),[t,s]=U.useState(!1),[o,u]=U.useState(0),[h,m]=U.useState([]),[p,g]=U.useState([]),[v,b]=U.useState({}),[S,k]=U.useState(!1),[O,G]=U.useState([]),[z,Q]=U.useState(null),[X,ee]=U.useState([]),[oe,ce]=U.useState(!1),[ue,x]=U.useState("all"),[R,I]=U.useState(""),[j,V]=U.useState("default"),[P,D]=U.useState({}),ht=U.useRef([]);return{started:i,setStarted:e,showResults:t,setShowResults:s,current:o,setCurrent:u,userAnswers:h,setUserAnswers:m,shuffledQuestions:p,setShuffledQuestions:g,shuffledOptions:v,setShuffledOptions:b,answered:S,setAnswered:k,questionTimes:O,setQuestionTimes:G,questionStart:z,setQuestionStart:Q,reviewQueue:X,setReviewQueue:ee,hasCompletedQuiz:oe,setHasCompletedQuiz:ce,filter:ue,setFilter:x,filterValue:R,setFilterValue:I,sort:j,setSort:V,topicStats:P,setTopicStats:D,optionRefs:ht}}function Zj(i,e,t,s,o,u){let h=[...i];return e&&(h=h.filter(m=>Array.isArray(m.topics)&&m.topics.includes(e))),t==="incorrect"?h=h.filter((m,p)=>o[p]!==void 0&&(u[p]||m.options)[o[p]]!==m.correctAnswer):t==="unseen"?h=h.filter((m,p)=>o[p]===void 0):t==="difficulty"&&s?h=h.filter(m=>m.difficulty===s):t==="tag"&&s&&(h=h.filter(m=>m.tags&&m.tags.includes(s))),h.sort((m,p)=>(m.difficulty??"easy")>(p.difficulty??"easy")?1:-1),h}const Jj=()=>A.jsx("div",{"data-testid":"review-mode-indicator",style:{marginBottom:12,textAlign:"center",color:"#1d4ed8",fontWeight:600},children:A.jsx("h2",{children:"Review"})}),ek=({score:i,total:e,avgTime:t,maxStreak:s,topicStats:o,onClose:u,onRetry:h,questions:m,userAnswers:p,shuffledOptions:g})=>A.jsx("div",{className:"modal-summary",children:A.jsxs("div",{children:[A.jsx("h2",{children:"Quiz Results"}),A.jsxs("p",{children:["Your score: ",i," / ",e]}),A.jsxs("div",{style:{margin:"16px 0"},children:[A.jsx("strong",{children:"Average Time per Question:"})," ",t," sec",A.jsx("br",{}),A.jsx("strong",{children:"Longest Correct Streak:"})," ",s]}),A.jsxs("div",{style:{margin:"16px 0"},children:[A.jsx("strong",{children:"Accuracy by Topic:"}),A.jsx("ul",{children:Object.entries(o).map(([v,b])=>A.jsxs("li",{children:[v,": ",b.correct," / ",b.total," (",(b.correct/b.total*100).toFixed(0),"%)"]},v))})]}),A.jsx("button",{onClick:h,children:"Try Another Quiz"}),A.jsx("ul",{style:{marginTop:24},children:m.map((v,b)=>{const S=p[b],k=S!==void 0?(g[b]||v.options)[S]:null,O=S===void 0;return A.jsxs("li",{style:{marginBottom:16,opacity:O?.6:1},children:[A.jsx("strong",{children:v.question}),A.jsx("br",{}),A.jsxs("span",{children:["Your answer: ",O?A.jsx("span",{style:{color:"#b91c1c",fontWeight:600},children:"No answer"}):k]}),A.jsx("br",{}),A.jsxs("span",{children:["Correct answer: ",v.correctAnswer]}),v.short_explanation&&A.jsxs("div",{style:{color:"#059669",marginTop:4},children:["Explanation: ",v.short_explanation]}),v.long_explanation&&A.jsxs("div",{style:{color:"#2563eb",marginTop:4},children:["More Info: ",v.long_explanation]}),v.clinical_application&&A.jsxs("div",{style:{color:"#64748b",marginTop:4},children:["Clinical Application: ",v.clinical_application]})]},v.id)})}),A.jsxs("div",{style:{marginTop:16,fontWeight:600},children:["Answered: ",p.filter(v=>v!==void 0).length," / ",m.length,p.some(v=>v===void 0)&&A.jsx("span",{style:{color:"#b91c1c",marginLeft:8},children:"(Some questions were skipped or left unanswered)"})]}),A.jsx("button",{onClick:u,style:{marginTop:24},children:"Close"})]})}),tk=({topicStats:i})=>A.jsxs("div",{style:{margin:"1rem 0"},children:[A.jsx("h4",{children:"Accuracy by Topic"}),A.jsx("ul",{children:Object.entries(i).map(([e,t])=>A.jsxs("li",{children:[e,": ",t.correct," / ",t.total," correct (",t.total?Math.round(t.correct/t.total*100):0,"%)"]},e))})]}),nk=({isOpen:i,onClose:e,children:t,ariaLabel:s="Dialog",className:o})=>{const u=U.useRef(null);return U.useEffect(()=>{if(!i)return;const h=m=>{if(m.key==="Escape"&&e(),m.key==="Tab"&&u.current){const p=u.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(p.length===0)return;const g=p[0],v=p[p.length-1];!m.shiftKey&&document.activeElement===v?(m.preventDefault(),g.focus()):m.shiftKey&&document.activeElement===g&&(m.preventDefault(),v.focus())}};return document.addEventListener("keydown",h),setTimeout(()=>{var m;(m=u.current)==null||m.focus()},0),()=>document.removeEventListener("keydown",h)},[i,e]),i?A.jsx("div",{className:`modal-backdrop ${o||""}`,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.45)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},tabIndex:-1,"aria-modal":"true",role:"dialog","aria-label":s,onClick:e,children:A.jsxs("div",{className:"modal-content",ref:u,tabIndex:0,style:{background:"#fff",borderRadius:12,minWidth:320,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",padding:24,position:"relative"},onClick:h=>h.stopPropagation(),children:[A.jsx("button",{"aria-label":"Close dialog",onClick:e,style:{position:"absolute",top:12,right:12,background:"none",border:"none",fontSize:24,cursor:"pointer"},children:"×"}),t]})}):null},XS=({topicStats:i,onStartMissedUnansweredQuiz:e})=>{const[t,s]=U.useState(null);if(!i||Object.entries(i).length===0)return null;const o=h=>h.replace(/[_-]/g," ").replace(/\b\w/g,m=>m.toUpperCase()).replace(/\s+/g," ").trim(),u=h=>{const m=i[h];return{missed:m.total-m.correct,unanswered:0}};return A.jsxs(A.Fragment,{children:[A.jsx("div",{"data-testid":"quiz-topic-progress",style:{display:"flex",gap:16,marginBottom:12,flexWrap:"wrap"},children:Object.entries(i).map(([h,m])=>{const p=typeof h=="string"?h.replace(/(topictpoic|tpoic|topic)+/gi,"topic").replace(/topic+/gi,"topic").trim():h;return A.jsxs("button",{style:{minWidth:90,background:"rgba(255,255,255,0.7)",border:"1.5px solid #d1d5db",borderRadius:7,padding:"8px 10px",cursor:"pointer",outline:"none",boxShadow:"0 1px 3px rgba(0,0,0,0.04)",transition:"box-shadow 0.18s, border 0.18s, background 0.18s",fontSize:15,fontWeight:500,color:"#334155",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2},"aria-label":`View details and actions for ${o(p)}`,onClick:()=>s(h),onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&s(h)},onFocus:g=>g.currentTarget.style.boxShadow="0 0 0 2px #38bdf8",onBlur:g=>g.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.04)",onMouseOver:g=>g.currentTarget.style.background="rgba(241,245,249,0.85)",onMouseOut:g=>g.currentTarget.style.background="rgba(255,255,255,0.7)",children:[A.jsx("span",{style:{fontWeight:600,fontSize:15},children:o(p)}),A.jsx("div",{style:{height:6,background:"#e5e7eb",borderRadius:3,margin:"2px 0",position:"relative",width:"100%"},children:A.jsx("div",{style:{width:`${m.total?100*m.correct/m.total:0}%`,height:"100%",background:"#38bdf8",borderRadius:3,transition:"width 0.2s"}})}),A.jsx("div",{style:{fontSize:12,color:"#64748b"},children:`${m.correct} / ${m.total}`})]},h)})}),A.jsx(nk,{isOpen:!!t,onClose:()=>s(null),ariaLabel:"Topic Details",children:t&&A.jsxs("div",{children:[A.jsx("h2",{style:{marginTop:0},children:t}),A.jsxs("div",{style:{marginBottom:12},children:[A.jsx("strong",{children:"Correct:"})," ",i[t].correct," / ",i[t].total]}),A.jsxs("div",{style:{marginBottom:12},children:[A.jsx("strong",{children:"Missed:"})," ",u(t).missed]}),A.jsxs("div",{style:{marginBottom:12},children:[A.jsx("strong",{children:"Unanswered:"})," ",u(t).unanswered]}),u(t).missed+u(t).unanswered>0?A.jsx("button",{style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:6,padding:"10px 20px",fontWeight:600,cursor:"pointer",marginTop:8,opacity:1},"aria-label":`Start quiz for ${t} (missed/unanswered)`,onClick:()=>{e&&(e(t),s(null))},children:"Start Quiz: Missed/Unanswered"}):A.jsx("button",{style:{background:"#94a3b8",color:"#fff",border:"none",borderRadius:6,padding:"10px 20px",fontWeight:600,cursor:"not-allowed",marginTop:8,opacity:.6},"aria-label":`No missed or unanswered questions for ${t}`,disabled:!0,children:"Start Quiz: Missed/Unanswered"}),A.jsx("div",{style:{marginTop:24,color:"#888",fontSize:13},children:"(More review and badge features coming soon)"})]})})]})},ik=({isAllIncorrect:i,onStartNewQuiz:e,topicStats:t,q:s,userAnswers:o,shuffledOptions:u,activeQuestions:h,onStartMissedUnansweredQuiz:m})=>{const p=t&&Object.keys(t).length>0?t:{};return A.jsxs("div",{className:"quiz-results","data-testid":"quiz-results",children:[i&&A.jsx(Jj,{}),A.jsx("button",{role:"button","aria-label":"Start New Quiz","data-testid":"start-new-quiz-btn",onClick:e,style:{marginTop:"1rem",marginBottom:"1rem"},children:"Start New Quiz"}),A.jsx("h2",{children:"Results"}),A.jsx(XS,{topicStats:p,onStartMissedUnansweredQuiz:m}),A.jsx(tk,{topicStats:p}),A.jsx(ek,{score:o.filter((g,v)=>g!==void 0&&(u[v]||s&&s.options||[]).length>0&&(u[v]||s&&s.options||[])[g]===(h[v]&&h[v].correctAnswer)).length,total:h.length,avgTime:0,maxStreak:(()=>{let g=0,v=0;for(let b=0;b<o.length;b++)o[b]!==void 0&&(u[b]||h[b]&&h[b].options||[])[o[b]]===(h[b]&&h[b].correctAnswer)?(v++,v>g&&(g=v)):v=0;return g})(),topicStats:p,onClose:()=>{},onRetry:e,questions:h,userAnswers:o,shuffledOptions:u})]})},rk=({size:i=32})=>A.jsx("div",{"data-testid":"quiz-loading","aria-label":"Loading",role:"status",style:{display:"inline-block",width:i,height:i,border:`${i/8}px solid #cbd5e1`,borderTop:`${i/8}px solid #2563eb`,borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:12,verticalAlign:"middle"},children:A.jsx("span",{style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0,0,0,0)",border:0},children:"Loading..."})});document.head.insertAdjacentHTML("beforeend","<style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>");const sk=["anatomy/attachments/hips/greater_trochanter_attachments.json","anatomy/attachments/hips/lesser_trochanter_attachments.json","anatomy/attachments/shoulder/greater_tubercle.json","anatomy/attachments/shoulder/lesser_tubercle.json","anatomy/cell_theory/cell_biology/cell_specialization_fun_facts.json","anatomy/cell_theory/cell_biology/cellular_anatomy.json","anatomy/cell_theory/cell_biology/characteristics_of_cells.json","anatomy/cell_theory/cell_biology/cytology.json","anatomy/cell_theory/cell_biology/cytosol.json","anatomy/cell_theory/cell_biology/golgi_apparatus.json","anatomy/cell_theory/cell_biology/golgi_apparatus_2.json","anatomy/cell_theory/cell_biology/membrane_potential.json","anatomy/cell_theory/cell_biology/nucleus.json","anatomy/cell_theory/cell_biology/phases_of_cell_division.json","anatomy/cell_theory/cell_biology/plasma_membrane.json","anatomy/cell_theory/cell_biology/prokaryote_vs_eukaryote.json","anatomy/cell_theory/cell_biology/proteins_in_plasma_membrane.json","anatomy/cell_theory/cell_biology/rough_vs_smooth_er.json","anatomy/cell_theory/cell_biology/specialization_fun_facts.json","anatomy/cell_theory/cell_biology/theory.json","anatomy/cell_theory/cell_types_compared/animal_vs_plant_cells.json","anatomy/cell_theory/cell_types_compared/cell_types.json","anatomy/cell_theory/cell_types_compared/columnar_cells.json","anatomy/cell_theory/cell_types_compared/cuboidal_cells.json","anatomy/cell_theory/cell_types_compared/cyte_cells.json","anatomy/cell_theory/cell_types_compared/fungi_vs_bacteria.json","anatomy/cell_theory/cell_types_compared/squamous_cells.json","anatomy/cell_theory/cell_types_compared/transitional_cells.json","anatomy/cell_theory/equilibrium/diffusion_osmosis_filtration.json","anatomy/cell_theory/equilibrium/homeostasis.json","anatomy/cell_theory/equilibrium/isotonic_hypotonic_hypertonic.json","anatomy/cell_theory/histology.json","anatomy/innervations/accessory_nerve.json","anatomy/innervations/arm_innervations/axillary.json","anatomy/innervations/arm_innervations/brachial_plexus_innervations.json","anatomy/innervations/arm_innervations/median_nerve_innervations.json","anatomy/innervations/arm_innervations/musculocutaneous_nerve_innervations.json","anatomy/innervations/arm_innervations/radial_nerve_innervations.json","anatomy/innervations/arm_innervations/ulnar_nerve_innervations.json","anatomy/innervations/back_innervations/dorsal_scapular_innervations.json","anatomy/innervations/back_innervations/long_thoacic_nerve_innervations.json","anatomy/innervations/back_innervations/suprescapular.json","anatomy/innervations/back_innervations/thoracodorsal_vs_dorsal_scapular.json","anatomy/innervations/dermatomes/dermatomes.json","anatomy/innervations/dermatomes/dermatomes_of_the_foot.json","anatomy/innervations/dual_innervations.json","anatomy/innervations/facial_innervations/anterior_ethmoidal_nerve.json","anatomy/innervations/facial_innervations/artynoid_nerve_innervations.json","anatomy/innervations/facial_innervations/auriculotemporal_nerve_innervations.json","anatomy/innervations/facial_innervations/glossopharyngeal_nerve_innervations.json","anatomy/innervations/facial_innervations/infratrochlear_nerve.json","anatomy/innervations/facial_innervations/olfactory_nerve.json","anatomy/innervations/facial_innervations/recurrent_laryngeal_nerve_innervations.json","anatomy/innervations/foot_innervations/fibular_nerve/deep_fibular_nerve_innervations.json","anatomy/innervations/foot_innervations/fibular_nerve/deep_vs_superficial_fibular_nerve.json","anatomy/innervations/foot_innervations/fibular_nerve/foot_innervations.json","anatomy/innervations/foot_innervations/plantar_nerve/medial_plantar_nerve_innervations.json","anatomy/innervations/foot_innervations/plantar_nerve/plantar_nerve_innervations.json","anatomy/innervations/foot_innervations/plantar_nerve/plantar_vs_fibular_nerve.json","anatomy/innervations/foot_innervations/plantar_nerve/superficial_plantar_nerve.json","anatomy/innervations/hip_innervations/common_fibular_nerve.json","anatomy/innervations/hip_innervations/femoral_nerve_innervations.json","anatomy/innervations/hip_innervations/genitofemoral.json","anatomy/innervations/hip_innervations/gluteal_nerve_innervations.json","anatomy/innervations/hip_innervations/iliohypogastric.json","anatomy/innervations/hip_innervations/ilioinguinal.json","anatomy/innervations/hip_innervations/inferior_gluteal.json","anatomy/innervations/hip_innervations/lower_limb_nerve_innervations.json","anatomy/innervations/hip_innervations/obturator_nerve_innervations.json","anatomy/innervations/hip_innervations/sciatic_nerve_innervations.json","anatomy/innervations/hip_innervations/superior_gluteal.json","anatomy/innervations/hip_innervations/tibial_nerve_innervations.json","anatomy/innervations/leg_innervations/greater_saphenous_nerve.json","anatomy/innervations/leg_innervations/lateral_sural.json","anatomy/innervations/leg_innervations/saphenous_nerve_innervations.json","anatomy/innervations/spinal_root_levels/ansa_cervicalis.json","anatomy/innervations/spinal_root_levels/c1_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c2_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c3_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c4_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c5_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c6_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c7_nerve_innervations.json","anatomy/innervations/spinal_root_levels/c8_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cervical_plexus.json","anatomy/innervations/spinal_root_levels/cnii_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cniii_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cniv_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cnv_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cnvi_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cnvii_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cnx_nerve_innervations.json","anatomy/innervations/spinal_root_levels/cranial_nerves.json","anatomy/innervations/spinal_root_levels/l1_nerve_innervations.json","anatomy/innervations/spinal_root_levels/l2_nerve_innervations.json","anatomy/innervations/spinal_root_levels/l3_nerve_innervations.json","anatomy/innervations/spinal_root_levels/l4_nerve_innervation.json","anatomy/innervations/spinal_root_levels/l5_nerve_innervations.json","anatomy/innervations/spinal_root_levels/phrenic_nerve.json","anatomy/innervations/spinal_root_levels/s1_nerve_innervations.json","anatomy/innervations/spinal_root_levels/s2_nerve_innervations.json","anatomy/innervations/spinal_root_levels/s3_nerve_innervations.json","anatomy/innervations/spinal_root_levels/s4_nerve_innervations.json","anatomy/innervations/spinal_root_levels/s5_nerve_innervations.json","anatomy/innervations/spinal_root_levels/spinal_root_levels_innervations.json","anatomy/innervations/spinal_root_levels/t11_nerve_innervations.json","anatomy/innervations/spinal_root_levels/t12_nerve_innervations.json","anatomy/innervations/spinal_root_levels/t1_nerve_innervations.json","anatomy/innervations/spinal_root_levels/vagus_nerve_innervations.json","anatomy/insertions/muscle_origin_insertion.json","anatomy/insertions/rotator_cuff_insertions.json","anatomy/insertions/shoulder_insertion.json","anatomy/joints/foot_joints/talocrural_joint.json","anatomy/joints/intro_to_joints/intro_to_joints.json","anatomy/joints/intro_to_joints/joint_capsule.json","anatomy/joints/intro_to_joints/joint_types.json","anatomy/joints/joint_types/amphiarthrotic_joints.json","anatomy/joints/joint_types/diarthrotic_joints.json","anatomy/joints/joint_types/synovial_joints/condyloid_joints.json","anatomy/joints/joint_types/synovial_joints/gliding_joints.json","anatomy/joints/joint_types/synovial_joints/saddle_joints.json","anatomy/joints/joint_types/synovial_joints/synovial_fluid.json","anatomy/joints/joint_types/synovial_joints/synovial_joint_types.json","anatomy/joints/joint_types/synovial_joints/synovial_joints.json","anatomy/joints/neck_joints/atlanto_occipital_joint.json","anatomy/ligaments/foot_ligaments/ligaments_of_the_foot.json","anatomy/ligaments/foot_ligaments/long_plantar_ligament.json","anatomy/ligaments/foot_ligaments/spring_vs_short_plantar_ligament.json","anatomy/ligaments/foot_ligaments/talonavicular_ligament.json","anatomy/ligaments/hand_ligaments/hand_ligaments.json","anatomy/ligaments/hip_ligaments/hip_ligaments.json","anatomy/ligaments/hip_ligaments/pelvic_ligaments.json","anatomy/ligaments/knee_ligaments/anterior_cruciate_ligament.json","anatomy/ligaments/knee_ligaments/knee_ligaments.json","anatomy/ligaments/ligaments.json","anatomy/ligaments/ligamentum_flavum.json","anatomy/ligaments/neck_ligaments/ligamentum_nuchae.json","anatomy/ligaments/shoulder_ligaments.json","anatomy/movement_groups/arm/arm_extensors.json","anatomy/movement_groups/arm/arm_flexors.json","anatomy/movement_groups/arm/foot_flexors.json","anatomy/movement_groups/arm/forearm_extensors.json","anatomy/movement_groups/foot/ankle_dorsiflexors.json","anatomy/movement_groups/foot/ankle_plantarflexors.json","anatomy/movement_groups/foot/foot_extensors.json","anatomy/movement_groups/hands/dorsal_hand_extensors.json","anatomy/movement_groups/hands/hand_flexors.json","anatomy/movement_groups/hands/thumb_opposition.json","anatomy/movement_groups/hips/hip_lateral_rotation.json","anatomy/movement_groups/hips/hip_medial_rotation.json","anatomy/movement_groups/leg/knee_lateral_rotation.json","anatomy/movement_groups/leg/knee_medial_rotation.json","anatomy/movement_groups/medial_vs_lateral_rotation.json","anatomy/movement_groups/movement_planes/frontal_movement_groups.json","anatomy/movement_groups/movement_planes/sagittal_movement_groups.json","anatomy/movement_groups/neck/neck_extension.json","anatomy/movement_groups/neck/neck_lateral_flexion.json","anatomy/movement_groups/shoulder/shoulder_medial_rotation.json","anatomy/muscle_fascia_and_connective_tissue/bursa.json","anatomy/muscle_fascia_and_connective_tissue/collagen.json","anatomy/muscle_fascia_and_connective_tissue/connective_tissue.json","anatomy/muscle_fascia_and_connective_tissue/fascia_vs_fascicles.json","anatomy/muscle_fascia_and_connective_tissue/ground_substance.json","anatomy/muscle_fascia_and_connective_tissue/neuromuscular_junction.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/dense_connective_tissue/dense_irregular_connective_tissue.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/dense_connective_tissue/dense_regular_connective_tissue.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/dense_connective_tissue/elastic_fibers.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/loose_connective_tissue/adipose_tissue.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/loose_connective_tissue/areolar_tissue.json","anatomy/muscle_fascia_and_connective_tissue/tissue_types/loose_connective_tissue/reticular_tissue.json","anatomy/muscle_groups/arm/intertubercular_groove.json","anatomy/muscle_groups/back/latissimus_dorsi.json","anatomy/muscle_groups/back/levator_scapula.json","anatomy/muscle_groups/back/quadratus_lumborum.json","anatomy/muscle_groups/back/rhomboids.json","anatomy/muscle_groups/back/trapezius.json","anatomy/muscle_groups/chest/pectoralis_major.json","anatomy/muscle_groups/chest/pectoralis_minor.json","anatomy/muscle_groups/chest/serratus_anterior.json","anatomy/muscle_groups/facial/cricothyroid.json","anatomy/muscle_groups/facial/facial_muscles.json","anatomy/muscle_groups/foot/arches_of_the_foot.json","anatomy/muscle_groups/foot/lumbricals_foot.json","anatomy/muscle_groups/foot/plantar_foot.json","anatomy/muscle_groups/foot/plantar_interossei.json","anatomy/muscle_groups/foot/plantar_layer_1.json","anatomy/muscle_groups/foot/plantar_layer_2.json","anatomy/muscle_groups/foot/plantar_layer_3.json","anatomy/muscle_groups/foot/plantar_layer_4.json","anatomy/muscle_groups/hands/adductor_pollicis.json","anatomy/muscle_groups/hands/dorsal_hand.json","anatomy/muscle_groups/hands/hand_layer_1.json","anatomy/muscle_groups/hands/hand_layer_2.json","anatomy/muscle_groups/hands/hand_layer_3.json","anatomy/muscle_groups/hands/intrinsic_hand_muscles.json","anatomy/muscle_groups/hands/lumbricals_hand.json","anatomy/muscle_groups/hands/palmar_hand.json","anatomy/muscle_groups/hands/palmar_interossei.json","anatomy/muscle_groups/hands/thenar_vs_hypothenar.json","anatomy/muscle_groups/hip/coccygeus.json","anatomy/muscle_groups/hip/intertrochanteric_crest.json","anatomy/muscle_groups/hip/ischial_attachments.json","anatomy/muscle_groups/hip/levator_ani.json","anatomy/muscle_groups/hip/posterior_chain.json","anatomy/muscle_groups/leg/adductor_magnus.json","anatomy/muscle_groups/leg/biceps_femoris.json","anatomy/muscle_groups/leg/hamstring_muscles.json","anatomy/muscle_groups/neck/omohyoid.json","anatomy/muscle_groups/neck/stylopharyngeus.json","anatomy/muscle_groups/neck/trachea/trachea.json","anatomy/muscle_groups/shoulder/rotator_cuff_clinical_scenarios.json","anatomy/muscle_groups/shoulder/subscapularis.json","anatomy/muscle_groups/wrist/guyons_canal.json","anatomy/organs/brain/amygdala.json","anatomy/organs/brain/cerebral_cortex.json","anatomy/organs/brain/corpus_collosum.json","anatomy/organs/brain/hypothalamus.json","anatomy/organs/brain/pineal_gland.json","anatomy/organs/brain/pons.json","anatomy/organs/brain/thalamus.json","anatomy/organs/brain/ventricles_brain.json","anatomy/organs/gall_bladder.json","anatomy/organs/heart/heart.json","anatomy/organs/heart/heart_muscle_layers/endocardium.json","anatomy/organs/heart/heart_muscle_layers/epicardium.json","anatomy/organs/heart/heart_muscle_layers/myocardium.json","anatomy/organs/heart/heart_muscle_layers/pericardium.json","anatomy/organs/heart/heart_valves/aortic_valve.json","anatomy/organs/heart/heart_valves/av_valve.json","anatomy/organs/heart/heart_valves/heart_valves.json","anatomy/organs/heart/heart_valves/mitral_valve.json","anatomy/organs/heart/heart_valves/pulmonary_valve.json","anatomy/organs/heart/heart_valves/semilunar_valve.json","anatomy/organs/heart/heart_valves/tricuspid_valve.json","anatomy/organs/kidneys/glomeruli.json","anatomy/organs/kidneys/hinele_loop.json","anatomy/organs/kidneys/kidney_anatomy.json","anatomy/organs/kidneys/kidney_calyx.json","anatomy/organs/kidneys/kidney_medulla.json","anatomy/organs/kidneys/renal_pyramids.json","anatomy/organs/liver/liver.json","anatomy/organs/lungs/lungs.json","anatomy/organs/pancreas/glucagon.json","anatomy/organs/pancreas/pancreas.json","anatomy/organs/pancreas/pancreas_hormones.json","anatomy/organs/parathyroid.json","anatomy/organs/pituitary_gland/pituitary.json","anatomy/organs/pituitary_gland/pituitary_hormones.json","anatomy/organs/prostate.json","anatomy/organs/spleen.json","anatomy/organs/stomach/chyme.json","anatomy/organs/stomach/duodenum.json","anatomy/organs/stomach/ileum.json","anatomy/organs/stomach/jejunum.json","anatomy/organs/thymus.json","anatomy/organs/thyroid.json","anatomy/origins/abdominal_muscle_origins.json","anatomy/origins/shoulder_origins.json","anatomy/systems/circulatory_system/arteries/arteries.json","anatomy/systems/circulatory_system/arteries/internal_carotid_artery.json","anatomy/systems/circulatory_system/arteries/subclavian_artery.json","anatomy/systems/circulatory_system/hemoglobin.json","anatomy/systems/circulatory_system/veins/jugular_vein.json","anatomy/systems/circulatory_system/veins/veins.json","anatomy/systems/endocrine_system/endocrine_system.json","anatomy/systems/endocrine_system/glands.json","anatomy/systems/endocrine_system/hormones/antidiruretic_hormone.json","anatomy/systems/endocrine_system/hormones/thyroxine.json","anatomy/systems/endocrine_system/neurochemicals/acetylcholine.json","anatomy/systems/endocrine_system/neurochemicals/aldosterone.json","anatomy/systems/endocrine_system/neurochemicals/antigens.json","anatomy/systems/endocrine_system/neurochemicals/cholecystokinin.json","anatomy/systems/endocrine_system/neurochemicals/hormones.json","anatomy/systems/endocrine_system/neurochemicals/neurotransmitters.json","anatomy/systems/endocrine_system/neurochemicals/vasopressin.json","anatomy/systems/exocrine_system.json","anatomy/systems/immune_system/basophils.json","anatomy/systems/immune_system/eosinophils.json","anatomy/systems/immune_system/lymph.json","anatomy/systems/immune_system/neutrophils.json","anatomy/systems/immune_system/white_blood_cell_types.json","anatomy/systems/integumentary_system/fibroblasts.json","anatomy/systems/integumentary_system/skin layers/anatomy_of_skin.json","anatomy/systems/integumentary_system/skin layers/dermis.json","anatomy/systems/integumentary_system/skin layers/epidermis.json","anatomy/systems/integumentary_system/skin layers/epidermis_layers.json","anatomy/systems/integumentary_system/skin layers/hypodermis.json","anatomy/systems/integumentary_system/skin layers/stratum_basale.json","anatomy/systems/integumentary_system/skin layers/types_of_skin_cells.json","anatomy/systems/integumentary_system/skin_glands/sudoriferous_glands.json","anatomy/systems/integumentary_system/skin_glands/sweat_glands.json","anatomy/systems/integumentary_system/skin_receptors/golgi_tendon_apparatus.json","anatomy/systems/integumentary_system/skin_receptors/meissner_corpuscles.json","anatomy/systems/integumentary_system/skin_receptors/merkle_discs.json","anatomy/systems/integumentary_system/skin_receptors/nociceptors.json","anatomy/systems/integumentary_system/skin_receptors/pancinan_corpuscles.json","anatomy/systems/integumentary_system/skin_receptors/ruffini_endings.json","anatomy/systems/limbic_system.json","anatomy/systems/muscular_system/muscle_layers/endomysium.json","anatomy/systems/muscular_system/muscle_layers/epimysium.json","anatomy/systems/muscular_system/muscle_layers/muscle_cells.json","anatomy/systems/muscular_system/muscle_layers/muscle_fascia.json","anatomy/systems/muscular_system/muscle_layers/muscle_fibers_vs_fibrils.json","anatomy/systems/muscular_system/muscle_layers/muscle_spindle.json","anatomy/systems/muscular_system/muscle_layers/perimysium.json","anatomy/systems/muscular_system/muscle_layers/sarcolemma.json","anatomy/systems/muscular_system/muscle_layers/sarcomeres.json","anatomy/systems/muscular_system/muscle_layers/z_lines.json","anatomy/systems/muscular_system/muscle_types/fusiform.json","anatomy/systems/muscular_system/muscle_types/multipennate.json","anatomy/systems/muscular_system/muscle_types/muscle_shapes.json","anatomy/systems/muscular_system/muscle_types/parallel_muscle_shapes.json","anatomy/systems/muscular_system/muscle_types/pennate.json","anatomy/systems/nervous_system/glial_cells.json","anatomy/systems/nervous_system/interneuron.json","anatomy/systems/nervous_system/neuron_types.json","anatomy/systems/skeletal_system/axial_vs_appendicular.json","anatomy/systems/skeletal_system/bone_cells.json","anatomy/systems/skeletal_system/bone_layers/endosteum.json","anatomy/systems/skeletal_system/bone_layers/periosteum.json","anatomy/systems/skeletal_system/bone_markings/bone_markings.json","anatomy/systems/skeletal_system/bone_types/bone_types.json","anatomy/systems/skeletal_system/bone_types/compact_bone.json","anatomy/systems/skeletal_system/bone_types/irregular_bones.json","anatomy/systems/skeletal_system/bone_types/sesamoid_bones.json","anatomy/systems/skeletal_system/bone_types/spongy_bone.json","anatomy/systems/skeletal_system/bones.json","anatomy/systems/skeletal_system/cartilage/articular_cartilage.json","anatomy/systems/skeletal_system/cartilage/cartilage.json","anatomy/systems/skeletal_system/cartilage/elastic_cartilage.json","anatomy/systems/skeletal_system/cartilage/fibrocartilage.json","anatomy/systems/skeletal_system/cranial_bones/cranial_bones.json","anatomy/systems/skeletal_system/cranial_bones/ethmoid.json","anatomy/systems/skeletal_system/cranial_bones/sphenoid_bone.json","anatomy/systems/skeletal_system/foot_bones/cuboid.json","anatomy/systems/skeletal_system/foot_bones/navicular.json","anatomy/systems/skeletal_system/hand_bones/hamate.json","anatomy/systems/skeletal_system/hand_bones/lunate.json","anatomy/systems/skeletal_system/hand_bones/scaphoid.json","anatomy/systems/skeletal_system/larynx.json","anatomy/systems/skeletal_system/red_marrow.json","anatomy/systems/skeletal_system/ribs.json","anatomy/systems/skeletal_system/skull_sutures.json","anatomy/systems/skeletal_system/yellow_marrow.json","anatomy/tendons/foot_tendons.json","anatomy/tendons/knee_tendons.json","anatomy/tendons/leg_tendons.json","history/history_i.json","history/history_of_massage.json","history/people/famous_people_i.json","history/people/famous_people_massage_ii.json","history/people/james_cyriax.json","history/people/john_barnes.json","history/rise_and_decline_history.json","licensing/ethics/boundaries.json","licensing/ethics/professional_ethics.json","licensing/ethics/transference_countertransference.json","licensing/licensing_standards.json","licensing/soap_notes/soap_notes.json","modalities/ayurveda_intro.json","modalities/breema.json","modalities/chavuti_thirumal.json","modalities/connective_tissue_massage.json","modalities/craniosacral/cerebrospinal_fluid.json","modalities/craniosacral/craniosacral_intro.json","modalities/craniosacral/diaphragms.json","modalities/energy_work/chakras/chakra_elements.json","modalities/energy_work/chakras/chakra_level_functions.json","modalities/energy_work/chakras/chakras_fears.json","modalities/energy_work/chakras/chakras_medium.json","modalities/energy_work/chakras/sacral_vs_solar_plexus.json","modalities/energy_work/human_energy_field.json","modalities/energy_work/meridians.json","modalities/energy_work/somatic_therapy.json","modalities/global_traditions/global_traditions.json","modalities/global_traditions/intro_global_traditions.json","modalities/global_traditions/schools_of_thought.json","modalities/gua_sha.json","modalities/lymphatic_massage.json","modalities/myofascial/myofascial.json","modalities/myofascial/myofascial_meridians.json","modalities/myofascial/myofascial_remodeling.json","modalities/myofascial/piezoelectricity.json","modalities/myofascial/principles_of_myofascial_massage.json","modalities/myofascial/tensegrity.json","modalities/myofascial/tissue_excursion.json","modalities/polarity_therapy.json","modalities/reflexology/clinical_applications_of_reflexology.json","modalities/reflexology/comparison.json","modalities/reflexology/reflexology_intro.json","modalities/reflexology/relfexology_point_maps.json","modalities/rolfing/rolfing_intro.json","modalities/shiatsu.json","modalities/special_populations/geriatric_massage.json","modalities/special_populations/infant_massage/infant_massage.json","modalities/special_populations/infant_massage/newborn_vs_infant_massage.json","modalities/special_populations/prenatal_massage/prenatal_massage.json","modalities/special_populations/prenatal_massage/prenatal_massage_mcqs.json","modalities/special_populations/prenatal_massage/prenatal_trimester_modifications_mcqs.json","modalities/special_populations/prenatal_massage/trimester_comparison_mcqs.json","modalities/special_populations/prenatal_massage/trimester_contraindications_mcqs.json","modalities/special_populations/special_populations_massage.json","modalities/structural_integration.json","modalities/techniques/arom_prom.json","modalities/techniques/beginning_a_session_tips.json","modalities/techniques/clinical_applications_of_massage_techniques.json","modalities/techniques/clinical_applications_on_muscle_groups.json","modalities/techniques/draping.json","modalities/techniques/effects.json","modalities/techniques/end_feel_types.json","modalities/techniques/fulling_technique.json","modalities/techniques/goniometer.json","modalities/techniques/grounding_techniques.json","modalities/techniques/intermediate.json","modalities/techniques/ischemic_compression.json","modalities/techniques/it_band_massage.json","modalities/techniques/left_vs_right_lateral_lie.json","modalities/techniques/neck_massage.json","modalities/techniques/oils_creams_and_gels.json","modalities/techniques/pain_scale.json","modalities/techniques/palpation/deep_muscle_palpation.json","modalities/techniques/palpation/palpation_landmarks.json","modalities/techniques/palpation/palpation_strategies.json","modalities/techniques/pin_and_stretch.json","modalities/techniques/postural_assessment.json","modalities/techniques/sanitation.json","modalities/techniques/skin_rolling.json","modalities/techniques/spiral_line.json","modalities/techniques/stripping_technique.json","modalities/techniques/torsion.json","modalities/thai/thai_massage.json","modalities/trager/trager_method_intro.json","modalities/trigger_point/referred_pain.json","modalities/trigger_point/trigger_point_massage.json","modalities/trigger_point/trigger_point_referred_pain_patterns.json","modalities/trigger_point/trigger_points.json","modalities/tui-na/tui_na.json","pathology/acute_injury.json","pathology/addisons_disease.json","pathology/aneurysm.json","pathology/arthritis_comparisons.json","pathology/bakers_cysts.json","pathology/burns/first_degree_burns.json","pathology/burns/rule_of_nines.json","pathology/burns/second_degree_burns.json","pathology/burns/third_degree_burns.json","pathology/carcinoma.json","pathology/contraindications/contraindications.json","pathology/deep_vein_thrombosis.json","pathology/encephalitis.json","pathology/endangerment_sites.json","pathology/frozen_shoulder.json","pathology/gait_patterns.json","pathology/gate_control_theory.json","pathology/gout.json","pathology/herpes_simplex.json","pathology/herpes_zoster.json","pathology/hydrocephaly.json","pathology/hypermobility.json","pathology/hypomobility.json","pathology/impetigo.json","pathology/kyphosis_lordosis.json","pathology/neuromuscular_disorders/carpal_tunnel_syndrome.json","pathology/neuromuscular_disorders/myofascial_pain_syndrome.json","pathology/neuromuscular_disorders/thoracic_outlet_syndrome.json","pathology/osgood_schlatters_disease.json","pathology/pathology_beginner.json","pathology/pathology_i.json","pathology/pathology_ii.json","pathology/pathology_iii.json","pathology/postural_analysis.json","pathology/pulmonary_embolism.json","pathology/skin_leisions.json","pathology/stages_of_wound_healing.json","pathology/thrombophelbitis.json","pathology/urticaria.json","pathology/varicose_veins.json","terminology/prefixes_and_suffixes/prefixes.json","terminology/prefixes_and_suffixes/suffixes.json","terminology/terminology.json","terminology/thixotropy.json"];async function ak(){const i=Date.now();try{const e=await $S();return console.log("[useQuizData] getQuestions resolved in",Date.now()-i,"ms"),e}catch(e){throw console.error("[useQuizData] getQuestions failed after",Date.now()-i,"ms:",e),e}}function ok(i,e){const[t,s]=U.useState([]),[o,u]=U.useState(!0),[h,m]=U.useState(null),p=sk.map(g=>g.replace(/\.json$/,""));return U.useEffect(()=>{const g=Date.now();ak().then(S=>{s(S),!i&&p.length>0&&e(p.at(-1)??""),console.log("[useQuizData] setQuestions done in",Date.now()-g,"ms")}).catch(S=>{console.log("[useQuizData] Failed to load questions:",S),m("Error: Failed to load questions. Could not load questions.")}).finally(()=>{u(!1),console.log("[useQuizData] setLoading(false) after",Date.now()-g,"ms")}),KS("demoUser"),Io().currentUser},[]),{questions:t,setQuestions:s,loading:o,setLoading:u,error:h,setError:m,availableTopics:p}}let WS;if(typeof window<"u")try{const i=window.localStorage.getItem("quizToggleState");i&&(WS=JSON.parse(i))}catch{}const lk=()=>{const i=ur(),[e,t]=U.useState(""),[s,o]=Xj(WS),{started:u,setStarted:h,showResults:m,setShowResults:p,current:g,setCurrent:v,userAnswers:b,setUserAnswers:S,shuffledQuestions:k,setShuffledQuestions:O,shuffledOptions:G,setShuffledOptions:z,filter:Q,setFilter:X,filterValue:ee,setFilterValue:oe}=Wj(),[ce]=U.useState(!1),[ue,x]=U.useState([]),[R,I]=U.useState(5),{questions:j,setQuestions:V,loading:P,setLoading:D}=ok(e,t),ht=()=>v(me=>Math.min(me+1,(u?k.length:ae.length)-1)),it=()=>v(me=>Math.max(me-1,0)),Y=me=>{const he=[...b];he[g]=me,S(he)};U.useEffect(()=>{u||(X("all"),oe(""))},[u]);const ae=Zj(j,e,Q,ee,b,G),ge=u?k:ae,De=ge[g],N=u?k.length:ae.length,ie=N>0?Math.round(b.filter(me=>me!==void 0).length/N*100):0;U.useEffect(()=>{$S().then(Ee=>{V(Ee);const Je=[...Array.from(new Set(Ee.map(lt=>lt.topics&&lt.topics[lt.topics.length-1]||"Other")))].sort((lt,on)=>lt.localeCompare(on));x(Je),!e&&Je.length>0&&t(Je[0])}).finally(()=>{D(!1)}),KS("demoUser"),Io().currentUser},[]),U.useEffect(()=>{if(u&&De){const he=b[g]??0,Ee=document.querySelector(`input[type="radio"][name="question-${g}-option-${he}"]`);Ee&&"focus"in Ee&&typeof Ee.focus=="function"&&Ee.focus()}if(!u)return;const me=he=>{const Ee=document.activeElement;if(!(Ee&&Ee.hasAttribute&&Ee.hasAttribute("data-quiz-radio"))&&!(Ee&&(Ee.tagName==="INPUT"||Ee.tagName==="TEXTAREA"))){if(he.key==="ArrowRight"||he.key==="ArrowLeft"){he.preventDefault(),he.key==="ArrowRight"?ht():it();return}if(/^[1-9]$/.test(he.key)){const Ce=parseInt(he.key,10)-1;De&&De.options[Ce]&&Y(Ce)}}};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[g,u,De]);const le=()=>{h(!0),D(!0),v(0),S(Array(ye).fill(void 0)),p(!1);let me=[...ae];if(s.randomizeQuestions)for(let Ee=me.length-1;Ee>0;Ee--){const Ce=Math.floor(Math.random()*(Ee+1));[me[Ee],me[Ce]]=[me[Ce],me[Ee]]}me=me.slice(0,ye),O(me);const he={};me.forEach((Ee,Ce)=>{if(he[Ce]=[...Ee.options||[]],s.randomizeOptions)for(let Je=he[Ce].length-1;Je>0;Je--){const lt=Math.floor(Math.random()*(Je+1));[he[Ce][Je],he[Ce][lt]]=[he[Ce][lt],he[Ce][Je]]}}),z(he),D(!1)},re=me=>{let he=j.filter(Ee=>Array.isArray(Ee.topics)&&Ee.topics.includes(me)&&!0);if(he.length>0){h(!0),p(!1),v(0),S(Array(he.length).fill(void 0)),O(he);const Ee={};he.forEach((Ce,Je)=>{if(Ee[Je]=[...Ce.options||[]],s.randomizeOptions)for(let lt=Ee[Je].length-1;lt>0;lt--){const on=Math.floor(Math.random()*(lt+1));[Ee[Je][lt],Ee[Je][on]]=[Ee[Je][on],Ee[Je][lt]]}}),z(Ee)}};U.useEffect(()=>{i.state&&i.state.startMissedUnanswered&&i.state.topic&&(t(i.state.topic),!P&&j.length>0&&(re(i.state.topic),window.history.replaceState({},document.title)))},[i.state,P,j]);const ye=ae.length;return P?A.jsx(rk,{}):m?A.jsx(ik,{topicStats:{},onStartNewQuiz:()=>{p(!1),h(!1),v(0),S(Array(ye).fill(void 0))},isAllIncorrect:!1,q:De,userAnswers:b,shuffledOptions:G,activeQuestions:ge,onStartMissedUnansweredQuiz:re}):u&&De?A.jsxs("div",{children:[A.jsx(Fj,{progress:ie}),A.jsx(Hj,{current:g,total:N,answered:b.map(me=>me!==void 0),onStep:v}),A.jsx(qj,{q:De,current:g,userAnswers:b,handleAnswer:Y,answerFeedback:null,showExplanations:s.showExplanations,shuffledOptions:G,isReviewMode:ce,showInstantFeedback:s.instantFeedback,onPrev:it,onNext:ht,onFinish:()=>p(!0),total:N,answered:b[g]!==void 0})]}):A.jsx(Kj,{availableTopics:ue,selectedTopic:e,setSelectedTopic:t,quizLength:R,setQuizLength:I,maxQuizLength:ye,sort:"",setSort:()=>{},onStart:le,filter:Q,setFilter:me=>X(me),filterValue:ee,setFilterValue:oe,toggleState:s,setToggleState:o})},uk=async()=>{try{const i="/Massage-Therapy-FIREBASE-PRO/badges/badges.json";console.log("[DEBUG] Fetching badges.json from:",i);const e=await window.fetch(i);if(!e.ok)throw console.error("[DEBUG] Failed to load badge metadata:",e.status,e.statusText),new Error("Failed to load badge metadata");const t=await e.json();return console.log("[DEBUG] badges.json loaded:",t),t}catch(i){throw console.error("[DEBUG] Error fetching badges.json:",i),i}},ck=({open:i,onClose:e,children:t,className:s="",style:o={}})=>{const u=U.useRef(null);return U.useEffect(()=>{var h;i&&((h=u.current)==null||h.focus())},[i]),i?A.jsx("div",{ref:u,"data-testid":"modal-overlay",className:`modal-summary${s?" "+s:""}`,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,...o},tabIndex:-1,onClick:e,onKeyDown:h=>{h.key==="Escape"&&e()},children:A.jsxs("div",{style:{background:"#fff",borderRadius:16,padding:32,minWidth:320,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto"},onClick:h=>h.stopPropagation(),children:[A.jsx("button",{onClick:e,style:{position:"absolute",top:24,right:32,background:"none",border:"none",fontSize:24,cursor:"pointer",color:"#64748b"},"aria-label":"Close Modal","data-testid":"badge-modal-close-top",children:"×"}),t]})}):null},hk=({badge:i,open:e,onClose:t})=>{const[s,o]=U.useState(!1),u=U.useRef(null);return U.useEffect(()=>{e&&u.current&&u.current.focus()},[e]),i?A.jsx(ck,{open:e,onClose:t,children:A.jsxs("div",{style:{textAlign:"center"},"data-testid":"badge-modal",children:[A.jsx("img",{src:s?"/Massage-Therapy-FIREBASE-PRO/badges/badge_test.png":`/Massage-Therapy-FIREBASE-PRO/badges/${i.id}.png`,alt:i.name,style:{width:160,height:160,marginBottom:16},onError:()=>o(!0),"data-testid":"badge-image"}),A.jsx("h2",{style:{marginBottom:8},children:i.name}),A.jsx("p",{style:{fontStyle:"italic",color:"#64748b",marginBottom:12},children:i.description}),A.jsxs("div",{style:{fontSize:15,color:"#2563eb",marginBottom:8},children:[A.jsx("strong",{children:"Criteria:"})," ",i.criteria]}),i.awarded&&A.jsx("div",{style:{color:"#22c55e",fontWeight:600,marginTop:8},children:"Earned!"}),A.jsx("button",{ref:u,onClick:t,style:{marginTop:24,padding:"0.5rem 1.2rem",borderRadius:8,border:"none",background:"#3b82f6",color:"#fff",fontSize:16,cursor:"pointer"},"aria-label":"Close badge modal","data-testid":"badge-modal-close-bottom",children:"Close"})]})}):null},fk=()=>{const[i,e]=U.useState([]),[t,s]=U.useState(null),[o,u]=U.useState(null),h=U.useRef(null),m="/Massage-Therapy-FIREBASE-PRO/badges/badge_test.png";return U.useEffect(()=>{const p=new window.Image;p.src=m},[]),U.useEffect(()=>{uk().then(p=>{e(p),(!p||p.length===0)&&u("No badges found. Please check badge data or network.")}).catch(p=>{u("Failed to load badges."),console.error("[DEBUG] Error loading badges:",p)})},[]),U.useEffect(()=>{!t&&h.current&&h.current.focus()},[t]),A.jsxs("div",{children:[A.jsx("h2",{children:"Achievements"}),o&&A.jsx("div",{style:{color:"red",marginBottom:16},"data-testid":"badge-error",children:o}),i.length===0&&!o&&A.jsx("div",{style:{color:"orange",marginBottom:16},"data-testid":"badge-empty",children:"No badges to display. (Debug: badge list is empty but no error was thrown.)"}),A.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24},children:i.map(p=>A.jsxs("div",{"data-testid":"badge-container",style:{textAlign:"center"},tabIndex:0,role:"button","aria-label":`Open badge modal for badge: ${p.name}`,onClick:g=>{t||(h.current=g.currentTarget,s(p))},onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&!t&&(g.preventDefault(),h.current=g.currentTarget,s(p))},children:[A.jsx("img",{src:`/Massage-Therapy-FIREBASE-PRO/badges/${p.image}`,alt:p.name,loading:"eager",style:{width:80,height:80,borderRadius:16,background:"rgba(255,255,255,0.2)",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",opacity:p.awarded?1:.5},"data-testid":p.awarded?"badge-awarded":"badge-unawarded",onError:g=>{console.error("Badge image failed to load:",g.currentTarget.src)},onLoad:g=>{console.log("Badge image loaded:",g.currentTarget.src)}}),A.jsx("div",{style:{marginTop:8},children:p.name})]},p.id))}),t&&A.jsx(hk,{badge:t,open:!0,onClose:()=>s(null)})]})},dk={apiKey:"AIzaSyANzEDUkGjM0M6L6dwZd1-TaOy1olo_6OM",authDomain:"massage-therapy-smart-st-c7f8f.firebaseapp.com",projectId:"massage-therapy-smart-st-c7f8f",storageBucket:"massage-therapy-smart-st-c7f8f.firebasestorage.app",messagingSenderId:"278320425266",appId:"1:278320425266:web:e9c93be0473651351ccf2b",measurementId:"G-SWVWKNWDD3"},mk=i0().length?i0()[0]:Tp(dk),PE=Nb(mk),pk=()=>{const i=Ph(),[e,t]=U.useState({quizzesTaken:0,correctAnswers:0,totalQuestions:0,accuracy:0,streak:0,badges:0}),[s,o]=U.useState(null),[u,h]=U.useState({});U.useEffect(()=>{const p=Io(),g=vg(p,v=>{o(v)});return()=>g()},[]),U.useEffect(()=>{if(!s)return;const p=Rh(PE,"users",s.uid,"stats","analytics"),g=lE(p,S=>{if(S.exists()){const k=S.data();t({quizzesTaken:k.completed||0,correctAnswers:k.correct||0,totalQuestions:k.total||0,accuracy:k.total?Math.round(k.correct/k.total*100):0,streak:k.streak||0,badges:k.badges||0})}else t({quizzesTaken:0,correctAnswers:0,totalQuestions:0,accuracy:0,streak:0,badges:0})}),v=Rh(PE,"users",s.uid,"stats","topicStats"),b=lE(v,S=>{S.exists()?h(S.data()||{}):h({})});return()=>{g(),b()}},[s]);const m=p=>{i("/quiz",{state:{startMissedUnanswered:!0,topic:p}})};return s?A.jsxs("div",{children:[A.jsx("h1",{children:"Analytics"}),A.jsxs("div",{style:{display:"flex",gap:32,flexWrap:"wrap",marginTop:24},children:[A.jsxs("div",{children:[A.jsx("strong",{children:"Quizzes Taken:"})," ",e.quizzesTaken]}),A.jsxs("div",{children:[A.jsx("strong",{children:"Correct Answers:"})," ",e.correctAnswers," / ",e.totalQuestions]}),A.jsxs("div",{children:[A.jsx("strong",{children:"Accuracy:"})," ",e.accuracy,"%"]}),A.jsxs("div",{children:[A.jsx("strong",{children:"Current Streak:"})," ",e.streak," days"]}),A.jsxs("div",{children:[A.jsx("strong",{children:"Badges Earned:"})," ",e.badges]})]}),A.jsxs("div",{style:{marginTop:32},children:[A.jsx("h3",{children:"Topic Breakdown"}),A.jsx(XS,{topicStats:u,onStartMissedUnansweredQuiz:m})]}),A.jsx("div",{style:{marginTop:32},children:A.jsx("h3",{children:"Quiz Activity (Last 14 Days)"})})]}):A.jsx("div",{children:"Please sign in to view your analytics."})},gk=async i=>{const e=Rh(uf,"users",i),t=await iD(e);if(t.exists()){const o=t.data();return typeof window<"u"&&console.log("[DEBUG][userSettings] getUserSettings:",i,o),o}const s={showExplanations:!0,darkMode:!1,ariaSound:!0,haptic:!1};return typeof window<"u"&&console.log("[DEBUG][userSettings] getUserSettings: no data, returning defaults for",i,s),s},yk=async(i,e)=>{const t=Rh(uf,"users",i);typeof window<"u"&&console.log("[DEBUG][userSettings] setUserSettings:",i,e),await rD(t,e,{merge:!0})},Nm=Io(bu),_k=new vi,vk=()=>{var ce;const[i,e]=U.useState(null),[t,s]=U.useState(!1),[o,u]=U.useState(!0),[h,m]=U.useState(!1),[p,g]=U.useState(!0),[v,b]=U.useState(""),[S,k]=U.useState(""),[O,G]=U.useState(null),[z,Q]=U.useState(!1);U.useEffect(()=>{const ue=vg(Nm,x=>{e(x),typeof window<"u"&&(window._E2E_USER=x,console.log("[E2E DEBUG] Profile user:",x),window.localStorage&&(x?window.localStorage.setItem("firebaseUserUid",x.uid):window.localStorage.removeItem("firebaseUserUid")))});return()=>ue()},[]),U.useEffect(()=>{document.body.classList.toggle("dark-mode",t)},[t]),U.useEffect(()=>{i&&(Q(!1),console.log("[DEBUG] Loading user settings for:",i.uid),gk(i.uid).then(ue=>{if(console.log("[E2E DEBUG][Profile] getUserSettings resolved:",ue),!ue){Q(!0);return}typeof window<"u"&&window.localStorage&&(console.log("[E2E DEBUG][Profile] Writing userSettings to localStorage:",ue),window.localStorage.setItem("userSettings",JSON.stringify(ue))),s(!!ue.darkMode),u(ue.ariaSound!==!1),m(!!ue.haptic),g(ue.showExplanations!==!1),Q(!0),console.log("[E2E DEBUG][Profile] settingsLoaded set to true")}))},[i]),U.useEffect(()=>{if(!i||!z)return;const ue={darkMode:t,ariaSound:o,haptic:h,showExplanations:p};console.log("[DEBUG] Saving user settings for:",i.uid,ue),yk(i.uid,ue)},[i,t,o,h,p,z]);const X=async()=>{try{await GS(Nm,_k)}catch{}},ee=async()=>{await RN(Nm)},oe=()=>alert("Reset all user data (implement logic)");return A.jsxs("div",{style:{textAlign:"center"},"data-testid":"profile-page",role:"form",children:[A.jsx("h2",{children:"Profile"}),A.jsx("img",{src:i&&i.photoURL?i.photoURL:"/Massage-Therapy-FIREBASE-PRO/default_avatar.png",alt:"User Avatar",style:{width:120,height:120,borderRadius:"50%",margin:"1rem auto",display:"block",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}),A.jsx("div",{style:{fontWeight:600,fontSize:20,marginBottom:16},children:i?i.displayName:"Guest"}),i&&A.jsx("div",{"data-testid":"profile-uid",style:{fontSize:12,color:"#888",marginBottom:8},children:(ce=i.email)==null?void 0:ce.split("@")[0]}),z?A.jsxs("div",{style:{margin:"2rem auto",maxWidth:340,textAlign:"left"},children:[A.jsx("h3",{children:"Settings"}),A.jsxs("label",{style:{display:"block",marginBottom:8},children:[A.jsx("input",{type:"checkbox",checked:t,onChange:ue=>s(ue.target.checked),"aria-label":"Toggle dark mode"})," Dark Mode"]}),A.jsxs("label",{style:{display:"block",marginBottom:8},children:[A.jsx("input",{type:"checkbox",checked:o,onChange:ue=>u(ue.target.checked),"aria-label":"Toggle aria sound"})," Aria Sound"]}),A.jsxs("label",{style:{display:"block",marginBottom:8},children:[A.jsx("input",{type:"checkbox",checked:h,onChange:ue=>m(ue.target.checked),"aria-label":"Toggle haptic feedback"})," Haptic Feedback"]}),A.jsxs("label",{style:{display:"block",marginBottom:8},children:[A.jsx("input",{type:"checkbox",checked:p,onChange:ue=>g(ue.target.checked),"aria-label":"Toggle show explanations"})," Show Explanations"]})]}):A.jsx("div",{style:{margin:"2rem auto",maxWidth:340,textAlign:"center"},children:A.jsx("span",{children:"Loading settings…"})}),A.jsxs("div",{style:{marginTop:32},children:[i?A.jsx("button",{onClick:ee,"aria-label":"Sign out",children:"Sign Out"}):A.jsx("button",{onClick:X,"aria-label":"Sign in with Google",children:"Sign In with Google"}),A.jsx("button",{onClick:oe,style:{marginLeft:16},"aria-label":"Reset all user data",children:"Reset All"})]}),!1]})},Ek=()=>A.jsx("footer",{className:"app-footer",children:A.jsx("input",{className:"question-search-bar",type:"text",placeholder:"Search questions...","aria-label":"Search questions"})});function Tk(){return{logEvent:U.useCallback((e,t)=>{lp?dS(lp,e,t):console.log("[analytics]",e,t)},[])}}var bk={};const jm=Io(bu),Sk=new vi;function LE(){return typeof window<"u"&&window.location.port==="9099"||typeof process<"u"&&bk.VITE_USE_FIREBASE_EMULATOR==="true"}const wk=[{icon:"📝",title:"Practice Quizzes",desc:"Test your knowledge with interactive quizzes and instant feedback."},{icon:"📈",title:"Track Progress",desc:"See your stats, streaks, and improvement over time."},{icon:"🏆",title:"Earn Achievements",desc:"Unlock badges and celebrate your learning milestones."}],Ak=()=>{const i=Ph(),e=Ut.useRef(null),[t,s]=Ut.useState(!1),[o,u]=Ut.useState(""),[h,m]=Ut.useState(""),[p,g]=Ut.useState(null),[v,b]=Ut.useState(null);Ut.useEffect(()=>vg(jm,b),[]);const S=async O=>{if(O.preventDefault(),LE()){i("/profile");return}try{await GS(jm,Sk),i("/profile")}catch{}},k=async O=>{O.preventDefault(),g(null);try{await SN(jm,o,h),i("/profile")}catch(G){g(G.message||"Sign in failed")}};return A.jsxs("div",{style:{position:"relative",minHeight:"100vh",background:"linear-gradient(135deg, #1e3c28 0%, #2e7d4f 100%)",overflow:"hidden",padding:0},children:[A.jsx("a",{href:"#main-content",style:{position:"absolute",left:-9999,top:"auto",width:1,height:1,overflow:"hidden",zIndex:1e3},className:"skip-link",children:"Skip to main content"}),A.jsxs("svg",{"aria-hidden":"true",style:{position:"absolute",top:-120,left:-120,zIndex:0,opacity:.18,pointerEvents:"none"},width:"600",height:"600",viewBox:"0 0 600 600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("ellipse",{cx:"300",cy:"300",rx:"300",ry:"220",fill:"#6ee7b7",style:{transformOrigin:"center",animation:"blobScale 7s cubic-bezier(.4,2,.6,1) infinite alternate, blobColor 12s cubic-bezier(.4,2,.6,1) infinite alternate, blobRotate 18s linear infinite",filter:"blur(0px) drop-shadow(0 0 32px #6ee7b7aa)"}}),A.jsx("style",{children:`
          @keyframes blobScale {
            0% { transform: scaleX(1) scaleY(1); }
            20% { transform: scaleX(1.12) scaleY(0.93); }
            40% { transform: scaleX(0.92) scaleY(1.13); }
            60% { transform: scaleX(1.08) scaleY(0.98); }
            80% { transform: scaleX(0.97) scaleY(1.09); }
            100% { transform: scaleX(1) scaleY(1); }
          }
          @keyframes blobColor {
            0% { fill: #6ee7b7; }
            25% { fill: #3b82f6; }
            50% { fill: #a5b4fc; }
            75% { fill: #3b82f6; }
            100% { fill: #6ee7b7; }
          }
          @keyframes blobRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}),A.jsxs("div",{id:"main-content",className:"glass-card",style:{margin:"3.5rem auto 2rem",maxWidth:700,textAlign:"center",position:"relative",zIndex:1,boxShadow:"0 8px 32px rgba(0,0,0,0.18)",width:"90vw",minWidth:0,padding:"1.2rem 1.1rem",opacity:0,transform:"translateY(32px)",animation:"fadeInCard 1.1s cubic-bezier(.4,2,.6,1) 0.2s forwards"},children:[LE()&&!v?A.jsxs("form",{onSubmit:k,style:{marginTop:32,maxWidth:340,marginLeft:"auto",marginRight:"auto",background:"#f8f8f8",padding:16,borderRadius:8},"data-testid":"test-signin-form",children:[A.jsx("h4",{children:"Test/Dev Email Sign-In"}),A.jsx("input",{type:"email",placeholder:"Test Email",value:o,onChange:O=>u(O.target.value),style:{width:"100%",marginBottom:8},autoComplete:"username","aria-label":"Test email",required:!0,"data-testid":"test-signin-email"}),A.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:O=>m(O.target.value),style:{width:"100%",marginBottom:8},autoComplete:"current-password","aria-label":"Test password",required:!0,"data-testid":"test-signin-password"}),A.jsx("button",{type:"submit",style:{width:"100%"},"aria-label":"Sign in with email","data-testid":"test-signin-submit",children:"Sign In (Test Only)"}),p&&A.jsx("div",{style:{color:"red",marginTop:8},children:p})]}):A.jsx("button",{ref:e,className:"main-btn",style:{padding:"0.85rem 2.2rem",background:"linear-gradient(90deg, #3b82f6 60%, #6ee7b7 100%)",color:"#fff",borderRadius:10,textDecoration:"none",fontWeight:600,fontSize:"1.1rem",boxShadow:"0 2px 8px rgba(59,130,246,0.08)",transition:"background 0.2s, transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",border:"none",cursor:"pointer",outline:"none",width:"100%",maxWidth:320,marginBottom:10},onClick:S,"aria-label":"Sign in with Google",children:"Sign In with Google"}),A.jsx("a",{href:"/quiz",className:"main-btn",style:{padding:"0.85rem 2.2rem",background:"linear-gradient(90deg, #00b894 60%, #3b82f6 100%)",color:"#fff",borderRadius:10,textDecoration:"none",fontWeight:600,fontSize:"1.1rem",boxShadow:"0 2px 8px rgba(0,184,148,0.08)",transition:"background 0.2s, transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",outline:"none",width:"100%",maxWidth:320,marginBottom:10,display:"inline-block",textAlign:"center"},"aria-label":"Explore quizzes",onClick:O=>{O.preventDefault(),s(!0),i("/quiz")},children:"Explore Quizzes"}),t&&A.jsxs("div",{style:{background:"rgba(110,231,183,0.13)",color:"#1e3c28",borderRadius:8,padding:"0.7rem 1.2rem",margin:"0 auto 1.2rem",maxWidth:420,fontSize:"1rem",fontWeight:500},children:[A.jsx("span",{role:"img","aria-label":"Lightbulb",style:{marginRight:8},children:"💡"}),"Tip: You can try quizzes without signing in, but signing in lets you track your progress and earn achievements!"]}),A.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:24,marginTop:36,flexWrap:"wrap"},children:[wk.map((O,G)=>{let z="/";return O.title==="Practice Quizzes"?z="/quiz":O.title==="Track Progress"?z="/analytics":O.title==="Earn Achievements"&&(z="/achievements"),A.jsxs("button",{type:"button",className:"feature-card",style:{background:"rgba(255,255,255,0.10)",borderRadius:14,padding:"1.1rem 1.3rem",minWidth:140,maxWidth:220,margin:"0.5rem 0",boxShadow:"0 2px 12px rgba(30,60,40,0.08)",textAlign:"center",color:"#eafff2",fontWeight:500,fontSize:"1.04rem",border:"1.5px solid transparent",display:"flex",flexDirection:"column",alignItems:"center",gap:8,flex:"1 1 120px",boxSizing:"border-box",opacity:0,transform:"translateY(24px)",animation:`fadeInUp 0.7s ${.15+G*.13}s cubic-bezier(.4,2,.6,1) forwards, floatCard 4.2s ${(G*.7).toFixed(2)}s ease-in-out infinite alternate`,cursor:"pointer",transition:"transform 0.22s cubic-bezier(.4,2,.6,1), box-shadow 0.22s cubic-bezier(.4,2,.6,1), border 0.4s",outline:"none",position:"relative",overflow:"hidden"},"aria-label":O.title+" (click to view)",onClick:Q=>{const X=Q.currentTarget,ee=document.createElement("span");ee.className="ripple";const oe=X.getBoundingClientRect();ee.style.left=`${Q.clientX-oe.left}px`,ee.style.top=`${Q.clientY-oe.top}px`,X.appendChild(ee),setTimeout(()=>ee.remove(),600),i(z)},onKeyDown:Q=>{(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),i(z))},children:[A.jsx("span",{className:"feature-card-icon",style:{fontSize:"2.1rem",marginBottom:4},"aria-hidden":"true",children:O.icon}),A.jsx("span",{className:"feature-card-title",style:{fontWeight:700,fontSize:"1.08rem",marginBottom:2,wordBreak:"break-word"},children:O.title}),A.jsx("span",{className:"feature-card-desc",style:{fontSize:"0.98rem",lineHeight:1.3},children:O.desc}),A.jsx("span",{className:"feature-card-border","aria-hidden":"true"})]},O.title)}),A.jsx("style",{children:`
            @keyframes fadeInUp {
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
            @keyframes fadeInCard {
              from {
                opacity: 0;
                transform: translateY(32px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
            @keyframes floatCard {
              0% { transform: translateY(0); }
              50% { transform: translateY(-8px) scale(1.03); }
              100% { transform: translateY(0); }
            }
            .feature-card {
              position: relative;
              z-index: 1;
            }
            .feature-card-icon, .feature-card-title, .feature-card-desc {
              opacity: 0.68;
              transform: scale(1);
              transition: opacity 0.18s cubic-bezier(.4,2,.6,1), transform 0.22s cubic-bezier(.4,2,.6,1);
              will-change: transform, opacity;
            }
            .feature-card-icon {
              color: #6ee7b7cc;
            }
            .feature-card-title {
              color: #6ee7b7cc;
            }
            .feature-card-desc {
              color: #eafff2cc;
            }
            button.feature-card:hover .feature-card-icon,
            button.feature-card:focus-visible .feature-card-icon,
            button.feature-card:hover .feature-card-title,
            button.feature-card:focus-visible .feature-card-title,
            button.feature-card:hover .feature-card-desc,
            button.feature-card:focus-visible .feature-card-desc {
              opacity: 1 !important;
              transform: scale(1.12) !important;
            }
            button.feature-card:hover .feature-card-title,
            button.feature-card:focus-visible .feature-card-title {
              color: #6ee7b7 !important;
            }
            button.feature-card:hover .feature-card-desc,
            button.feature-card:focus-visible .feature-card-desc {
              color: #eafff2 !important;
            }
            .feature-card-border {
              pointer-events: none;
              content: '';
              position: absolute;
              inset: -2px;
              border-radius: 16px;
              z-index: 2;
              border: 2.5px solid transparent;
              background: linear-gradient(120deg, #6ee7b7, #3b82f6, #a5b4fc, #6ee7b7 90%);
              background-size: 300% 300%;
              animation: borderMove 3.5s linear infinite;
              opacity: 0.7;
              filter: blur(1.2px);
              transition: opacity 0.2s;
            }
            @keyframes borderMove {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            .feature-card:hover .feature-card-border,
            .feature-card:focus-visible .feature-card-border {
              opacity: 1;
              filter: blur(0.2px) drop-shadow(0 0 8px #6ee7b7cc);
            }
            .feature-card:hover, .feature-card:focus-visible {
              transform: scale(1.08) translateY(-4px) !important;
              box-shadow: 0 6px 32px 0 #6ee7b7cc, 0 2px 12px rgba(30,60,40,0.13);
              z-index: 2;
              border-color: #6ee7b7;
            }
            .feature-card:active {
              transform: scale(0.97) translateY(1px) !important;
              box-shadow: 0 2px 8px 0 #6ee7b788, 0 2px 8px rgba(30,60,40,0.10);
            }
            /* Ripple effect */
            .ripple {
              position: absolute;
              border-radius: 50%;
              transform: scale(0);
              animation: ripple 0.6s linear;
              background: rgba(110,231,183,0.25);
              pointer-events: none;
              z-index: 3;
              width: 120px;
              height: 120px;
              opacity: 0.7;
            }
            @keyframes ripple {
              to {
                transform: scale(2.5);
                opacity: 0;
              }
            }
            .main-btn {
              transition: background 0.2s, transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1);
              will-change: transform;
              outline: none;
            }
            .main-btn:hover, .main-btn:focus-visible {
              transform: scale(1.08);
              box-shadow: 0 0 0 3px #6ee7b7cc, 0 6px 32px 0 #6ee7b7cc, 0 2px 12px rgba(30,60,40,0.13);
              z-index: 2;
            }
            .main-btn:active {
              transform: scale(0.97);
            }
          `})]}),A.jsxs("footer",{style:{marginTop:40,color:"#eafff2a0",fontSize:14},children:["© ",new Date().getFullYear()," Massage Therapy Pro — All rights reserved.",A.jsxs("nav",{style:{marginTop:24,display:"flex",justifyContent:"center",gap:32},"aria-label":"Footer navigation",children:[A.jsx("a",{href:"/about",className:"footer-nav-link",style:{color:"#6ee7b7",textDecoration:"underline",fontWeight:500,fontSize:16},children:"About"}),A.jsx("a",{href:"/privacy",className:"footer-nav-link",style:{color:"#6ee7b7",textDecoration:"underline",fontWeight:500,fontSize:16},children:"Privacy"}),A.jsx("a",{href:"/contact",className:"footer-nav-link",style:{color:"#6ee7b7",textDecoration:"underline",fontWeight:500,fontSize:16},children:"Contact"})]})]})]})]})},Rk=()=>{const{logEvent:i}=Tk(),[e,t]=Ut.useState(!0);return Ut.useEffect(()=>{i("app_loaded");const s=setTimeout(()=>t(!1),600);return()=>clearTimeout(s)},[i]),e?A.jsxs("div",{className:"app-loading-root",style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:[A.jsxs("div",{children:[A.jsx("div",{className:"spinner",style:{margin:"0 auto",width:48,height:48,border:"6px solid #eee",borderTop:"6px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),A.jsx("div",{style:{marginTop:16,color:"#888",fontSize:18},children:"Loading…"})]}),A.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]}):A.jsxs(K1,{basename:"/Massage-Therapy-FIREBASE-PRO/",children:[!1,A.jsx(rR,{}),A.jsx(sR,{}),A.jsx("main",{className:"main-content",role:"main",children:A.jsxs(w1,{children:[A.jsx(Bs,{path:"/",element:A.jsx(Ak,{})}),A.jsx(Bs,{path:"/quiz",element:A.jsx(lk,{})}),A.jsx(Bs,{path:"/achievements",element:A.jsx(fk,{})}),A.jsx(Bs,{path:"/analytics",element:A.jsx(pk,{})}),A.jsx(Bs,{path:"/profile",element:A.jsx(vk,{})}),A.jsx(Bs,{path:"*",element:A.jsx(b1,{to:"/",replace:!0})})]})}),A.jsx(Ek,{})]})},Ik=document.getElementById("root"),Ck=NA.createRoot(Ik);Ck.render(A.jsx(Rk,{}));
